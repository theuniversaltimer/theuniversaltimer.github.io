var Gf=Object.defineProperty;var Yf=(e,t,n)=>t in e?Gf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Dc=(e,t,n)=>Yf(e,typeof t!="symbol"?t+"":t,n);import{r as L,a as Xf,c as xn,g as lo,R as ct}from"./react-KfUPlHYY.js";import{p as Ec,i as Oc,s as Qf,a as Jf,b as eh,d as ei,f as os}from"./time-DhmfmXrz.js";import{u as $u,a as Lu,D as th,C as nh,b as rh,c as Nc,d as ih,p as oh,P as ah,T as sh}from"./dnd-NKLodV6J.js";function ch(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const l=Object.getOwnPropertyDescriptor(r,i);l&&Object.defineProperty(e,i,l.get?l:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();var Bu={exports:{}},uo={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lh=L,uh=Symbol.for("react.element"),ph=Symbol.for("react.fragment"),dh=Object.prototype.hasOwnProperty,fh=lh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hh={key:!0,ref:!0,__self:!0,__source:!0};function Vu(e,t,n){var r,i={},l=null,c=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(c=t.ref);for(r in t)dh.call(t,r)&&!hh.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:uh,type:e,key:l,ref:c,props:i,_owner:fh.current}}uo.Fragment=ph;uo.jsx=Vu;uo.jsxs=Vu;Bu.exports=uo;var x=Bu.exports,wa={},Mc=Xf;wa.createRoot=Mc.createRoot,wa.hydrateRoot=Mc.hydrateRoot;function Nt(){return"blk_"+Math.random().toString(36).slice(2,8)+"_"+Date.now().toString(36)}var Uu={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(xn,function(){var n=function(o,s){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(p[v]=h[v])})(o,s)},r=function(){return(r=Object.assign||function(o){for(var s,p=1,h=arguments.length;p<h;p++)for(var v in s=arguments[p])Object.prototype.hasOwnProperty.call(s,v)&&(o[v]=s[v]);return o}).apply(this,arguments)};function i(o,s,p){for(var h,v=0,b=s.length;v<b;v++)!h&&v in s||((h=h||Array.prototype.slice.call(s,0,v))[v]=s[v]);return o.concat(h||Array.prototype.slice.call(s))}var l=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:xn,c=Object.keys,u=Array.isArray;function f(o,s){return typeof s!="object"||c(s).forEach(function(p){o[p]=s[p]}),o}typeof Promise>"u"||l.Promise||(l.Promise=Promise);var m=Object.getPrototypeOf,y={}.hasOwnProperty;function a(o,s){return y.call(o,s)}function d(o,s){typeof s=="function"&&(s=s(m(o))),(typeof Reflect>"u"?c:Reflect.ownKeys)(s).forEach(function(p){_(o,p,s[p])})}var g=Object.defineProperty;function _(o,s,p,h){g(o,s,f(p&&a(p,"get")&&typeof p.get=="function"?{get:p.get,set:p.set,configurable:!0}:{value:p,configurable:!0,writable:!0},h))}function T(o){return{from:function(s){return o.prototype=Object.create(s.prototype),_(o.prototype,"constructor",o),{extend:d.bind(null,o.prototype)}}}}var j=Object.getOwnPropertyDescriptor,k=[].slice;function z(o,s,p){return k.call(o,s,p)}function F(o,s){return s(o)}function G(o){if(!o)throw new Error("Assertion Failed")}function X(o){l.setImmediate?setImmediate(o):setTimeout(o,0)}function J(o,s){if(typeof s=="string"&&a(o,s))return o[s];if(!s)return o;if(typeof s!="string"){for(var p=[],h=0,v=s.length;h<v;++h){var b=J(o,s[h]);p.push(b)}return p}var w=s.indexOf(".");if(w!==-1){var S=o[s.substr(0,w)];return S==null?void 0:J(S,s.substr(w+1))}}function W(o,s,p){if(o&&s!==void 0&&!("isFrozen"in Object&&Object.isFrozen(o)))if(typeof s!="string"&&"length"in s){G(typeof p!="string"&&"length"in p);for(var h=0,v=s.length;h<v;++h)W(o,s[h],p[h])}else{var b,w,S=s.indexOf(".");S!==-1?(b=s.substr(0,S),(w=s.substr(S+1))===""?p===void 0?u(o)&&!isNaN(parseInt(b))?o.splice(b,1):delete o[b]:o[b]=p:W(S=!(S=o[b])||!a(o,b)?o[b]={}:S,w,p)):p===void 0?u(o)&&!isNaN(parseInt(s))?o.splice(s,1):delete o[s]:o[s]=p}}function V(o){var s,p={};for(s in o)a(o,s)&&(p[s]=o[s]);return p}var ne=[].concat;function le(o){return ne.apply([],o)}var Be="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(le([8,16,32,64].map(function(o){return["Int","Uint","Float"].map(function(s){return s+o+"Array"})}))).filter(function(o){return l[o]}),ve=new Set(Be.map(function(o){return l[o]})),Pe=null;function Ae(o){return Pe=new WeakMap,o=function s(p){if(!p||typeof p!="object")return p;var h=Pe.get(p);if(h)return h;if(u(p)){h=[],Pe.set(p,h);for(var v=0,b=p.length;v<b;++v)h.push(s(p[v]))}else if(ve.has(p.constructor))h=p;else{var w,S=m(p);for(w in h=S===Object.prototype?{}:Object.create(S),Pe.set(p,h),p)a(p,w)&&(h[w]=s(p[w]))}return h}(o),Pe=null,o}var ye={}.toString;function Ie(o){return ye.call(o).slice(8,-1)}var ot=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ee=typeof ot=="symbol"?function(o){var s;return o!=null&&(s=o[ot])&&s.apply(o)}:function(){return null};function fe(o,s){return s=o.indexOf(s),0<=s&&o.splice(s,1),0<=s}var Se={};function U(o){var s,p,h,v;if(arguments.length===1){if(u(o))return o.slice();if(this===Se&&typeof o=="string")return[o];if(v=Ee(o)){for(p=[];!(h=v.next()).done;)p.push(h.value);return p}if(o==null)return[o];if(typeof(s=o.length)!="number")return[o];for(p=new Array(s);s--;)p[s]=o[s];return p}for(s=arguments.length,p=new Array(s);s--;)p[s]=arguments[s];return p}var ue=typeof Symbol<"u"?function(o){return o[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},he=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ft=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(he),Z={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function se(o,s){this.name=o,this.message=s}function be(o,s){return o+". Errors: "+Object.keys(s).map(function(p){return s[p].toString()}).filter(function(p,h,v){return v.indexOf(p)===h}).join(`
`)}function Re(o,s,p,h){this.failures=s,this.failedKeys=h,this.successCount=p,this.message=be(o,s)}function we(o,s){this.name="BulkError",this.failures=Object.keys(s).map(function(p){return s[p]}),this.failuresByPos=s,this.message=be(o,this.failures)}T(se).from(Error).extend({toString:function(){return this.name+": "+this.message}}),T(Re).from(se),T(we).from(se);var Oe=Ft.reduce(function(o,s){return o[s]=s+"Error",o},{}),vt=se,de=Ft.reduce(function(o,s){var p=s+"Error";function h(v,b){this.name=p,v?typeof v=="string"?(this.message="".concat(v).concat(b?`
 `+b:""),this.inner=b||null):typeof v=="object"&&(this.message="".concat(v.name," ").concat(v.message),this.inner=v):(this.message=Z[s]||p,this.inner=null)}return T(h).from(vt),o[s]=h,o},{});de.Syntax=SyntaxError,de.Type=TypeError,de.Range=RangeError;var Kt=he.reduce(function(o,s){return o[s+"Error"]=de[s],o},{}),Fe=Ft.reduce(function(o,s){return["Syntax","Type","Range"].indexOf(s)===-1&&(o[s+"Error"]=de[s]),o},{});function Ce(){}function pt(o){return o}function _e(o,s){return o==null||o===pt?s:function(p){return s(o(p))}}function He(o,s){return function(){o.apply(this,arguments),s.apply(this,arguments)}}function gt(o,s){return o===Ce?s:function(){var p=o.apply(this,arguments);p!==void 0&&(arguments[0]=p);var h=this.onsuccess,v=this.onerror;this.onsuccess=null,this.onerror=null;var b=s.apply(this,arguments);return h&&(this.onsuccess=this.onsuccess?He(h,this.onsuccess):h),v&&(this.onerror=this.onerror?He(v,this.onerror):v),b!==void 0?b:p}}function $e(o,s){return o===Ce?s:function(){o.apply(this,arguments);var p=this.onsuccess,h=this.onerror;this.onsuccess=this.onerror=null,s.apply(this,arguments),p&&(this.onsuccess=this.onsuccess?He(p,this.onsuccess):p),h&&(this.onerror=this.onerror?He(h,this.onerror):h)}}function kt(o,s){return o===Ce?s:function(p){var h=o.apply(this,arguments);f(p,h);var v=this.onsuccess,b=this.onerror;return this.onsuccess=null,this.onerror=null,p=s.apply(this,arguments),v&&(this.onsuccess=this.onsuccess?He(v,this.onsuccess):v),b&&(this.onerror=this.onerror?He(b,this.onerror):b),h===void 0?p===void 0?void 0:p:f(h,p)}}function Zt(o,s){return o===Ce?s:function(){return s.apply(this,arguments)!==!1&&o.apply(this,arguments)}}function It(o,s){return o===Ce?s:function(){var p=o.apply(this,arguments);if(p&&typeof p.then=="function"){for(var h=this,v=arguments.length,b=new Array(v);v--;)b[v]=arguments[v];return p.then(function(){return s.apply(h,b)})}return s.apply(this,arguments)}}Fe.ModifyError=Re,Fe.DexieError=se,Fe.BulkError=we;var dt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Tn(o){dt=o}var Ht={},ce=100,Be=typeof Promise>"u"?[]:function(){var o=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[o,m(o),o];var s=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[s,m(s),o]}(),he=Be[0],Ft=Be[1],Be=Be[2],Ft=Ft&&Ft.then,Ve=he&&he.constructor,st=!!Be,Ct=function(o,s){xe.push([o,s]),Gt&&(queueMicrotask(To),Gt=!1)},Rt=!0,Gt=!0,Dt=[],Yt=[],Xt=pt,Y={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ce,pgp:!1,env:{},finalize:Ce},H=Y,xe=[],Ne=0,Je=[];function ee(o){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var s=this._PSD=H;if(typeof o!="function"){if(o!==Ht)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&yt(this,this._value))}this._state=null,this._value=null,++s.ref,function p(h,v){try{v(function(b){if(h._state===null){if(b===h)throw new TypeError("A promise cannot be resolved with itself.");var w=h._lib&&cn();b&&typeof b.then=="function"?p(h,function(S,P){b instanceof ee?b._then(S,P):b.then(S,P)}):(h._state=!0,h._value=b,zt(h)),w&&ln()}},yt.bind(null,h))}catch(b){yt(h,b)}}(this,o)}var ft={get:function(){var o=H,s=li;function p(h,v){var b=this,w=!o.global&&(o!==H||s!==li),S=w&&!pn(),P=new ee(function(C,N){wr(b,new At(ec(h,o,w,S),ec(v,o,w,S),C,N,o))});return this._consoleTask&&(P._consoleTask=this._consoleTask),P}return p.prototype=Ht,p},set:function(o){_(this,"then",o&&o.prototype===Ht?ft:{get:function(){return o},set:ft.set})}};function At(o,s,p,h,v){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof s=="function"?s:null,this.resolve=p,this.reject=h,this.psd=v}function yt(o,s){var p,h;Yt.push(s),o._state===null&&(p=o._lib&&cn(),s=Xt(s),o._state=!1,o._value=s,h=o,Dt.some(function(v){return v._value===h._value})||Dt.push(h),zt(o),p&&ln())}function zt(o){var s=o._listeners;o._listeners=[];for(var p=0,h=s.length;p<h;++p)wr(o,s[p]);var v=o._PSD;--v.ref||v.finalize(),Ne===0&&(++Ne,Ct(function(){--Ne==0&&kr()},[]))}function wr(o,s){if(o._state!==null){var p=o._state?s.onFulfilled:s.onRejected;if(p===null)return(o._state?s.resolve:s.reject)(o._value);++s.psd.ref,++Ne,Ct(ko,[p,o,s])}else o._listeners.push(s)}function ko(o,s,p){try{var h,v=s._value;!s._state&&Yt.length&&(Yt=[]),h=dt&&s._consoleTask?s._consoleTask.run(function(){return o(v)}):o(v),s._state||Yt.indexOf(v)!==-1||function(b){for(var w=Dt.length;w;)if(Dt[--w]._value===b._value)return Dt.splice(w,1)}(s),p.resolve(h)}catch(b){p.reject(b)}finally{--Ne==0&&kr(),--p.psd.ref||p.psd.finalize()}}function To(){Sn(Y,function(){cn()&&ln()})}function cn(){var o=Rt;return Gt=Rt=!1,o}function ln(){var o,s,p;do for(;0<xe.length;)for(o=xe,xe=[],p=o.length,s=0;s<p;++s){var h=o[s];h[0].apply(null,h[1])}while(0<xe.length);Gt=Rt=!0}function kr(){var o=Dt;Dt=[],o.forEach(function(h){h._PSD.onunhandled.call(null,h._value,h)});for(var s=Je.slice(0),p=s.length;p;)s[--p]()}function ai(o){return new ee(Ht,!1,o)}function Ze(o,s){var p=H;return function(){var h=cn(),v=H;try{return dn(p,!0),o.apply(this,arguments)}catch(b){s&&s(b)}finally{dn(v,!1),h&&ln()}}}d(ee.prototype,{then:ft,_then:function(o,s){wr(this,new At(null,null,o,s,H))},catch:function(o){if(arguments.length===1)return this.then(null,o);var s=o,p=arguments[1];return typeof s=="function"?this.then(null,function(h){return(h instanceof s?p:ai)(h)}):this.then(null,function(h){return(h&&h.name===s?p:ai)(h)})},finally:function(o){return this.then(function(s){return ee.resolve(o()).then(function(){return s})},function(s){return ee.resolve(o()).then(function(){return ai(s)})})},timeout:function(o,s){var p=this;return o<1/0?new ee(function(h,v){var b=setTimeout(function(){return v(new de.Timeout(s))},o);p.then(h,v).finally(clearTimeout.bind(null,b))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&_(ee.prototype,Symbol.toStringTag,"Dexie.Promise"),Y.env=Js(),d(ee,{all:function(){var o=U.apply(null,arguments).map(ui);return new ee(function(s,p){o.length===0&&s([]);var h=o.length;o.forEach(function(v,b){return ee.resolve(v).then(function(w){o[b]=w,--h||s(o)},p)})})},resolve:function(o){return o instanceof ee?o:o&&typeof o.then=="function"?new ee(function(s,p){o.then(s,p)}):new ee(Ht,!0,o)},reject:ai,race:function(){var o=U.apply(null,arguments).map(ui);return new ee(function(s,p){o.map(function(h){return ee.resolve(h).then(s,p)})})},PSD:{get:function(){return H},set:function(o){return H=o}},totalEchoes:{get:function(){return li}},newPSD:un,usePSD:Sn,scheduler:{get:function(){return Ct},set:function(o){Ct=o}},rejectionMapper:{get:function(){return Xt},set:function(o){Xt=o}},follow:function(o,s){return new ee(function(p,h){return un(function(v,b){var w=H;w.unhandleds=[],w.onunhandled=b,w.finalize=He(function(){var S,P=this;S=function(){P.unhandleds.length===0?v():b(P.unhandleds[0])},Je.push(function C(){S(),Je.splice(Je.indexOf(C),1)}),++Ne,Ct(function(){--Ne==0&&kr()},[])},w.finalize),o()},s,p,h)})}}),Ve&&(Ve.allSettled&&_(ee,"allSettled",function(){var o=U.apply(null,arguments).map(ui);return new ee(function(s){o.length===0&&s([]);var p=o.length,h=new Array(p);o.forEach(function(v,b){return ee.resolve(v).then(function(w){return h[b]={status:"fulfilled",value:w}},function(w){return h[b]={status:"rejected",reason:w}}).then(function(){return--p||s(h)})})})}),Ve.any&&typeof AggregateError<"u"&&_(ee,"any",function(){var o=U.apply(null,arguments).map(ui);return new ee(function(s,p){o.length===0&&p(new AggregateError([]));var h=o.length,v=new Array(h);o.forEach(function(b,w){return ee.resolve(b).then(function(S){return s(S)},function(S){v[w]=S,--h||p(new AggregateError(v))})})})}),Ve.withResolvers&&(ee.withResolvers=Ve.withResolvers));var lt={awaits:0,echoes:0,id:0},Af=0,si=[],ci=0,li=0,jf=0;function un(o,s,p,h){var v=H,b=Object.create(v);return b.parent=v,b.ref=0,b.global=!1,b.id=++jf,Y.env,b.env=st?{Promise:ee,PromiseProp:{value:ee,configurable:!0,writable:!0},all:ee.all,race:ee.race,allSettled:ee.allSettled,any:ee.any,resolve:ee.resolve,reject:ee.reject}:{},s&&f(b,s),++v.ref,b.finalize=function(){--this.parent.ref||this.parent.finalize()},h=Sn(b,o,p,h),b.ref===0&&b.finalize(),h}function Gn(){return lt.id||(lt.id=++Af),++lt.awaits,lt.echoes+=ce,lt.id}function pn(){return!!lt.awaits&&(--lt.awaits==0&&(lt.id=0),lt.echoes=lt.awaits*ce,!0)}function ui(o){return lt.echoes&&o&&o.constructor===Ve?(Gn(),o.then(function(s){return pn(),s},function(s){return pn(),nt(s)})):o}function Pf(){var o=si[si.length-1];si.pop(),dn(o,!1)}function dn(o,s){var p,h=H;(s?!lt.echoes||ci++&&o===H:!ci||--ci&&o===H)||queueMicrotask(s?(function(v){++li,lt.echoes&&--lt.echoes!=0||(lt.echoes=lt.awaits=lt.id=0),si.push(H),dn(v,!0)}).bind(null,o):Pf),o!==H&&(H=o,h===Y&&(Y.env=Js()),st&&(p=Y.env.Promise,s=o.env,(h.global||o.global)&&(Object.defineProperty(l,"Promise",s.PromiseProp),p.all=s.all,p.race=s.race,p.resolve=s.resolve,p.reject=s.reject,s.allSettled&&(p.allSettled=s.allSettled),s.any&&(p.any=s.any))))}function Js(){var o=l.Promise;return st?{Promise:o,PromiseProp:Object.getOwnPropertyDescriptor(l,"Promise"),all:o.all,race:o.race,allSettled:o.allSettled,any:o.any,resolve:o.resolve,reject:o.reject}:{}}function Sn(o,s,p,h,v){var b=H;try{return dn(o,!0),s(p,h,v)}finally{dn(b,!1)}}function ec(o,s,p,h){return typeof o!="function"?o:function(){var v=H;p&&Gn(),dn(s,!0);try{return o.apply(this,arguments)}finally{dn(v,!1),h&&queueMicrotask(pn)}}}function So(o){Promise===Ve&&lt.echoes===0?ci===0?o():enqueueNativeMicroTask(o):setTimeout(o,0)}(""+Ft).indexOf("[native code]")===-1&&(Gn=pn=Ce);var nt=ee.reject,An="ï¿¿",rn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",tc="String expected.",Yn=[],pi="__dbnames",Ao="readonly",jo="readwrite";function jn(o,s){return o?s?function(){return o.apply(this,arguments)&&s.apply(this,arguments)}:o:s}var nc={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function di(o){return typeof o!="string"||/\./.test(o)?function(s){return s}:function(s){return s[o]===void 0&&o in s&&delete(s=Ae(s))[o],s}}function rc(){throw de.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Me(o,s){try{var p=ic(o),h=ic(s);if(p!==h)return p==="Array"?1:h==="Array"?-1:p==="binary"?1:h==="binary"?-1:p==="string"?1:h==="string"?-1:p==="Date"?1:h!=="Date"?NaN:-1;switch(p){case"number":case"Date":case"string":return s<o?1:o<s?-1:0;case"binary":return function(v,b){for(var w=v.length,S=b.length,P=w<S?w:S,C=0;C<P;++C)if(v[C]!==b[C])return v[C]<b[C]?-1:1;return w===S?0:w<S?-1:1}(oc(o),oc(s));case"Array":return function(v,b){for(var w=v.length,S=b.length,P=w<S?w:S,C=0;C<P;++C){var N=Me(v[C],b[C]);if(N!==0)return N}return w===S?0:w<S?-1:1}(o,s)}}catch{}return NaN}function ic(o){var s=typeof o;return s!="object"?s:ArrayBuffer.isView(o)?"binary":(o=Ie(o),o==="ArrayBuffer"?"binary":o)}function oc(o){return o instanceof Uint8Array?o:ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o)}function fi(o,s,p){var h=o.schema.yProps;return h?(s&&0<p.numFailures&&(s=s.filter(function(v,b){return!p.failures[b]})),Promise.all(h.map(function(v){return v=v.updatesTable,s?o.db.table(v).where("k").anyOf(s).delete():o.db.table(v).clear()})).then(function(){return p})):p}var Tr=(ac.prototype.execute=function(o){var s=this["@@propmod"];if(s.add!==void 0){var p=s.add;if(u(p))return i(i([],u(o)?o:[],!0),p).sort();if(typeof p=="number")return(Number(o)||0)+p;if(typeof p=="bigint")try{return BigInt(o)+p}catch{return BigInt(0)+p}throw new TypeError("Invalid term ".concat(p))}if(s.remove!==void 0){var h=s.remove;if(u(h))return u(o)?o.filter(function(v){return!h.includes(v)}).sort():[];if(typeof h=="number")return Number(o)-h;if(typeof h=="bigint")try{return BigInt(o)-h}catch{return BigInt(0)-h}throw new TypeError("Invalid subtrahend ".concat(h))}return p=(p=s.replacePrefix)===null||p===void 0?void 0:p[0],p&&typeof o=="string"&&o.startsWith(p)?s.replacePrefix[1]+o.substring(p.length):o},ac);function ac(o){this["@@propmod"]=o}function sc(o,s){for(var p=c(s),h=p.length,v=!1,b=0;b<h;++b){var w=p[b],S=s[w],P=J(o,w);S instanceof Tr?(W(o,w,S.execute(P)),v=!0):P!==S&&(W(o,w,S),v=!0)}return v}var cc=(Ke.prototype._trans=function(o,s,p){var h=this._tx||H.trans,v=this.name,b=dt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(o==="readonly"?"read":"write"," ").concat(this.name));function w(C,N,A){if(!A.schema[v])throw new de.NotFound("Table "+v+" not part of transaction");return s(A.idbtrans,A)}var S=cn();try{var P=h&&h.db._novip===this.db._novip?h===H.trans?h._promise(o,w,p):un(function(){return h._promise(o,w,p)},{trans:h,transless:H.transless||H}):function C(N,A,I,D){if(N.idbdb&&(N._state.openComplete||H.letThrough||N._vip)){var E=N._createTransaction(A,I,N._dbSchema);try{E.create(),N._state.PR1398_maxLoop=3}catch(O){return O.name===Oe.InvalidState&&N.isOpen()&&0<--N._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),N.close({disableAutoOpen:!1}),N.open().then(function(){return C(N,A,I,D)})):nt(O)}return E._promise(A,function(O,M){return un(function(){return H.trans=E,D(O,M,E)})}).then(function(O){if(A==="readwrite")try{E.idbtrans.commit()}catch{}return A==="readonly"?O:E._completion.then(function(){return O})})}if(N._state.openComplete)return nt(new de.DatabaseClosed(N._state.dbOpenError));if(!N._state.isBeingOpened){if(!N._state.autoOpen)return nt(new de.DatabaseClosed);N.open().catch(Ce)}return N._state.dbReadyPromise.then(function(){return C(N,A,I,D)})}(this.db,o,[this.name],w);return b&&(P._consoleTask=b,P=P.catch(function(C){return console.trace(C),nt(C)})),P}finally{S&&ln()}},Ke.prototype.get=function(o,s){var p=this;return o&&o.constructor===Object?this.where(o).first(s):o==null?nt(new de.Type("Invalid argument to Table.get()")):this._trans("readonly",function(h){return p.core.get({trans:h,key:o}).then(function(v){return p.hook.reading.fire(v)})}).then(s)},Ke.prototype.where=function(o){if(typeof o=="string")return new this.db.WhereClause(this,o);if(u(o))return new this.db.WhereClause(this,"[".concat(o.join("+"),"]"));var s=c(o);if(s.length===1)return this.where(s[0]).equals(o[s[0]]);var p=this.schema.indexes.concat(this.schema.primKey).filter(function(S){if(S.compound&&s.every(function(C){return 0<=S.keyPath.indexOf(C)})){for(var P=0;P<s.length;++P)if(s.indexOf(S.keyPath[P])===-1)return!1;return!0}return!1}).sort(function(S,P){return S.keyPath.length-P.keyPath.length})[0];if(p&&this.db._maxKey!==An){var b=p.keyPath.slice(0,s.length);return this.where(b).equals(b.map(function(P){return o[P]}))}!p&&dt&&console.warn("The query ".concat(JSON.stringify(o)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(s.join("+"),"]"));var h=this.schema.idxByName;function v(S,P){return Me(S,P)===0}var w=s.reduce(function(A,P){var C=A[0],N=A[1],A=h[P],I=o[P];return[C||A,C||!A?jn(N,A&&A.multi?function(D){return D=J(D,P),u(D)&&D.some(function(E){return v(I,E)})}:function(D){return v(I,J(D,P))}):N]},[null,null]),b=w[0],w=w[1];return b?this.where(b.name).equals(o[b.keyPath]).filter(w):p?this.filter(w):this.where(s).equals("")},Ke.prototype.filter=function(o){return this.toCollection().and(o)},Ke.prototype.count=function(o){return this.toCollection().count(o)},Ke.prototype.offset=function(o){return this.toCollection().offset(o)},Ke.prototype.limit=function(o){return this.toCollection().limit(o)},Ke.prototype.each=function(o){return this.toCollection().each(o)},Ke.prototype.toArray=function(o){return this.toCollection().toArray(o)},Ke.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ke.prototype.orderBy=function(o){return new this.db.Collection(new this.db.WhereClause(this,u(o)?"[".concat(o.join("+"),"]"):o))},Ke.prototype.reverse=function(){return this.toCollection().reverse()},Ke.prototype.mapToClass=function(o){var s,p=this.db,h=this.name;function v(){return s!==null&&s.apply(this,arguments)||this}(this.schema.mappedClass=o).prototype instanceof rc&&(function(P,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function N(){this.constructor=P}n(P,C),P.prototype=C===null?Object.create(C):(N.prototype=C.prototype,new N)}(v,s=o),Object.defineProperty(v.prototype,"db",{get:function(){return p},enumerable:!1,configurable:!0}),v.prototype.table=function(){return h},o=v);for(var b=new Set,w=o.prototype;w;w=m(w))Object.getOwnPropertyNames(w).forEach(function(P){return b.add(P)});function S(P){if(!P)return P;var C,N=Object.create(o.prototype);for(C in P)if(!b.has(C))try{N[C]=P[C]}catch{}return N}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=S,this.hook("reading",S),o},Ke.prototype.defineClass=function(){return this.mapToClass(function(o){f(this,o)})},Ke.prototype.add=function(o,s){var p=this,h=this.schema.primKey,v=h.auto,b=h.keyPath,w=o;return b&&v&&(w=di(b)(o)),this._trans("readwrite",function(S){return p.core.mutate({trans:S,type:"add",keys:s!=null?[s]:null,values:[w]})}).then(function(S){return S.numFailures?ee.reject(S.failures[0]):S.lastResult}).then(function(S){if(b)try{W(o,b,S)}catch{}return S})},Ke.prototype.upsert=function(o,s){var p=this,h=this.schema.primKey.keyPath;return this._trans("readwrite",function(v){return p.core.get({trans:v,key:o}).then(function(b){var w=b??{};return sc(w,s),h&&W(w,h,o),p.core.mutate({trans:v,type:"put",values:[w],keys:[o],upsert:!0,updates:{keys:[o],changeSpecs:[s]}}).then(function(S){return S.numFailures?ee.reject(S.failures[0]):!!b})})})},Ke.prototype.update=function(o,s){return typeof o!="object"||u(o)?this.where(":id").equals(o).modify(s):(o=J(o,this.schema.primKey.keyPath),o===void 0?nt(new de.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(o).modify(s))},Ke.prototype.put=function(o,s){var p=this,h=this.schema.primKey,v=h.auto,b=h.keyPath,w=o;return b&&v&&(w=di(b)(o)),this._trans("readwrite",function(S){return p.core.mutate({trans:S,type:"put",values:[w],keys:s!=null?[s]:null})}).then(function(S){return S.numFailures?ee.reject(S.failures[0]):S.lastResult}).then(function(S){if(b)try{W(o,b,S)}catch{}return S})},Ke.prototype.delete=function(o){var s=this;return this._trans("readwrite",function(p){return s.core.mutate({trans:p,type:"delete",keys:[o]}).then(function(h){return fi(s,[o],h)}).then(function(h){return h.numFailures?ee.reject(h.failures[0]):void 0})})},Ke.prototype.clear=function(){var o=this;return this._trans("readwrite",function(s){return o.core.mutate({trans:s,type:"deleteRange",range:nc}).then(function(p){return fi(o,null,p)})}).then(function(s){return s.numFailures?ee.reject(s.failures[0]):void 0})},Ke.prototype.bulkGet=function(o){var s=this;return this._trans("readonly",function(p){return s.core.getMany({keys:o,trans:p}).then(function(h){return h.map(function(v){return s.hook.reading.fire(v)})})})},Ke.prototype.bulkAdd=function(o,s,p){var h=this,v=Array.isArray(s)?s:void 0,b=(p=p||(v?void 0:s))?p.allKeys:void 0;return this._trans("readwrite",function(w){var C=h.schema.primKey,S=C.auto,C=C.keyPath;if(C&&v)throw new de.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(v&&v.length!==o.length)throw new de.InvalidArgument("Arguments objects and keys must have the same length");var P=o.length,C=C&&S?o.map(di(C)):o;return h.core.mutate({trans:w,type:"add",keys:v,values:C,wantResults:b}).then(function(E){var A=E.numFailures,I=E.results,D=E.lastResult,E=E.failures;if(A===0)return b?I:D;throw new we("".concat(h.name,".bulkAdd(): ").concat(A," of ").concat(P," operations failed"),E)})})},Ke.prototype.bulkPut=function(o,s,p){var h=this,v=Array.isArray(s)?s:void 0,b=(p=p||(v?void 0:s))?p.allKeys:void 0;return this._trans("readwrite",function(w){var C=h.schema.primKey,S=C.auto,C=C.keyPath;if(C&&v)throw new de.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(v&&v.length!==o.length)throw new de.InvalidArgument("Arguments objects and keys must have the same length");var P=o.length,C=C&&S?o.map(di(C)):o;return h.core.mutate({trans:w,type:"put",keys:v,values:C,wantResults:b}).then(function(E){var A=E.numFailures,I=E.results,D=E.lastResult,E=E.failures;if(A===0)return b?I:D;throw new we("".concat(h.name,".bulkPut(): ").concat(A," of ").concat(P," operations failed"),E)})})},Ke.prototype.bulkUpdate=function(o){var s=this,p=this.core,h=o.map(function(w){return w.key}),v=o.map(function(w){return w.changes}),b=[];return this._trans("readwrite",function(w){return p.getMany({trans:w,keys:h,cache:"clone"}).then(function(S){var P=[],C=[];o.forEach(function(A,I){var D=A.key,E=A.changes,O=S[I];if(O){for(var M=0,R=Object.keys(E);M<R.length;M++){var $=R[M],B=E[$];if($===s.schema.primKey.keyPath){if(Me(B,D)!==0)throw new de.Constraint("Cannot update primary key in bulkUpdate()")}else W(O,$,B)}b.push(I),P.push(D),C.push(O)}});var N=P.length;return p.mutate({trans:w,type:"put",keys:P,values:C,updates:{keys:h,changeSpecs:v}}).then(function(A){var I=A.numFailures,D=A.failures;if(I===0)return N;for(var E=0,O=Object.keys(D);E<O.length;E++){var M,R=O[E],$=b[Number(R)];$!=null&&(M=D[R],delete D[R],D[$]=M)}throw new we("".concat(s.name,".bulkUpdate(): ").concat(I," of ").concat(N," operations failed"),D)})})})},Ke.prototype.bulkDelete=function(o){var s=this,p=o.length;return this._trans("readwrite",function(h){return s.core.mutate({trans:h,type:"delete",keys:o}).then(function(v){return fi(s,o,v)})}).then(function(w){var v=w.numFailures,b=w.lastResult,w=w.failures;if(v===0)return b;throw new we("".concat(s.name,".bulkDelete(): ").concat(v," of ").concat(p," operations failed"),w)})},Ke);function Ke(){}function Sr(o){function s(w,S){if(S){for(var P=arguments.length,C=new Array(P-1);--P;)C[P-1]=arguments[P];return p[w].subscribe.apply(null,C),o}if(typeof w=="string")return p[w]}var p={};s.addEventType=b;for(var h=1,v=arguments.length;h<v;++h)b(arguments[h]);return s;function b(w,S,P){if(typeof w!="object"){var C;S=S||Zt;var N={subscribers:[],fire:P=P||Ce,subscribe:function(A){N.subscribers.indexOf(A)===-1&&(N.subscribers.push(A),N.fire=S(N.fire,A))},unsubscribe:function(A){N.subscribers=N.subscribers.filter(function(I){return I!==A}),N.fire=N.subscribers.reduce(S,P)}};return p[w]=s[w]=N}c(C=w).forEach(function(A){var I=C[A];if(u(I))b(A,C[A][0],C[A][1]);else{if(I!=="asap")throw new de.InvalidArgument("Invalid event config");var D=b(A,pt,function(){for(var E=arguments.length,O=new Array(E);E--;)O[E]=arguments[E];D.subscribers.forEach(function(M){X(function(){M.apply(null,O)})})})}})}}function Ar(o,s){return T(s).from({prototype:o}),s}function Xn(o,s){return!(o.filter||o.algorithm||o.or)&&(s?o.justLimit:!o.replayFilter)}function Po(o,s){o.filter=jn(o.filter,s)}function Co(o,s,p){var h=o.replayFilter;o.replayFilter=h?function(){return jn(h(),s())}:s,o.justLimit=p&&!h}function hi(o,s){if(o.isPrimKey)return s.primaryKey;var p=s.getIndexByKeyPath(o.index);if(!p)throw new de.Schema("KeyPath "+o.index+" on object store "+s.name+" is not indexed");return p}function lc(o,s,p){var h=hi(o,s.schema);return s.openCursor({trans:p,values:!o.keysOnly,reverse:o.dir==="prev",unique:!!o.unique,query:{index:h,range:o.range}})}function mi(o,s,p,h){var v=o.replayFilter?jn(o.filter,o.replayFilter()):o.filter;if(o.or){var b={},w=function(S,P,C){var N,A;v&&!v(P,C,function(I){return P.stop(I)},function(I){return P.fail(I)})||((A=""+(N=P.primaryKey))=="[object ArrayBuffer]"&&(A=""+new Uint8Array(N)),a(b,A)||(b[A]=!0,s(S,P,C)))};return Promise.all([o.or._iterate(w,p),uc(lc(o,h,p),o.algorithm,w,!o.keysOnly&&o.valueMapper)])}return uc(lc(o,h,p),jn(o.algorithm,v),s,!o.keysOnly&&o.valueMapper)}function uc(o,s,p,h){var v=Ze(h?function(b,w,S){return p(h(b),w,S)}:p);return o.then(function(b){if(b)return b.start(function(){var w=function(){return b.continue()};s&&!s(b,function(S){return w=S},function(S){b.stop(S),w=Ce},function(S){b.fail(S),w=Ce})||v(b.value,b,function(S){return w=S}),w()})})}var Cf=(ze.prototype._read=function(o,s){var p=this._ctx;return p.error?p.table._trans(null,nt.bind(null,p.error)):p.table._trans("readonly",o).then(s)},ze.prototype._write=function(o){var s=this._ctx;return s.error?s.table._trans(null,nt.bind(null,s.error)):s.table._trans("readwrite",o,"locked")},ze.prototype._addAlgorithm=function(o){var s=this._ctx;s.algorithm=jn(s.algorithm,o)},ze.prototype._iterate=function(o,s){return mi(this._ctx,o,s,this._ctx.table.core)},ze.prototype.clone=function(o){var s=Object.create(this.constructor.prototype),p=Object.create(this._ctx);return o&&f(p,o),s._ctx=p,s},ze.prototype.raw=function(){return this._ctx.valueMapper=null,this},ze.prototype.each=function(o){var s=this._ctx;return this._read(function(p){return mi(s,o,p,s.table.core)})},ze.prototype.count=function(o){var s=this;return this._read(function(p){var h=s._ctx,v=h.table.core;if(Xn(h,!0))return v.count({trans:p,query:{index:hi(h,v.schema),range:h.range}}).then(function(w){return Math.min(w,h.limit)});var b=0;return mi(h,function(){return++b,!1},p,v).then(function(){return b})}).then(o)},ze.prototype.sortBy=function(o,s){var p=o.split(".").reverse(),h=p[0],v=p.length-1;function b(P,C){return C?b(P[p[C]],C-1):P[h]}var w=this._ctx.dir==="next"?1:-1;function S(P,C){return Me(b(P,v),b(C,v))*w}return this.toArray(function(P){return P.sort(S)}).then(s)},ze.prototype.toArray=function(o){var s=this;return this._read(function(p){var h=s._ctx;if(h.dir==="next"&&Xn(h,!0)&&0<h.limit){var v=h.valueMapper,b=hi(h,h.table.core.schema);return h.table.core.query({trans:p,limit:h.limit,values:!0,query:{index:b,range:h.range}}).then(function(S){return S=S.result,v?S.map(v):S})}var w=[];return mi(h,function(S){return w.push(S)},p,h.table.core).then(function(){return w})},o)},ze.prototype.offset=function(o){var s=this._ctx;return o<=0||(s.offset+=o,Xn(s)?Co(s,function(){var p=o;return function(h,v){return p===0||(p===1?--p:v(function(){h.advance(p),p=0}),!1)}}):Co(s,function(){var p=o;return function(){return--p<0}})),this},ze.prototype.limit=function(o){return this._ctx.limit=Math.min(this._ctx.limit,o),Co(this._ctx,function(){var s=o;return function(p,h,v){return--s<=0&&h(v),0<=s}},!0),this},ze.prototype.until=function(o,s){return Po(this._ctx,function(p,h,v){return!o(p.value)||(h(v),s)}),this},ze.prototype.first=function(o){return this.limit(1).toArray(function(s){return s[0]}).then(o)},ze.prototype.last=function(o){return this.reverse().first(o)},ze.prototype.filter=function(o){var s;return Po(this._ctx,function(p){return o(p.value)}),(s=this._ctx).isMatch=jn(s.isMatch,o),this},ze.prototype.and=function(o){return this.filter(o)},ze.prototype.or=function(o){return new this.db.WhereClause(this._ctx.table,o,this)},ze.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ze.prototype.desc=function(){return this.reverse()},ze.prototype.eachKey=function(o){var s=this._ctx;return s.keysOnly=!s.isMatch,this.each(function(p,h){o(h.key,h)})},ze.prototype.eachUniqueKey=function(o){return this._ctx.unique="unique",this.eachKey(o)},ze.prototype.eachPrimaryKey=function(o){var s=this._ctx;return s.keysOnly=!s.isMatch,this.each(function(p,h){o(h.primaryKey,h)})},ze.prototype.keys=function(o){var s=this._ctx;s.keysOnly=!s.isMatch;var p=[];return this.each(function(h,v){p.push(v.key)}).then(function(){return p}).then(o)},ze.prototype.primaryKeys=function(o){var s=this._ctx;if(s.dir==="next"&&Xn(s,!0)&&0<s.limit)return this._read(function(h){var v=hi(s,s.table.core.schema);return s.table.core.query({trans:h,values:!1,limit:s.limit,query:{index:v,range:s.range}})}).then(function(h){return h.result}).then(o);s.keysOnly=!s.isMatch;var p=[];return this.each(function(h,v){p.push(v.primaryKey)}).then(function(){return p}).then(o)},ze.prototype.uniqueKeys=function(o){return this._ctx.unique="unique",this.keys(o)},ze.prototype.firstKey=function(o){return this.limit(1).keys(function(s){return s[0]}).then(o)},ze.prototype.lastKey=function(o){return this.reverse().firstKey(o)},ze.prototype.distinct=function(){var o=this._ctx,o=o.index&&o.table.schema.idxByName[o.index];if(!o||!o.multi)return this;var s={};return Po(this._ctx,function(v){var h=v.primaryKey.toString(),v=a(s,h);return s[h]=!0,!v}),this},ze.prototype.modify=function(o){var s=this,p=this._ctx;return this._write(function(h){var v=typeof o=="function"?o:function(O){return sc(O,o)},b=p.table.core,C=b.schema.primaryKey,w=C.outbound,S=C.extractKey,P=200,C=s.db._options.modifyChunkSize;C&&(P=typeof C=="object"?C[b.name]||C["*"]||200:C);function N(O,$){var R=$.failures,$=$.numFailures;I+=O-$;for(var B=0,q=c(R);B<q.length;B++){var te=q[B];A.push(R[te])}}var A=[],I=0,D=[],E=o===pc;return s.clone().primaryKeys().then(function(O){function M($){var B=Math.min(P,O.length-$),q=O.slice($,$+B);return(E?Promise.resolve([]):b.getMany({trans:h,keys:q,cache:"immutable"})).then(function(te){var oe=[],Q=[],re=w?[]:null,ae=E?q:[];if(!E)for(var ie=0;ie<B;++ie){var pe=te[ie],Te={value:Ae(pe),primKey:O[$+ie]};v.call(Te,Te.value,Te)!==!1&&(Te.value==null?ae.push(O[$+ie]):w||Me(S(pe),S(Te.value))===0?(Q.push(Te.value),w&&re.push(O[$+ie])):(ae.push(O[$+ie]),oe.push(Te.value)))}return Promise.resolve(0<oe.length&&b.mutate({trans:h,type:"add",values:oe}).then(function(je){for(var De in je.failures)ae.splice(parseInt(De),1);N(oe.length,je)})).then(function(){return(0<Q.length||R&&typeof o=="object")&&b.mutate({trans:h,type:"put",keys:re,values:Q,criteria:R,changeSpec:typeof o!="function"&&o,isAdditionalChunk:0<$}).then(function(je){return N(Q.length,je)})}).then(function(){return(0<ae.length||R&&E)&&b.mutate({trans:h,type:"delete",keys:ae,criteria:R,isAdditionalChunk:0<$}).then(function(je){return fi(p.table,ae,je)}).then(function(je){return N(ae.length,je)})}).then(function(){return O.length>$+B&&M($+P)})})}var R=Xn(p)&&p.limit===1/0&&(typeof o!="function"||E)&&{index:p.index,range:p.range};return M(0).then(function(){if(0<A.length)throw new Re("Error modifying one or more objects",A,I,D);return O.length})})})},ze.prototype.delete=function(){var o=this._ctx,s=o.range;return!Xn(o)||o.table.schema.yProps||!o.isPrimKey&&s.type!==3?this.modify(pc):this._write(function(p){var h=o.table.core.schema.primaryKey,v=s;return o.table.core.count({trans:p,query:{index:h,range:v}}).then(function(b){return o.table.core.mutate({trans:p,type:"deleteRange",range:v}).then(function(P){var S=P.failures,P=P.numFailures;if(P)throw new Re("Could not delete some values",Object.keys(S).map(function(C){return S[C]}),b-P);return b-P})})})},ze);function ze(){}var pc=function(o,s){return s.value=null};function Df(o,s){return o<s?-1:o===s?0:1}function Ef(o,s){return s<o?-1:o===s?0:1}function Et(o,s,p){return o=o instanceof fc?new o.Collection(o):o,o._ctx.error=new(p||TypeError)(s),o}function Qn(o){return new o.Collection(o,function(){return dc("")}).limit(0)}function vi(o,s,p,h){var v,b,w,S,P,C,N,A=p.length;if(!p.every(function(E){return typeof E=="string"}))return Et(o,tc);function I(E){v=E==="next"?function(M){return M.toUpperCase()}:function(M){return M.toLowerCase()},b=E==="next"?function(M){return M.toLowerCase()}:function(M){return M.toUpperCase()},w=E==="next"?Df:Ef;var O=p.map(function(M){return{lower:b(M),upper:v(M)}}).sort(function(M,R){return w(M.lower,R.lower)});S=O.map(function(M){return M.upper}),P=O.map(function(M){return M.lower}),N=(C=E)==="next"?"":h}I("next"),o=new o.Collection(o,function(){return fn(S[0],P[A-1]+h)}),o._ondirectionchange=function(E){I(E)};var D=0;return o._addAlgorithm(function(E,O,M){var R=E.key;if(typeof R!="string")return!1;var $=b(R);if(s($,P,D))return!0;for(var B=null,q=D;q<A;++q){var te=function(oe,Q,re,ae,ie,pe){for(var Te=Math.min(oe.length,ae.length),je=-1,De=0;De<Te;++De){var Ot=Q[De];if(Ot!==ae[De])return ie(oe[De],re[De])<0?oe.substr(0,De)+re[De]+re.substr(De+1):ie(oe[De],ae[De])<0?oe.substr(0,De)+ae[De]+re.substr(De+1):0<=je?oe.substr(0,je)+Q[je]+re.substr(je+1):null;ie(oe[De],Ot)<0&&(je=De)}return Te<ae.length&&pe==="next"?oe+re.substr(oe.length):Te<oe.length&&pe==="prev"?oe.substr(0,re.length):je<0?null:oe.substr(0,je)+ae[je]+re.substr(je+1)}(R,$,S[q],P[q],w,C);te===null&&B===null?D=q+1:(B===null||0<w(B,te))&&(B=te)}return O(B!==null?function(){E.continue(B+N)}:M),!1}),o}function fn(o,s,p,h){return{type:2,lower:o,upper:s,lowerOpen:p,upperOpen:h}}function dc(o){return{type:1,lower:o,upper:o}}var fc=(Object.defineProperty(ut.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),ut.prototype.between=function(o,s,p,h){p=p!==!1,h=h===!0;try{return 0<this._cmp(o,s)||this._cmp(o,s)===0&&(p||h)&&(!p||!h)?Qn(this):new this.Collection(this,function(){return fn(o,s,!p,!h)})}catch{return Et(this,rn)}},ut.prototype.equals=function(o){return o==null?Et(this,rn):new this.Collection(this,function(){return dc(o)})},ut.prototype.above=function(o){return o==null?Et(this,rn):new this.Collection(this,function(){return fn(o,void 0,!0)})},ut.prototype.aboveOrEqual=function(o){return o==null?Et(this,rn):new this.Collection(this,function(){return fn(o,void 0,!1)})},ut.prototype.below=function(o){return o==null?Et(this,rn):new this.Collection(this,function(){return fn(void 0,o,!1,!0)})},ut.prototype.belowOrEqual=function(o){return o==null?Et(this,rn):new this.Collection(this,function(){return fn(void 0,o)})},ut.prototype.startsWith=function(o){return typeof o!="string"?Et(this,tc):this.between(o,o+An,!0,!0)},ut.prototype.startsWithIgnoreCase=function(o){return o===""?this.startsWith(o):vi(this,function(s,p){return s.indexOf(p[0])===0},[o],An)},ut.prototype.equalsIgnoreCase=function(o){return vi(this,function(s,p){return s===p[0]},[o],"")},ut.prototype.anyOfIgnoreCase=function(){var o=U.apply(Se,arguments);return o.length===0?Qn(this):vi(this,function(s,p){return p.indexOf(s)!==-1},o,"")},ut.prototype.startsWithAnyOfIgnoreCase=function(){var o=U.apply(Se,arguments);return o.length===0?Qn(this):vi(this,function(s,p){return p.some(function(h){return s.indexOf(h)===0})},o,An)},ut.prototype.anyOf=function(){var o=this,s=U.apply(Se,arguments),p=this._cmp;try{s.sort(p)}catch{return Et(this,rn)}if(s.length===0)return Qn(this);var h=new this.Collection(this,function(){return fn(s[0],s[s.length-1])});h._ondirectionchange=function(b){p=b==="next"?o._ascending:o._descending,s.sort(p)};var v=0;return h._addAlgorithm(function(b,w,S){for(var P=b.key;0<p(P,s[v]);)if(++v===s.length)return w(S),!1;return p(P,s[v])===0||(w(function(){b.continue(s[v])}),!1)}),h},ut.prototype.notEqual=function(o){return this.inAnyRange([[-1/0,o],[o,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},ut.prototype.noneOf=function(){var o=U.apply(Se,arguments);if(o.length===0)return new this.Collection(this);try{o.sort(this._ascending)}catch{return Et(this,rn)}var s=o.reduce(function(p,h){return p?p.concat([[p[p.length-1][1],h]]):[[-1/0,h]]},null);return s.push([o[o.length-1],this.db._maxKey]),this.inAnyRange(s,{includeLowers:!1,includeUppers:!1})},ut.prototype.inAnyRange=function(R,s){var p=this,h=this._cmp,v=this._ascending,b=this._descending,w=this._min,S=this._max;if(R.length===0)return Qn(this);if(!R.every(function($){return $[0]!==void 0&&$[1]!==void 0&&v($[0],$[1])<=0}))return Et(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",de.InvalidArgument);var P=!s||s.includeLowers!==!1,C=s&&s.includeUppers===!0,N,A=v;function I($,B){return A($[0],B[0])}try{(N=R.reduce(function($,B){for(var q=0,te=$.length;q<te;++q){var oe=$[q];if(h(B[0],oe[1])<0&&0<h(B[1],oe[0])){oe[0]=w(oe[0],B[0]),oe[1]=S(oe[1],B[1]);break}}return q===te&&$.push(B),$},[])).sort(I)}catch{return Et(this,rn)}var D=0,E=C?function($){return 0<v($,N[D][1])}:function($){return 0<=v($,N[D][1])},O=P?function($){return 0<b($,N[D][0])}:function($){return 0<=b($,N[D][0])},M=E,R=new this.Collection(this,function(){return fn(N[0][0],N[N.length-1][1],!P,!C)});return R._ondirectionchange=function($){A=$==="next"?(M=E,v):(M=O,b),N.sort(I)},R._addAlgorithm(function($,B,q){for(var te,oe=$.key;M(oe);)if(++D===N.length)return B(q),!1;return!E(te=oe)&&!O(te)||(p._cmp(oe,N[D][1])===0||p._cmp(oe,N[D][0])===0||B(function(){A===v?$.continue(N[D][0]):$.continue(N[D][1])}),!1)}),R},ut.prototype.startsWithAnyOf=function(){var o=U.apply(Se,arguments);return o.every(function(s){return typeof s=="string"})?o.length===0?Qn(this):this.inAnyRange(o.map(function(s){return[s,s+An]})):Et(this,"startsWithAnyOf() only works with strings")},ut);function ut(){}function Qt(o){return Ze(function(s){return jr(s),o(s.target.error),!1})}function jr(o){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault()}var Pr="storagemutated",Do="x-storagemutated-1",hn=Sr(null,Pr),Of=(Jt.prototype._lock=function(){return G(!H.global),++this._reculock,this._reculock!==1||H.global||(H.lockOwnerFor=this),this},Jt.prototype._unlock=function(){if(G(!H.global),--this._reculock==0)for(H.global||(H.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var o=this._blockedFuncs.shift();try{Sn(o[1],o[0])}catch{}}return this},Jt.prototype._locked=function(){return this._reculock&&H.lockOwnerFor!==this},Jt.prototype.create=function(o){var s=this;if(!this.mode)return this;var p=this.db.idbdb,h=this.db._state.dbOpenError;if(G(!this.idbtrans),!o&&!p)switch(h&&h.name){case"DatabaseClosedError":throw new de.DatabaseClosed(h);case"MissingAPIError":throw new de.MissingAPI(h.message,h);default:throw new de.OpenFailed(h)}if(!this.active)throw new de.TransactionInactive;return G(this._completion._state===null),(o=this.idbtrans=o||(this.db.core||p).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ze(function(v){jr(v),s._reject(o.error)}),o.onabort=Ze(function(v){jr(v),s.active&&s._reject(new de.Abort(o.error)),s.active=!1,s.on("abort").fire(v)}),o.oncomplete=Ze(function(){s.active=!1,s._resolve(),"mutatedParts"in o&&hn.storagemutated.fire(o.mutatedParts)}),this},Jt.prototype._promise=function(o,s,p){var h=this;if(o==="readwrite"&&this.mode!=="readwrite")return nt(new de.ReadOnly("Transaction is readonly"));if(!this.active)return nt(new de.TransactionInactive);if(this._locked())return new ee(function(b,w){h._blockedFuncs.push([function(){h._promise(o,s,p).then(b,w)},H])});if(p)return un(function(){var b=new ee(function(w,S){h._lock();var P=s(w,S,h);P&&P.then&&P.then(w,S)});return b.finally(function(){return h._unlock()}),b._lib=!0,b});var v=new ee(function(b,w){var S=s(b,w,h);S&&S.then&&S.then(b,w)});return v._lib=!0,v},Jt.prototype._root=function(){return this.parent?this.parent._root():this},Jt.prototype.waitFor=function(o){var s,p=this._root(),h=ee.resolve(o);p._waitingFor?p._waitingFor=p._waitingFor.then(function(){return h}):(p._waitingFor=h,p._waitingQueue=[],s=p.idbtrans.objectStore(p.storeNames[0]),function b(){for(++p._spinCount;p._waitingQueue.length;)p._waitingQueue.shift()();p._waitingFor&&(s.get(-1/0).onsuccess=b)}());var v=p._waitingFor;return new ee(function(b,w){h.then(function(S){return p._waitingQueue.push(Ze(b.bind(null,S)))},function(S){return p._waitingQueue.push(Ze(w.bind(null,S)))}).finally(function(){p._waitingFor===v&&(p._waitingFor=null)})})},Jt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new de.Abort))},Jt.prototype.table=function(o){var s=this._memoizedTables||(this._memoizedTables={});if(a(s,o))return s[o];var p=this.schema[o];if(!p)throw new de.NotFound("Table "+o+" not part of transaction");return p=new this.db.Table(o,p,this),p.core=this.db.core.table(o),s[o]=p},Jt);function Jt(){}function Eo(o,s,p,h,v,b,w,S){return{name:o,keyPath:s,unique:p,multi:h,auto:v,compound:b,src:(p&&!w?"&":"")+(h?"*":"")+(v?"++":"")+hc(s),type:S}}function hc(o){return typeof o=="string"?o:o?"["+[].join.call(o,"+")+"]":""}function Oo(o,s,p){return{name:o,primKey:s,indexes:p,mappedClass:null,idxByName:(h=function(v){return[v.name,v]},p.reduce(function(v,b,w){return w=h(b,w),w&&(v[w[0]]=w[1]),v},{}))};var h}var Cr=function(o){try{return o.only([[]]),Cr=function(){return[[]]},[[]]}catch{return Cr=function(){return An},An}};function No(o){return o==null?function(){}:typeof o=="string"?(s=o).split(".").length===1?function(p){return p[s]}:function(p){return J(p,s)}:function(p){return J(p,o)};var s}function mc(o){return[].slice.call(o)}var Nf=0;function Dr(o){return o==null?":id":typeof o=="string"?o:"[".concat(o.join("+"),"]")}function Mf(o,s,P){function h(M){if(M.type===3)return null;if(M.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var D=M.lower,E=M.upper,O=M.lowerOpen,M=M.upperOpen;return D===void 0?E===void 0?null:s.upperBound(E,!!M):E===void 0?s.lowerBound(D,!!O):s.bound(D,E,!!O,!!M)}function v(I){var D,E=I.name;return{name:E,schema:I,mutate:function(O){var M=O.trans,R=O.type,$=O.keys,B=O.values,q=O.range;return new Promise(function(te,oe){te=Ze(te);var Q=M.objectStore(E),re=Q.keyPath==null,ae=R==="put"||R==="add";if(!ae&&R!=="delete"&&R!=="deleteRange")throw new Error("Invalid operation type: "+R);var ie,pe=($||B||{length:1}).length;if($&&B&&$.length!==B.length)throw new Error("Given keys array must have same length as given values array.");if(pe===0)return te({numFailures:0,failures:{},results:[],lastResult:void 0});function Te(Tt){++Ot,jr(Tt)}var je=[],De=[],Ot=0;if(R==="deleteRange"){if(q.type===4)return te({numFailures:Ot,failures:De,results:[],lastResult:void 0});q.type===3?je.push(ie=Q.clear()):je.push(ie=Q.delete(h(q)))}else{var re=ae?re?[B,$]:[B,null]:[$,null],ke=re[0],bt=re[1];if(ae)for(var _t=0;_t<pe;++_t)je.push(ie=bt&&bt[_t]!==void 0?Q[R](ke[_t],bt[_t]):Q[R](ke[_t])),ie.onerror=Te;else for(_t=0;_t<pe;++_t)je.push(ie=Q[R](ke[_t])),ie.onerror=Te}function Pi(Tt){Tt=Tt.target.result,je.forEach(function(Dn,Xo){return Dn.error!=null&&(De[Xo]=Dn.error)}),te({numFailures:Ot,failures:De,results:R==="delete"?$:je.map(function(Dn){return Dn.result}),lastResult:Tt})}ie.onerror=function(Tt){Te(Tt),Pi(Tt)},ie.onsuccess=Pi})},getMany:function(O){var M=O.trans,R=O.keys;return new Promise(function($,B){$=Ze($);for(var q,te=M.objectStore(E),oe=R.length,Q=new Array(oe),re=0,ae=0,ie=function(je){je=je.target,Q[je._pos]=je.result,++ae===re&&$(Q)},pe=Qt(B),Te=0;Te<oe;++Te)R[Te]!=null&&((q=te.get(R[Te]))._pos=Te,q.onsuccess=ie,q.onerror=pe,++re);re===0&&$(Q)})},get:function(O){var M=O.trans,R=O.key;return new Promise(function($,B){$=Ze($);var q=M.objectStore(E).get(R);q.onsuccess=function(te){return $(te.target.result)},q.onerror=Qt(B)})},query:(D=C,function(O){return new Promise(function(M,R){M=Ze(M);var $,B,q,re=O.trans,te=O.values,oe=O.limit,ie=O.query,Q=oe===1/0?void 0:oe,ae=ie.index,ie=ie.range,re=re.objectStore(E),ae=ae.isPrimaryKey?re:re.index(ae.name),ie=h(ie);if(oe===0)return M({result:[]});D?((Q=te?ae.getAll(ie,Q):ae.getAllKeys(ie,Q)).onsuccess=function(pe){return M({result:pe.target.result})},Q.onerror=Qt(R)):($=0,B=!te&&"openKeyCursor"in ae?ae.openKeyCursor(ie):ae.openCursor(ie),q=[],B.onsuccess=function(pe){var Te=B.result;return Te?(q.push(te?Te.value:Te.primaryKey),++$===oe?M({result:q}):void Te.continue()):M({result:q})},B.onerror=Qt(R))})}),openCursor:function(O){var M=O.trans,R=O.values,$=O.query,B=O.reverse,q=O.unique;return new Promise(function(te,oe){te=Ze(te);var ae=$.index,Q=$.range,re=M.objectStore(E),re=ae.isPrimaryKey?re:re.index(ae.name),ae=B?q?"prevunique":"prev":q?"nextunique":"next",ie=!R&&"openKeyCursor"in re?re.openKeyCursor(h(Q),ae):re.openCursor(h(Q),ae);ie.onerror=Qt(oe),ie.onsuccess=Ze(function(pe){var Te,je,De,Ot,ke=ie.result;ke?(ke.___id=++Nf,ke.done=!1,Te=ke.continue.bind(ke),je=(je=ke.continuePrimaryKey)&&je.bind(ke),De=ke.advance.bind(ke),Ot=function(){throw new Error("Cursor not stopped")},ke.trans=M,ke.stop=ke.continue=ke.continuePrimaryKey=ke.advance=function(){throw new Error("Cursor not started")},ke.fail=Ze(oe),ke.next=function(){var bt=this,_t=1;return this.start(function(){return _t--?bt.continue():bt.stop()}).then(function(){return bt})},ke.start=function(bt){function _t(){if(ie.result)try{bt()}catch(Tt){ke.fail(Tt)}else ke.done=!0,ke.start=function(){throw new Error("Cursor behind last entry")},ke.stop()}var Pi=new Promise(function(Tt,Dn){Tt=Ze(Tt),ie.onerror=Qt(Dn),ke.fail=Dn,ke.stop=function(Xo){ke.stop=ke.continue=ke.continuePrimaryKey=ke.advance=Ot,Tt(Xo)}});return ie.onsuccess=Ze(function(Tt){ie.onsuccess=_t,_t()}),ke.continue=Te,ke.continuePrimaryKey=je,ke.advance=De,_t(),Pi},te(ke)):te(null)},oe)})},count:function(O){var M=O.query,R=O.trans,$=M.index,B=M.range;return new Promise(function(q,te){var oe=R.objectStore(E),Q=$.isPrimaryKey?oe:oe.index($.name),oe=h(B),Q=oe?Q.count(oe):Q.count();Q.onsuccess=Ze(function(re){return q(re.target.result)}),Q.onerror=Qt(te)})}}}var b,w,S,N=(w=P,S=mc((b=o).objectStoreNames),{schema:{name:b.name,tables:S.map(function(I){return w.objectStore(I)}).map(function(I){var D=I.keyPath,M=I.autoIncrement,E=u(D),O={},M={name:I.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:D==null,compound:E,keyPath:D,autoIncrement:M,unique:!0,extractKey:No(D)},indexes:mc(I.indexNames).map(function(R){return I.index(R)}).map(function(q){var $=q.name,B=q.unique,te=q.multiEntry,q=q.keyPath,te={name:$,compound:u(q),keyPath:q,unique:B,multiEntry:te,extractKey:No(q)};return O[Dr(q)]=te}),getIndexByKeyPath:function(R){return O[Dr(R)]}};return O[":id"]=M.primaryKey,D!=null&&(O[Dr(D)]=M.primaryKey),M})},hasGetAll:0<S.length&&"getAll"in w.objectStore(S[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),P=N.schema,C=N.hasGetAll,N=P.tables.map(v),A={};return N.forEach(function(I){return A[I.name]=I}),{stack:"dbcore",transaction:o.transaction.bind(o),table:function(I){if(!A[I])throw new Error("Table '".concat(I,"' not found"));return A[I]},MIN_KEY:-1/0,MAX_KEY:Cr(s),schema:P}}function If(o,s,p,h){var v=p.IDBKeyRange;return p.indexedDB,{dbcore:(h=Mf(s,v,h),o.dbcore.reduce(function(b,w){return w=w.create,r(r({},b),w(b))},h))}}function gi(o,h){var p=h.db,h=If(o._middlewares,p,o._deps,h);o.core=h.dbcore,o.tables.forEach(function(v){var b=v.name;o.core.schema.tables.some(function(w){return w.name===b})&&(v.core=o.core.table(b),o[b]instanceof o.Table&&(o[b].core=v.core))})}function yi(o,s,p,h){p.forEach(function(v){var b=h[v];s.forEach(function(w){var S=function P(C,N){return j(C,N)||(C=m(C))&&P(C,N)}(w,v);(!S||"value"in S&&S.value===void 0)&&(w===o.Transaction.prototype||w instanceof o.Transaction?_(w,v,{get:function(){return this.table(v)},set:function(P){g(this,v,{value:P,writable:!0,configurable:!0,enumerable:!0})}}):w[v]=new o.Table(v,b))})})}function Mo(o,s){s.forEach(function(p){for(var h in p)p[h]instanceof o.Table&&delete p[h]})}function Rf(o,s){return o._cfg.version-s._cfg.version}function zf(o,s,p,h){var v=o._dbSchema;p.objectStoreNames.contains("$meta")&&!v.$meta&&(v.$meta=Oo("$meta",gc("")[0],[]),o._storeNames.push("$meta"));var b=o._createTransaction("readwrite",o._storeNames,v);b.create(p),b._completion.catch(h);var w=b._reject.bind(b),S=H.transless||H;un(function(){return H.trans=b,H.transless=S,s!==0?(gi(o,p),C=s,((P=b).storeNames.includes("$meta")?P.table("$meta").get("version").then(function(N){return N??C}):ee.resolve(C)).then(function(N){return I=N,D=b,E=p,O=[],N=(A=o)._versions,M=A._dbSchema=bi(0,A.idbdb,E),(N=N.filter(function(R){return R._cfg.version>=I})).length!==0?(N.forEach(function(R){O.push(function(){var $=M,B=R._cfg.dbschema;_i(A,$,E),_i(A,B,E),M=A._dbSchema=B;var q=Io($,B);q.add.forEach(function(ae){Ro(E,ae[0],ae[1].primKey,ae[1].indexes)}),q.change.forEach(function(ae){if(ae.recreate)throw new de.Upgrade("Not yet support for changing primary key");var ie=E.objectStore(ae.name);ae.add.forEach(function(pe){return xi(ie,pe)}),ae.change.forEach(function(pe){ie.deleteIndex(pe.name),xi(ie,pe)}),ae.del.forEach(function(pe){return ie.deleteIndex(pe)})});var te=R._cfg.contentUpgrade;if(te&&R._cfg.version>I){gi(A,E),D._memoizedTables={};var oe=V(B);q.del.forEach(function(ae){oe[ae]=$[ae]}),Mo(A,[A.Transaction.prototype]),yi(A,[A.Transaction.prototype],c(oe),oe),D.schema=oe;var Q,re=ue(te);return re&&Gn(),q=ee.follow(function(){var ae;(Q=te(D))&&re&&(ae=pn.bind(null,null),Q.then(ae,ae))}),Q&&typeof Q.then=="function"?ee.resolve(Q):q.then(function(){return Q})}}),O.push(function($){var B,q,te=R._cfg.dbschema;B=te,q=$,[].slice.call(q.db.objectStoreNames).forEach(function(oe){return B[oe]==null&&q.db.deleteObjectStore(oe)}),Mo(A,[A.Transaction.prototype]),yi(A,[A.Transaction.prototype],A._storeNames,A._dbSchema),D.schema=A._dbSchema}),O.push(function($){A.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(A.idbdb.version/10)===R._cfg.version?(A.idbdb.deleteObjectStore("$meta"),delete A._dbSchema.$meta,A._storeNames=A._storeNames.filter(function(B){return B!=="$meta"})):$.objectStore("$meta").put(R._cfg.version,"version"))})}),function R(){return O.length?ee.resolve(O.shift()(D.idbtrans)).then(R):ee.resolve()}().then(function(){vc(M,E)})):ee.resolve();var A,I,D,E,O,M}).catch(w)):(c(v).forEach(function(N){Ro(p,N,v[N].primKey,v[N].indexes)}),gi(o,p),void ee.follow(function(){return o.on.populate.fire(b)}).catch(w));var P,C})}function Ff(o,s){vc(o._dbSchema,s),s.db.version%10!=0||s.objectStoreNames.contains("$meta")||s.db.createObjectStore("$meta").add(Math.ceil(s.db.version/10-1),"version");var p=bi(0,o.idbdb,s);_i(o,o._dbSchema,s);for(var h=0,v=Io(p,o._dbSchema).change;h<v.length;h++){var b=function(w){if(w.change.length||w.recreate)return console.warn("Unable to patch indexes of table ".concat(w.name," because it has changes on the type of index or primary key.")),{value:void 0};var S=s.objectStore(w.name);w.add.forEach(function(P){dt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(w.name,".").concat(P.src)),xi(S,P)})}(v[h]);if(typeof b=="object")return b.value}}function Io(o,s){var p,h={del:[],add:[],change:[]};for(p in o)s[p]||h.del.push(p);for(p in s){var v=o[p],b=s[p];if(v){var w={name:p,def:b,recreate:!1,del:[],add:[],change:[]};if(""+(v.primKey.keyPath||"")!=""+(b.primKey.keyPath||"")||v.primKey.auto!==b.primKey.auto)w.recreate=!0,h.change.push(w);else{var S=v.idxByName,P=b.idxByName,C=void 0;for(C in S)P[C]||w.del.push(C);for(C in P){var N=S[C],A=P[C];N?N.src!==A.src&&w.change.push(A):w.add.push(A)}(0<w.del.length||0<w.add.length||0<w.change.length)&&h.change.push(w)}}else h.add.push([p,b])}return h}function Ro(o,s,p,h){var v=o.db.createObjectStore(s,p.keyPath?{keyPath:p.keyPath,autoIncrement:p.auto}:{autoIncrement:p.auto});return h.forEach(function(b){return xi(v,b)}),v}function vc(o,s){c(o).forEach(function(p){s.db.objectStoreNames.contains(p)||(dt&&console.debug("Dexie: Creating missing table",p),Ro(s,p,o[p].primKey,o[p].indexes))})}function xi(o,s){o.createIndex(s.name,s.keyPath,{unique:s.unique,multiEntry:s.multi})}function bi(o,s,p){var h={};return z(s.objectStoreNames,0).forEach(function(v){for(var b=p.objectStore(v),w=Eo(hc(C=b.keyPath),C||"",!0,!1,!!b.autoIncrement,C&&typeof C!="string",!0),S=[],P=0;P<b.indexNames.length;++P){var N=b.index(b.indexNames[P]),C=N.keyPath,N=Eo(N.name,C,!!N.unique,!!N.multiEntry,!1,C&&typeof C!="string",!1);S.push(N)}h[v]=Oo(v,w,S)}),h}function _i(o,s,p){for(var h=p.db.objectStoreNames,v=0;v<h.length;++v){var b=h[v],w=p.objectStore(b);o._hasGetAll="getAll"in w;for(var S=0;S<w.indexNames.length;++S){var P=w.indexNames[S],C=w.index(P).keyPath,N=typeof C=="string"?C:"["+z(C).join("+")+"]";!s[b]||(C=s[b].idxByName[N])&&(C.name=P,delete s[b].idxByName[N],s[b].idxByName[P]=C)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&l.WorkerGlobalScope&&l instanceof l.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(o._hasGetAll=!1)}function gc(o){return o.split(",").map(function(s,p){var b=s.split(":"),h=(v=b[1])===null||v===void 0?void 0:v.trim(),v=(s=b[0].trim()).replace(/([&*]|\+\+)/g,""),b=/^\[/.test(v)?v.match(/^\[(.*)\]$/)[1].split("+"):v;return Eo(v,b||null,/\&/.test(s),/\*/.test(s),/\+\+/.test(s),u(b),p===0,h)})}var $f=(Jn.prototype._createTableSchema=Oo,Jn.prototype._parseIndexSyntax=gc,Jn.prototype._parseStoresSpec=function(o,s){var p=this;c(o).forEach(function(h){if(o[h]!==null){var v=p._parseIndexSyntax(o[h]),b=v.shift();if(!b)throw new de.Schema("Invalid schema for table "+h+": "+o[h]);if(b.unique=!0,b.multi)throw new de.Schema("Primary key cannot be multiEntry*");v.forEach(function(w){if(w.auto)throw new de.Schema("Only primary key can be marked as autoIncrement (++)");if(!w.keyPath)throw new de.Schema("Index must have a name and cannot be an empty string")}),v=p._createTableSchema(h,b,v),s[h]=v}})},Jn.prototype.stores=function(p){var s=this.db;this._cfg.storesSource=this._cfg.storesSource?f(this._cfg.storesSource,p):p;var p=s._versions,h={},v={};return p.forEach(function(b){f(h,b._cfg.storesSource),v=b._cfg.dbschema={},b._parseStoresSpec(h,v)}),s._dbSchema=v,Mo(s,[s._allTables,s,s.Transaction.prototype]),yi(s,[s._allTables,s,s.Transaction.prototype,this._cfg.tables],c(v),v),s._storeNames=c(v),this},Jn.prototype.upgrade=function(o){return this._cfg.contentUpgrade=It(this._cfg.contentUpgrade||Ce,o),this},Jn);function Jn(){}function zo(o,s){var p=o._dbNamesDB;return p||(p=o._dbNamesDB=new on(pi,{addons:[],indexedDB:o,IDBKeyRange:s})).version(1).stores({dbnames:"name"}),p.table("dbnames")}function Fo(o){return o&&typeof o.databases=="function"}function $o(o){return un(function(){return H.letThrough=!0,o()})}function Lo(o){return!("from"in o)}var xt=function(o,s){if(!this){var p=new xt;return o&&"d"in o&&f(p,o),p}f(this,arguments.length?{d:1,from:o,to:1<arguments.length?s:o}:{d:0})};function Er(o,s,p){var h=Me(s,p);if(!isNaN(h)){if(0<h)throw RangeError();if(Lo(o))return f(o,{from:s,to:p,d:1});var v=o.l,h=o.r;if(Me(p,o.from)<0)return v?Er(v,s,p):o.l={from:s,to:p,d:1,l:null,r:null},xc(o);if(0<Me(s,o.to))return h?Er(h,s,p):o.r={from:s,to:p,d:1,l:null,r:null},xc(o);Me(s,o.from)<0&&(o.from=s,o.l=null,o.d=h?h.d+1:1),0<Me(p,o.to)&&(o.to=p,o.r=null,o.d=o.l?o.l.d+1:1),p=!o.r,v&&!o.l&&Or(o,v),h&&p&&Or(o,h)}}function Or(o,s){Lo(s)||function p(h,P){var b=P.from,w=P.to,S=P.l,P=P.r;Er(h,b,w),S&&p(h,S),P&&p(h,P)}(o,s)}function yc(o,s){var p=wi(s),h=p.next();if(h.done)return!1;for(var v=h.value,b=wi(o),w=b.next(v.from),S=w.value;!h.done&&!w.done;){if(Me(S.from,v.to)<=0&&0<=Me(S.to,v.from))return!0;Me(v.from,S.from)<0?v=(h=p.next(S.from)).value:S=(w=b.next(v.from)).value}return!1}function wi(o){var s=Lo(o)?null:{s:0,n:o};return{next:function(p){for(var h=0<arguments.length;s;)switch(s.s){case 0:if(s.s=1,h)for(;s.n.l&&Me(p,s.n.from)<0;)s={up:s,n:s.n.l,s:1};else for(;s.n.l;)s={up:s,n:s.n.l,s:1};case 1:if(s.s=2,!h||Me(p,s.n.to)<=0)return{value:s.n,done:!1};case 2:if(s.n.r){s.s=3,s={up:s,n:s.n.r,s:0};continue}case 3:s=s.up}return{done:!0}}}}function xc(o){var s,p,h=(((s=o.r)===null||s===void 0?void 0:s.d)||0)-(((p=o.l)===null||p===void 0?void 0:p.d)||0),v=1<h?"r":h<-1?"l":"";v&&(s=v=="r"?"l":"r",p=r({},o),h=o[v],o.from=h.from,o.to=h.to,o[v]=h[v],p[v]=h[s],(o[s]=p).d=bc(p)),o.d=bc(o)}function bc(p){var s=p.r,p=p.l;return(s?p?Math.max(s.d,p.d):s.d:p?p.d:0)+1}function ki(o,s){return c(s).forEach(function(p){o[p]?Or(o[p],s[p]):o[p]=function h(v){var b,w,S={};for(b in v)a(v,b)&&(w=v[b],S[b]=!w||typeof w!="object"||ve.has(w.constructor)?w:h(w));return S}(s[p])}),o}function Bo(o,s){return o.all||s.all||Object.keys(o).some(function(p){return s[p]&&yc(s[p],o[p])})}d(xt.prototype,((Ft={add:function(o){return Or(this,o),this},addKey:function(o){return Er(this,o,o),this},addKeys:function(o){var s=this;return o.forEach(function(p){return Er(s,p,p)}),this},hasKey:function(o){var s=wi(this).next(o).value;return s&&Me(s.from,o)<=0&&0<=Me(s.to,o)}})[ot]=function(){return wi(this)},Ft));var Pn={},Vo={},Uo=!1;function Ti(o){ki(Vo,o),Uo||(Uo=!0,setTimeout(function(){Uo=!1,Ko(Vo,!(Vo={}))},0))}function Ko(o,s){s===void 0&&(s=!1);var p=new Set;if(o.all)for(var h=0,v=Object.values(Pn);h<v.length;h++)_c(w=v[h],o,p,s);else for(var b in o){var w,S=/^idb\:\/\/(.*)\/(.*)\//.exec(b);S&&(b=S[1],S=S[2],(w=Pn["idb://".concat(b,"/").concat(S)])&&_c(w,o,p,s))}p.forEach(function(P){return P()})}function _c(o,s,p,h){for(var v=[],b=0,w=Object.entries(o.queries.query);b<w.length;b++){for(var S=w[b],P=S[0],C=[],N=0,A=S[1];N<A.length;N++){var I=A[N];Bo(s,I.obsSet)?I.subscribers.forEach(function(M){return p.add(M)}):h&&C.push(I)}h&&v.push([P,C])}if(h)for(var D=0,E=v;D<E.length;D++){var O=E[D],P=O[0],C=O[1];o.queries.query[P]=C}}function Lf(o){var s=o._state,p=o._deps.indexedDB;if(s.isBeingOpened||o.idbdb)return s.dbReadyPromise.then(function(){return s.dbOpenError?nt(s.dbOpenError):o});s.isBeingOpened=!0,s.dbOpenError=null,s.openComplete=!1;var h=s.openCanceller,v=Math.round(10*o.verno),b=!1;function w(){if(s.openCanceller!==h)throw new de.DatabaseClosed("db.open() was cancelled")}function S(){return new ee(function(I,D){if(w(),!p)throw new de.MissingAPI;var E=o.name,O=s.autoSchema||!v?p.open(E):p.open(E,v);if(!O)throw new de.MissingAPI;O.onerror=Qt(D),O.onblocked=Ze(o._fireOnBlocked),O.onupgradeneeded=Ze(function(M){var R;N=O.transaction,s.autoSchema&&!o._options.allowEmptyDB?(O.onerror=jr,N.abort(),O.result.close(),(R=p.deleteDatabase(E)).onsuccess=R.onerror=Ze(function(){D(new de.NoSuchDatabase("Database ".concat(E," doesnt exist")))})):(N.onerror=Qt(D),M=M.oldVersion>Math.pow(2,62)?0:M.oldVersion,A=M<1,o.idbdb=O.result,b&&Ff(o,N),zf(o,M/10,N,D))},D),O.onsuccess=Ze(function(){N=null;var M,R,$,B,q,te=o.idbdb=O.result,oe=z(te.objectStoreNames);if(0<oe.length)try{var Q=te.transaction((B=oe).length===1?B[0]:B,"readonly");if(s.autoSchema)R=te,$=Q,(M=o).verno=R.version/10,$=M._dbSchema=bi(0,R,$),M._storeNames=z(R.objectStoreNames,0),yi(M,[M._allTables],c($),$);else if(_i(o,o._dbSchema,Q),((q=Io(bi(0,(q=o).idbdb,Q),q._dbSchema)).add.length||q.change.some(function(re){return re.add.length||re.change.length}))&&!b)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),te.close(),v=te.version+1,b=!0,I(S());gi(o,Q)}catch{}Yn.push(o),te.onversionchange=Ze(function(re){s.vcFired=!0,o.on("versionchange").fire(re)}),te.onclose=Ze(function(){o.close({disableAutoOpen:!1})}),A&&(q=o._deps,Q=E,te=q.indexedDB,q=q.IDBKeyRange,Fo(te)||Q===pi||zo(te,q).put({name:Q}).catch(Ce)),I()},D)}).catch(function(I){switch(I==null?void 0:I.name){case"UnknownError":if(0<s.PR1398_maxLoop)return s.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),S();break;case"VersionError":if(0<v)return v=0,S()}return ee.reject(I)})}var P,C=s.dbReadyResolve,N=null,A=!1;return ee.race([h,(typeof navigator>"u"?ee.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(I){function D(){return indexedDB.databases().finally(I)}P=setInterval(D,100),D()}).finally(function(){return clearInterval(P)}):Promise.resolve()).then(S)]).then(function(){return w(),s.onReadyBeingFired=[],ee.resolve($o(function(){return o.on.ready.fire(o.vip)})).then(function I(){if(0<s.onReadyBeingFired.length){var D=s.onReadyBeingFired.reduce(It,Ce);return s.onReadyBeingFired=[],ee.resolve($o(function(){return D(o.vip)})).then(I)}})}).finally(function(){s.openCanceller===h&&(s.onReadyBeingFired=null,s.isBeingOpened=!1)}).catch(function(I){s.dbOpenError=I;try{N&&N.abort()}catch{}return h===s.openCanceller&&o._close(),nt(I)}).finally(function(){s.openComplete=!0,C()}).then(function(){var I;return A&&(I={},o.tables.forEach(function(D){D.schema.indexes.forEach(function(E){E.name&&(I["idb://".concat(o.name,"/").concat(D.name,"/").concat(E.name)]=new xt(-1/0,[[[]]]))}),I["idb://".concat(o.name,"/").concat(D.name,"/")]=I["idb://".concat(o.name,"/").concat(D.name,"/:dels")]=new xt(-1/0,[[[]]])}),hn(Pr).fire(I),Ko(I,!0)),o})}function Zo(o){function s(b){return o.next(b)}var p=v(s),h=v(function(b){return o.throw(b)});function v(b){return function(P){var S=b(P),P=S.value;return S.done?P:P&&typeof P.then=="function"?P.then(p,h):u(P)?Promise.all(P).then(p,h):p(P)}}return v(s)()}function Si(o,s,p){for(var h=u(o)?o.slice():[o],v=0;v<p;++v)h.push(s);return h}var Bf={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(o){return r(r({},o),{table:function(s){var p=o.table(s),h=p.schema,v={},b=[];function w(A,I,D){var E=Dr(A),O=v[E]=v[E]||[],M=A==null?0:typeof A=="string"?1:A.length,R=0<I,R=r(r({},D),{name:R?"".concat(E,"(virtual-from:").concat(D.name,")"):D.name,lowLevelIndex:D,isVirtual:R,keyTail:I,keyLength:M,extractKey:No(A),unique:!R&&D.unique});return O.push(R),R.isPrimaryKey||b.push(R),1<M&&w(M===2?A[0]:A.slice(0,M-1),I+1,D),O.sort(function($,B){return $.keyTail-B.keyTail}),R}s=w(h.primaryKey.keyPath,0,h.primaryKey),v[":id"]=[s];for(var S=0,P=h.indexes;S<P.length;S++){var C=P[S];w(C.keyPath,0,C)}function N(A){var I,D=A.query.index;return D.isVirtual?r(r({},A),{query:{index:D.lowLevelIndex,range:(I=A.query.range,D=D.keyTail,{type:I.type===1?2:I.type,lower:Si(I.lower,I.lowerOpen?o.MAX_KEY:o.MIN_KEY,D),lowerOpen:!0,upper:Si(I.upper,I.upperOpen?o.MIN_KEY:o.MAX_KEY,D),upperOpen:!0})}}):A}return r(r({},p),{schema:r(r({},h),{primaryKey:s,indexes:b,getIndexByKeyPath:function(A){return(A=v[Dr(A)])&&A[0]}}),count:function(A){return p.count(N(A))},query:function(A){return p.query(N(A))},openCursor:function(A){var I=A.query.index,D=I.keyTail,E=I.isVirtual,O=I.keyLength;return E?p.openCursor(N(A)).then(function(R){return R&&M(R)}):p.openCursor(A);function M(R){return Object.create(R,{continue:{value:function($){$!=null?R.continue(Si($,A.reverse?o.MAX_KEY:o.MIN_KEY,D)):A.unique?R.continue(R.key.slice(0,O).concat(A.reverse?o.MIN_KEY:o.MAX_KEY,D)):R.continue()}},continuePrimaryKey:{value:function($,B){R.continuePrimaryKey(Si($,o.MAX_KEY,D),B)}},primaryKey:{get:function(){return R.primaryKey}},key:{get:function(){var $=R.key;return O===1?$[0]:$.slice(0,O)}},value:{get:function(){return R.value}}})}}})}})}};function qo(o,s,p,h){return p=p||{},h=h||"",c(o).forEach(function(v){var b,w,S;a(s,v)?(b=o[v],w=s[v],typeof b=="object"&&typeof w=="object"&&b&&w?(S=Ie(b))!==Ie(w)?p[h+v]=s[v]:S==="Object"?qo(b,w,p,h+v+"."):b!==w&&(p[h+v]=s[v]):b!==w&&(p[h+v]=s[v])):p[h+v]=void 0}),c(s).forEach(function(v){a(o,v)||(p[h+v]=s[v])}),p}function Wo(o,s){return s.type==="delete"?s.keys:s.keys||s.values.map(o.extractKey)}var Vf={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(o){return r(r({},o),{table:function(s){var p=o.table(s),h=p.schema.primaryKey;return r(r({},p),{mutate:function(v){var b=H.trans,w=b.table(s).hook,S=w.deleting,P=w.creating,C=w.updating;switch(v.type){case"add":if(P.fire===Ce)break;return b._promise("readwrite",function(){return N(v)},!0);case"put":if(P.fire===Ce&&C.fire===Ce)break;return b._promise("readwrite",function(){return N(v)},!0);case"delete":if(S.fire===Ce)break;return b._promise("readwrite",function(){return N(v)},!0);case"deleteRange":if(S.fire===Ce)break;return b._promise("readwrite",function(){return function A(I,D,E){return p.query({trans:I,values:!1,query:{index:h,range:D},limit:E}).then(function(O){var M=O.result;return N({type:"delete",keys:M,trans:I}).then(function(R){return 0<R.numFailures?Promise.reject(R.failures[0]):M.length<E?{failures:[],numFailures:0,lastResult:void 0}:A(I,r(r({},D),{lower:M[M.length-1],lowerOpen:!0}),E)})})}(v.trans,v.range,1e4)},!0)}return p.mutate(v);function N(A){var I,D,E,O=H.trans,M=A.keys||Wo(h,A);if(!M)throw new Error("Keys missing");return(A=A.type==="add"||A.type==="put"?r(r({},A),{keys:M}):r({},A)).type!=="delete"&&(A.values=i([],A.values)),A.keys&&(A.keys=i([],A.keys)),I=p,E=M,((D=A).type==="add"?Promise.resolve([]):I.getMany({trans:D.trans,keys:E,cache:"immutable"})).then(function(R){var $=M.map(function(B,q){var te,oe,Q,re=R[q],ae={onerror:null,onsuccess:null};return A.type==="delete"?S.fire.call(ae,B,re,O):A.type==="add"||re===void 0?(te=P.fire.call(ae,B,A.values[q],O),B==null&&te!=null&&(A.keys[q]=B=te,h.outbound||W(A.values[q],h.keyPath,B))):(te=qo(re,A.values[q]),(oe=C.fire.call(ae,te,B,re,O))&&(Q=A.values[q],Object.keys(oe).forEach(function(ie){a(Q,ie)?Q[ie]=oe[ie]:W(Q,ie,oe[ie])}))),ae});return p.mutate(A).then(function(B){for(var q=B.failures,te=B.results,oe=B.numFailures,B=B.lastResult,Q=0;Q<M.length;++Q){var re=(te||M)[Q],ae=$[Q];re==null?ae.onerror&&ae.onerror(q[Q]):ae.onsuccess&&ae.onsuccess(A.type==="put"&&R[Q]?A.values[Q]:re)}return{failures:q,results:te,numFailures:oe,lastResult:B}}).catch(function(B){return $.forEach(function(q){return q.onerror&&q.onerror(B)}),Promise.reject(B)})})}}})}})}};function wc(o,s,p){try{if(!s||s.keys.length<o.length)return null;for(var h=[],v=0,b=0;v<s.keys.length&&b<o.length;++v)Me(s.keys[v],o[b])===0&&(h.push(p?Ae(s.values[v]):s.values[v]),++b);return h.length===o.length?h:null}catch{return null}}var Uf={stack:"dbcore",level:-1,create:function(o){return{table:function(s){var p=o.table(s);return r(r({},p),{getMany:function(h){if(!h.cache)return p.getMany(h);var v=wc(h.keys,h.trans._cache,h.cache==="clone");return v?ee.resolve(v):p.getMany(h).then(function(b){return h.trans._cache={keys:h.keys,values:h.cache==="clone"?Ae(b):b},b})},mutate:function(h){return h.type!=="add"&&(h.trans._cache=null),p.mutate(h)}})}}}};function kc(o,s){return o.trans.mode==="readonly"&&!!o.subscr&&!o.trans.explicit&&o.trans.db._options.cache!=="disabled"&&!s.schema.primaryKey.outbound}function Tc(o,s){switch(o){case"query":return s.values&&!s.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Kf={stack:"dbcore",level:0,name:"Observability",create:function(o){var s=o.schema.name,p=new xt(o.MIN_KEY,o.MAX_KEY);return r(r({},o),{transaction:function(h,v,b){if(H.subscr&&v!=="readonly")throw new de.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(H.querier));return o.transaction(h,v,b)},table:function(h){var v=o.table(h),b=v.schema,w=b.primaryKey,A=b.indexes,S=w.extractKey,P=w.outbound,C=w.autoIncrement&&A.filter(function(D){return D.compound&&D.keyPath.includes(w.keyPath)}),N=r(r({},v),{mutate:function(D){function E(ie){return ie="idb://".concat(s,"/").concat(h,"/").concat(ie),B[ie]||(B[ie]=new xt)}var O,M,R,$=D.trans,B=D.mutatedParts||(D.mutatedParts={}),q=E(""),te=E(":dels"),oe=D.type,ae=D.type==="deleteRange"?[D.range]:D.type==="delete"?[D.keys]:D.values.length<50?[Wo(w,D).filter(function(ie){return ie}),D.values]:[],Q=ae[0],re=ae[1],ae=D.trans._cache;return u(Q)?(q.addKeys(Q),(ae=oe==="delete"||Q.length===re.length?wc(Q,ae):null)||te.addKeys(Q),(ae||re)&&(O=E,M=ae,R=re,b.indexes.forEach(function(ie){var pe=O(ie.name||"");function Te(De){return De!=null?ie.extractKey(De):null}function je(De){return ie.multiEntry&&u(De)?De.forEach(function(Ot){return pe.addKey(Ot)}):pe.addKey(De)}(M||R).forEach(function(De,bt){var ke=M&&Te(M[bt]),bt=R&&Te(R[bt]);Me(ke,bt)!==0&&(ke!=null&&je(ke),bt!=null&&je(bt))})}))):Q?(re={from:(re=Q.lower)!==null&&re!==void 0?re:o.MIN_KEY,to:(re=Q.upper)!==null&&re!==void 0?re:o.MAX_KEY},te.add(re),q.add(re)):(q.add(p),te.add(p),b.indexes.forEach(function(ie){return E(ie.name).add(p)})),v.mutate(D).then(function(ie){return!Q||D.type!=="add"&&D.type!=="put"||(q.addKeys(ie.results),C&&C.forEach(function(pe){for(var Te=D.values.map(function(ke){return pe.extractKey(ke)}),je=pe.keyPath.findIndex(function(ke){return ke===w.keyPath}),De=0,Ot=ie.results.length;De<Ot;++De)Te[De][je]=ie.results[De];E(pe.name).addKeys(Te)})),$.mutatedParts=ki($.mutatedParts||{},B),ie})}}),A=function(E){var O=E.query,E=O.index,O=O.range;return[E,new xt((E=O.lower)!==null&&E!==void 0?E:o.MIN_KEY,(O=O.upper)!==null&&O!==void 0?O:o.MAX_KEY)]},I={get:function(D){return[w,new xt(D.key)]},getMany:function(D){return[w,new xt().addKeys(D.keys)]},count:A,query:A,openCursor:A};return c(I).forEach(function(D){N[D]=function(E){var O=H.subscr,M=!!O,R=kc(H,v)&&Tc(D,E)?E.obsSet={}:O;if(M){var $=function(re){return re="idb://".concat(s,"/").concat(h,"/").concat(re),R[re]||(R[re]=new xt)},B=$(""),q=$(":dels"),O=I[D](E),M=O[0],O=O[1];if((D==="query"&&M.isPrimaryKey&&!E.values?q:$(M.name||"")).add(O),!M.isPrimaryKey){if(D!=="count"){var te=D==="query"&&P&&E.values&&v.query(r(r({},E),{values:!1}));return v[D].apply(this,arguments).then(function(re){if(D==="query"){if(P&&E.values)return te.then(function(Te){return Te=Te.result,B.addKeys(Te),re});var ae=E.values?re.result.map(S):re.result;(E.values?B:q).addKeys(ae)}else if(D==="openCursor"){var ie=re,pe=E.values;return ie&&Object.create(ie,{key:{get:function(){return q.addKey(ie.primaryKey),ie.key}},primaryKey:{get:function(){var Te=ie.primaryKey;return q.addKey(Te),Te}},value:{get:function(){return pe&&B.addKey(ie.primaryKey),ie.value}}})}return re})}q.add(p)}}return v[D].apply(this,arguments)}}),N}})}};function Sc(o,s,p){if(p.numFailures===0)return s;if(s.type==="deleteRange")return null;var h=s.keys?s.keys.length:"values"in s&&s.values?s.values.length:1;return p.numFailures===h?null:(s=r({},s),u(s.keys)&&(s.keys=s.keys.filter(function(v,b){return!(b in p.failures)})),"values"in s&&u(s.values)&&(s.values=s.values.filter(function(v,b){return!(b in p.failures)})),s)}function Ho(o,s){return p=o,((h=s).lower===void 0||(h.lowerOpen?0<Me(p,h.lower):0<=Me(p,h.lower)))&&(o=o,(s=s).upper===void 0||(s.upperOpen?Me(o,s.upper)<0:Me(o,s.upper)<=0));var p,h}function Ac(o,s,I,h,v,b){if(!I||I.length===0)return o;var w=s.query.index,S=w.multiEntry,P=s.query.range,C=h.schema.primaryKey.extractKey,N=w.extractKey,A=(w.lowLevelIndex||w).extractKey,I=I.reduce(function(D,E){var O=D,M=[];if(E.type==="add"||E.type==="put")for(var R=new xt,$=E.values.length-1;0<=$;--$){var B,q=E.values[$],te=C(q);R.hasKey(te)||(B=N(q),(S&&u(B)?B.some(function(ie){return Ho(ie,P)}):Ho(B,P))&&(R.addKey(te),M.push(q)))}switch(E.type){case"add":var oe=new xt().addKeys(s.values?D.map(function(pe){return C(pe)}):D),O=D.concat(s.values?M.filter(function(pe){return pe=C(pe),!oe.hasKey(pe)&&(oe.addKey(pe),!0)}):M.map(function(pe){return C(pe)}).filter(function(pe){return!oe.hasKey(pe)&&(oe.addKey(pe),!0)}));break;case"put":var Q=new xt().addKeys(E.values.map(function(pe){return C(pe)}));O=D.filter(function(pe){return!Q.hasKey(s.values?C(pe):pe)}).concat(s.values?M:M.map(function(pe){return C(pe)}));break;case"delete":var re=new xt().addKeys(E.keys);O=D.filter(function(pe){return!re.hasKey(s.values?C(pe):pe)});break;case"deleteRange":var ae=E.range;O=D.filter(function(pe){return!Ho(C(pe),ae)})}return O},o);return I===o?o:(I.sort(function(D,E){return Me(A(D),A(E))||Me(C(D),C(E))}),s.limit&&s.limit<1/0&&(I.length>s.limit?I.length=s.limit:o.length===s.limit&&I.length<s.limit&&(v.dirty=!0)),b?Object.freeze(I):I)}function jc(o,s){return Me(o.lower,s.lower)===0&&Me(o.upper,s.upper)===0&&!!o.lowerOpen==!!s.lowerOpen&&!!o.upperOpen==!!s.upperOpen}function Zf(o,s){return function(p,h,v,b){if(p===void 0)return h!==void 0?-1:0;if(h===void 0)return 1;if((h=Me(p,h))===0){if(v&&b)return 0;if(v)return 1;if(b)return-1}return h}(o.lower,s.lower,o.lowerOpen,s.lowerOpen)<=0&&0<=function(p,h,v,b){if(p===void 0)return h!==void 0?1:0;if(h===void 0)return-1;if((h=Me(p,h))===0){if(v&&b)return 0;if(v)return-1;if(b)return 1}return h}(o.upper,s.upper,o.upperOpen,s.upperOpen)}function qf(o,s,p,h){o.subscribers.add(p),h.addEventListener("abort",function(){var v,b;o.subscribers.delete(p),o.subscribers.size===0&&(v=o,b=s,setTimeout(function(){v.subscribers.size===0&&fe(b,v)},3e3))})}var Wf={stack:"dbcore",level:0,name:"Cache",create:function(o){var s=o.schema.name;return r(r({},o),{transaction:function(p,h,v){var b,w,S=o.transaction(p,h,v);return h==="readwrite"&&(w=(b=new AbortController).signal,v=function(P){return function(){if(b.abort(),h==="readwrite"){for(var C=new Set,N=0,A=p;N<A.length;N++){var I=A[N],D=Pn["idb://".concat(s,"/").concat(I)];if(D){var E=o.table(I),O=D.optimisticOps.filter(function(pe){return pe.trans===S});if(S._explicit&&P&&S.mutatedParts)for(var M=0,R=Object.values(D.queries.query);M<R.length;M++)for(var $=0,B=(oe=R[M]).slice();$<B.length;$++)Bo((Q=B[$]).obsSet,S.mutatedParts)&&(fe(oe,Q),Q.subscribers.forEach(function(pe){return C.add(pe)}));else if(0<O.length){D.optimisticOps=D.optimisticOps.filter(function(pe){return pe.trans!==S});for(var q=0,te=Object.values(D.queries.query);q<te.length;q++)for(var oe,Q,re,ae=0,ie=(oe=te[q]).slice();ae<ie.length;ae++)(Q=ie[ae]).res!=null&&S.mutatedParts&&(P&&!Q.dirty?(re=Object.isFrozen(Q.res),re=Ac(Q.res,Q.req,O,E,Q,re),Q.dirty?(fe(oe,Q),Q.subscribers.forEach(function(pe){return C.add(pe)})):re!==Q.res&&(Q.res=re,Q.promise=ee.resolve({result:re}))):(Q.dirty&&fe(oe,Q),Q.subscribers.forEach(function(pe){return C.add(pe)})))}}}C.forEach(function(pe){return pe()})}}},S.addEventListener("abort",v(!1),{signal:w}),S.addEventListener("error",v(!1),{signal:w}),S.addEventListener("complete",v(!0),{signal:w})),S},table:function(p){var h=o.table(p),v=h.schema.primaryKey;return r(r({},h),{mutate:function(b){var w=H.trans;if(v.outbound||w.db._options.cache==="disabled"||w.explicit||w.idbtrans.mode!=="readwrite")return h.mutate(b);var S=Pn["idb://".concat(s,"/").concat(p)];return S?(w=h.mutate(b),b.type!=="add"&&b.type!=="put"||!(50<=b.values.length||Wo(v,b).some(function(P){return P==null}))?(S.optimisticOps.push(b),b.mutatedParts&&Ti(b.mutatedParts),w.then(function(P){0<P.numFailures&&(fe(S.optimisticOps,b),(P=Sc(0,b,P))&&S.optimisticOps.push(P),b.mutatedParts&&Ti(b.mutatedParts))}),w.catch(function(){fe(S.optimisticOps,b),b.mutatedParts&&Ti(b.mutatedParts)})):w.then(function(P){var C=Sc(0,r(r({},b),{values:b.values.map(function(N,A){var I;return P.failures[A]?N:(N=(I=v.keyPath)!==null&&I!==void 0&&I.includes(".")?Ae(N):r({},N),W(N,v.keyPath,P.results[A]),N)})}),P);S.optimisticOps.push(C),queueMicrotask(function(){return b.mutatedParts&&Ti(b.mutatedParts)})}),w):h.mutate(b)},query:function(b){if(!kc(H,h)||!Tc("query",b))return h.query(b);var w=((C=H.trans)===null||C===void 0?void 0:C.db._options.cache)==="immutable",A=H,S=A.requery,P=A.signal,C=function(E,O,M,R){var $=Pn["idb://".concat(E,"/").concat(O)];if(!$)return[];if(!(O=$.queries[M]))return[null,!1,$,null];var B=O[(R.query?R.query.index.name:null)||""];if(!B)return[null,!1,$,null];switch(M){case"query":var q=B.find(function(te){return te.req.limit===R.limit&&te.req.values===R.values&&jc(te.req.query.range,R.query.range)});return q?[q,!0,$,B]:[B.find(function(te){return("limit"in te.req?te.req.limit:1/0)>=R.limit&&(!R.values||te.req.values)&&Zf(te.req.query.range,R.query.range)}),!1,$,B];case"count":return q=B.find(function(te){return jc(te.req.query.range,R.query.range)}),[q,!!q,$,B]}}(s,p,"query",b),N=C[0],A=C[1],I=C[2],D=C[3];return N&&A?N.obsSet=b.obsSet:(A=h.query(b).then(function(E){var O=E.result;if(N&&(N.res=O),w){for(var M=0,R=O.length;M<R;++M)Object.freeze(O[M]);Object.freeze(O)}else E.result=Ae(O);return E}).catch(function(E){return D&&N&&fe(D,N),Promise.reject(E)}),N={obsSet:b.obsSet,promise:A,subscribers:new Set,type:"query",req:b,dirty:!1},D?D.push(N):(D=[N],(I=I||(Pn["idb://".concat(s,"/").concat(p)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[b.query.index.name||""]=D)),qf(N,D,S,P),N.promise.then(function(E){return{result:Ac(E.result,b,I==null?void 0:I.optimisticOps,h,N,w)}})}})}})}};function Ai(o,s){return new Proxy(o,{get:function(p,h,v){return h==="db"?s:Reflect.get(p,h,v)}})}var on=(rt.prototype.version=function(o){if(isNaN(o)||o<.1)throw new de.Type("Given version is not a positive number");if(o=Math.round(10*o)/10,this.idbdb||this._state.isBeingOpened)throw new de.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,o);var s=this._versions,p=s.filter(function(h){return h._cfg.version===o})[0];return p||(p=new this.Version(o),s.push(p),s.sort(Rf),p.stores({}),this._state.autoSchema=!1,p)},rt.prototype._whenReady=function(o){var s=this;return this.idbdb&&(this._state.openComplete||H.letThrough||this._vip)?o():new ee(function(p,h){if(s._state.openComplete)return h(new de.DatabaseClosed(s._state.dbOpenError));if(!s._state.isBeingOpened){if(!s._state.autoOpen)return void h(new de.DatabaseClosed);s.open().catch(Ce)}s._state.dbReadyPromise.then(p,h)}).then(o)},rt.prototype.use=function(o){var s=o.stack,p=o.create,h=o.level,v=o.name;return v&&this.unuse({stack:s,name:v}),o=this._middlewares[s]||(this._middlewares[s]=[]),o.push({stack:s,create:p,level:h??10,name:v}),o.sort(function(b,w){return b.level-w.level}),this},rt.prototype.unuse=function(o){var s=o.stack,p=o.name,h=o.create;return s&&this._middlewares[s]&&(this._middlewares[s]=this._middlewares[s].filter(function(v){return h?v.create!==h:!!p&&v.name!==p})),this},rt.prototype.open=function(){var o=this;return Sn(Y,function(){return Lf(o)})},rt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var o=this._state,s=Yn.indexOf(this);if(0<=s&&Yn.splice(s,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}o.isBeingOpened||(o.dbReadyPromise=new ee(function(p){o.dbReadyResolve=p}),o.openCanceller=new ee(function(p,h){o.cancelOpen=h}))},rt.prototype.close=function(p){var s=(p===void 0?{disableAutoOpen:!0}:p).disableAutoOpen,p=this._state;s?(p.isBeingOpened&&p.cancelOpen(new de.DatabaseClosed),this._close(),p.autoOpen=!1,p.dbOpenError=new de.DatabaseClosed):(this._close(),p.autoOpen=this._options.autoOpen||p.isBeingOpened,p.openComplete=!1,p.dbOpenError=null)},rt.prototype.delete=function(o){var s=this;o===void 0&&(o={disableAutoOpen:!0});var p=0<arguments.length&&typeof arguments[0]!="object",h=this._state;return new ee(function(v,b){function w(){s.close(o);var S=s._deps.indexedDB.deleteDatabase(s.name);S.onsuccess=Ze(function(){var P,C,N;P=s._deps,C=s.name,N=P.indexedDB,P=P.IDBKeyRange,Fo(N)||C===pi||zo(N,P).delete(C).catch(Ce),v()}),S.onerror=Qt(b),S.onblocked=s._fireOnBlocked}if(p)throw new de.InvalidArgument("Invalid closeOptions argument to db.delete()");h.isBeingOpened?h.dbReadyPromise.then(w):w()})},rt.prototype.backendDB=function(){return this.idbdb},rt.prototype.isOpen=function(){return this.idbdb!==null},rt.prototype.hasBeenClosed=function(){var o=this._state.dbOpenError;return o&&o.name==="DatabaseClosed"},rt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},rt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(rt.prototype,"tables",{get:function(){var o=this;return c(this._allTables).map(function(s){return o._allTables[s]})},enumerable:!1,configurable:!0}),rt.prototype.transaction=function(){var o=(function(s,p,h){var v=arguments.length;if(v<2)throw new de.InvalidArgument("Too few arguments");for(var b=new Array(v-1);--v;)b[v-1]=arguments[v];return h=b.pop(),[s,le(b),h]}).apply(this,arguments);return this._transaction.apply(this,o)},rt.prototype._transaction=function(o,s,p){var h=this,v=H.trans;v&&v.db===this&&o.indexOf("!")===-1||(v=null);var b,w,S=o.indexOf("?")!==-1;o=o.replace("!","").replace("?","");try{if(w=s.map(function(C){if(C=C instanceof h.Table?C.name:C,typeof C!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return C}),o=="r"||o===Ao)b=Ao;else{if(o!="rw"&&o!=jo)throw new de.InvalidArgument("Invalid transaction mode: "+o);b=jo}if(v){if(v.mode===Ao&&b===jo){if(!S)throw new de.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");v=null}v&&w.forEach(function(C){if(v&&v.storeNames.indexOf(C)===-1){if(!S)throw new de.SubTransaction("Table "+C+" not included in parent transaction.");v=null}}),S&&v&&!v.active&&(v=null)}}catch(C){return v?v._promise(null,function(N,A){A(C)}):nt(C)}var P=(function C(N,A,I,D,E){return ee.resolve().then(function(){var O=H.transless||H,M=N._createTransaction(A,I,N._dbSchema,D);if(M.explicit=!0,O={trans:M,transless:O},D)M.idbtrans=D.idbtrans;else try{M.create(),M.idbtrans._explicit=!0,N._state.PR1398_maxLoop=3}catch(B){return B.name===Oe.InvalidState&&N.isOpen()&&0<--N._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),N.close({disableAutoOpen:!1}),N.open().then(function(){return C(N,A,I,null,E)})):nt(B)}var R,$=ue(E);return $&&Gn(),O=ee.follow(function(){var B;(R=E.call(M,M))&&($?(B=pn.bind(null,null),R.then(B,B)):typeof R.next=="function"&&typeof R.throw=="function"&&(R=Zo(R)))},O),(R&&typeof R.then=="function"?ee.resolve(R).then(function(B){return M.active?B:nt(new de.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):O.then(function(){return R})).then(function(B){return D&&M._resolve(),M._completion.then(function(){return B})}).catch(function(B){return M._reject(B),nt(B)})})}).bind(null,this,b,w,v,p);return v?v._promise(b,P,"lock"):H.trans?Sn(H.transless,function(){return h._whenReady(P)}):this._whenReady(P)},rt.prototype.table=function(o){if(!a(this._allTables,o))throw new de.InvalidTable("Table ".concat(o," does not exist"));return this._allTables[o]},rt);function rt(o,s){var p=this;this._middlewares={},this.verno=0;var h=rt.dependencies;this._options=s=r({addons:rt.addons,autoOpen:!0,indexedDB:h.indexedDB,IDBKeyRange:h.IDBKeyRange,cache:"cloned"},s),this._deps={indexedDB:s.indexedDB,IDBKeyRange:s.IDBKeyRange},h=s.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var v,b,w,S,P,C={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ce,dbReadyPromise:null,cancelOpen:Ce,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:s.autoOpen};C.dbReadyPromise=new ee(function(A){C.dbReadyResolve=A}),C.openCanceller=new ee(function(A,I){C.cancelOpen=I}),this._state=C,this.name=o,this.on=Sr(this,"populate","blocked","versionchange","close",{ready:[It,Ce]}),this.once=function(A,I){var D=function(){for(var E=[],O=0;O<arguments.length;O++)E[O]=arguments[O];p.on(A).unsubscribe(D),I.apply(p,E)};return p.on(A,D)},this.on.ready.subscribe=F(this.on.ready.subscribe,function(A){return function(I,D){rt.vip(function(){var E,O=p._state;O.openComplete?(O.dbOpenError||ee.resolve().then(I),D&&A(I)):O.onReadyBeingFired?(O.onReadyBeingFired.push(I),D&&A(I)):(A(I),E=p,D||A(function M(){E.on.ready.unsubscribe(I),E.on.ready.unsubscribe(M)}))})}}),this.Collection=(v=this,Ar(Cf.prototype,function(R,M){this.db=v;var D=nc,E=null;if(M)try{D=M()}catch($){E=$}var O=R._ctx,M=O.table,R=M.hook.reading.fire;this._ctx={table:M,index:O.index,isPrimKey:!O.index||M.schema.primKey.keyPath&&O.index===M.schema.primKey.name,range:D,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:E,or:O.or,valueMapper:R!==pt?R:null}})),this.Table=(b=this,Ar(cc.prototype,function(A,I,D){this.db=b,this._tx=D,this.name=A,this.schema=I,this.hook=b._allTables[A]?b._allTables[A].hook:Sr(null,{creating:[gt,Ce],reading:[_e,pt],updating:[kt,Ce],deleting:[$e,Ce]})})),this.Transaction=(w=this,Ar(Of.prototype,function(A,I,D,E,O){var M=this;A!=="readonly"&&I.forEach(function(R){R=(R=D[R])===null||R===void 0?void 0:R.yProps,R&&(I=I.concat(R.map(function($){return $.updatesTable})))}),this.db=w,this.mode=A,this.storeNames=I,this.schema=D,this.chromeTransactionDurability=E,this.idbtrans=null,this.on=Sr(this,"complete","error","abort"),this.parent=O||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ee(function(R,$){M._resolve=R,M._reject=$}),this._completion.then(function(){M.active=!1,M.on.complete.fire()},function(R){var $=M.active;return M.active=!1,M.on.error.fire(R),M.parent?M.parent._reject(R):$&&M.idbtrans&&M.idbtrans.abort(),nt(R)})})),this.Version=(S=this,Ar($f.prototype,function(A){this.db=S,this._cfg={version:A,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(P=this,Ar(fc.prototype,function(A,I,D){if(this.db=P,this._ctx={table:A,index:I===":id"?null:I,or:D},this._cmp=this._ascending=Me,this._descending=function(E,O){return Me(O,E)},this._max=function(E,O){return 0<Me(E,O)?E:O},this._min=function(E,O){return Me(E,O)<0?E:O},this._IDBKeyRange=P._deps.IDBKeyRange,!this._IDBKeyRange)throw new de.MissingAPI})),this.on("versionchange",function(A){0<A.newVersion?console.warn("Another connection wants to upgrade database '".concat(p.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(p.name,"'. Closing db now to resume the delete request.")),p.close({disableAutoOpen:!1})}),this.on("blocked",function(A){!A.newVersion||A.newVersion<A.oldVersion?console.warn("Dexie.delete('".concat(p.name,"') was blocked")):console.warn("Upgrade '".concat(p.name,"' blocked by other connection holding version ").concat(A.oldVersion/10))}),this._maxKey=Cr(s.IDBKeyRange),this._createTransaction=function(A,I,D,E){return new p.Transaction(A,I,D,p._options.chromeTransactionDurability,E)},this._fireOnBlocked=function(A){p.on("blocked").fire(A),Yn.filter(function(I){return I.name===p.name&&I!==p&&!I._state.vcFired}).map(function(I){return I.on("versionchange").fire(A)})},this.use(Uf),this.use(Wf),this.use(Kf),this.use(Bf),this.use(Vf);var N=new Proxy(this,{get:function(A,I,D){if(I==="_vip")return!0;if(I==="table")return function(O){return Ai(p.table(O),N)};var E=Reflect.get(A,I,D);return E instanceof cc?Ai(E,N):I==="tables"?E.map(function(O){return Ai(O,N)}):I==="_createTransaction"?function(){return Ai(E.apply(this,arguments),N)}:E}});this.vip=N,h.forEach(function(A){return A(p)})}var ji,Ft=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Hf=(Go.prototype.subscribe=function(o,s,p){return this._subscribe(o&&typeof o!="function"?o:{next:o,error:s,complete:p})},Go.prototype[Ft]=function(){return this},Go);function Go(o){this._subscribe=o}try{ji={indexedDB:l.indexedDB||l.mozIndexedDB||l.webkitIndexedDB||l.msIndexedDB,IDBKeyRange:l.IDBKeyRange||l.webkitIDBKeyRange}}catch{ji={indexedDB:null,IDBKeyRange:null}}function Pc(o){var s,p=!1,h=new Hf(function(v){var b=ue(o),w,S=!1,P={},C={},N={get closed(){return S},unsubscribe:function(){S||(S=!0,w&&w.abort(),A&&hn.storagemutated.unsubscribe(D))}};v.start&&v.start(N);var A=!1,I=function(){return So(E)},D=function(O){ki(P,O),Bo(C,P)&&I()},E=function(){var O,M,R;!S&&ji.indexedDB&&(P={},O={},w&&w.abort(),w=new AbortController,R=function($){var B=cn();try{b&&Gn();var q=un(o,$);return q=b?q.finally(pn):q}finally{B&&ln()}}(M={subscr:O,signal:w.signal,requery:I,querier:o,trans:null}),Promise.resolve(R).then(function($){p=!0,s=$,S||M.signal.aborted||(P={},function(B){for(var q in B)if(a(B,q))return;return 1}(C=O)||A||(hn(Pr,D),A=!0),So(function(){return!S&&v.next&&v.next($)}))},function($){p=!1,["DatabaseClosedError","AbortError"].includes($==null?void 0:$.name)||S||So(function(){S||v.error&&v.error($)})}))};return setTimeout(I,0),N});return h.hasValue=function(){return p},h.getValue=function(){return s},h}var Cn=on;function Yo(o){var s=mn;try{mn=!0,hn.storagemutated.fire(o),Ko(o,!0)}finally{mn=s}}d(Cn,r(r({},Fe),{delete:function(o){return new Cn(o,{addons:[]}).delete()},exists:function(o){return new Cn(o,{addons:[]}).open().then(function(s){return s.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(o){try{return s=Cn.dependencies,p=s.indexedDB,s=s.IDBKeyRange,(Fo(p)?Promise.resolve(p.databases()).then(function(h){return h.map(function(v){return v.name}).filter(function(v){return v!==pi})}):zo(p,s).toCollection().primaryKeys()).then(o)}catch{return nt(new de.MissingAPI)}var s,p},defineClass:function(){return function(o){f(this,o)}},ignoreTransaction:function(o){return H.trans?Sn(H.transless,o):o()},vip:$o,async:function(o){return function(){try{var s=Zo(o.apply(this,arguments));return s&&typeof s.then=="function"?s:ee.resolve(s)}catch(p){return nt(p)}}},spawn:function(o,s,p){try{var h=Zo(o.apply(p,s||[]));return h&&typeof h.then=="function"?h:ee.resolve(h)}catch(v){return nt(v)}},currentTransaction:{get:function(){return H.trans||null}},waitFor:function(o,s){return s=ee.resolve(typeof o=="function"?Cn.ignoreTransaction(o):o).timeout(s||6e4),H.trans?H.trans.waitFor(s):s},Promise:ee,debug:{get:function(){return dt},set:function(o){Tn(o)}},derive:T,extend:f,props:d,override:F,Events:Sr,on:hn,liveQuery:Pc,extendObservabilitySet:ki,getByKeyPath:J,setByKeyPath:W,delByKeyPath:function(o,s){typeof s=="string"?W(o,s,void 0):"length"in s&&[].map.call(s,function(p){W(o,p,void 0)})},shallowClone:V,deepClone:Ae,getObjectDiff:qo,cmp:Me,asap:X,minKey:-1/0,addons:[],connections:Yn,errnames:Oe,dependencies:ji,cache:Pn,semVer:"4.2.1",version:"4.2.1".split(".").map(function(o){return parseInt(o)}).reduce(function(o,s,p){return o+s/Math.pow(10,2*p)})})),Cn.maxKey=Cr(Cn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(hn(Pr,function(o){mn||(o=new CustomEvent(Do,{detail:o}),mn=!0,dispatchEvent(o),mn=!1)}),addEventListener(Do,function(o){o=o.detail,mn||Yo(o)}));var er,mn=!1,Cc=function(){};return typeof BroadcastChannel<"u"&&((Cc=function(){(er=new BroadcastChannel(Do)).onmessage=function(o){return o.data&&Yo(o.data)}})(),typeof er.unref=="function"&&er.unref(),hn(Pr,function(o){mn||er.postMessage(o)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(o){if(!on.disableBfCache&&o.persisted){dt&&console.debug("Dexie: handling persisted pagehide"),er!=null&&er.close();for(var s=0,p=Yn;s<p.length;s++)p[s].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(o){!on.disableBfCache&&o.persisted&&(dt&&console.debug("Dexie: handling persisted pageshow"),Cc(),Yo({all:new xt(-1/0,[[]])}))})),ee.rejectionMapper=function(o,s){return!o||o instanceof se||o instanceof TypeError||o instanceof SyntaxError||!o.name||!Kt[o.name]?o:(s=new Kt[o.name](s||o.message,o),"stack"in o&&_(s,"stack",{get:function(){return this.inner.stack}}),s)},Tn(dt),r(on,Object.freeze({__proto__:null,Dexie:on,liveQuery:Pc,Entity:rc,cmp:Me,PropModification:Tr,replacePrefix:function(o,s){return new Tr({replacePrefix:[o,s]})},add:function(o){return new Tr({add:o})},remove:function(o){return new Tr({remove:o})},default:on,RangeSet:xt,mergeRanges:Or,rangesOverlap:yc}),{default:on}),on})})(Uu);var mh=Uu.exports;const ka=lo(mh),Ic=Symbol.for("Dexie"),qi=globalThis[Ic]||(globalThis[Ic]=ka);if(ka.semVer!==qi.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${ka.semVer} and ${qi.semVer}`);const{liveQuery:NT,mergeRanges:MT,rangesOverlap:IT,RangeSet:RT,cmp:zT,Entity:FT,PropModification:$T,replacePrefix:LT,add:BT,remove:VT,DexieYProvider:UT}=qi;class vh extends qi{constructor(){super("universal-timer-db");Dc(this,"timers");this.version(1).stores({timers:"id"})}}const as=new vh,gh=async()=>as.timers.toArray(),Qo=async e=>{await as.timers.put(e)},yh=async e=>{await as.timers.delete(e)};function K(e,t,n){function r(u,f){if(u._zod||Object.defineProperty(u,"_zod",{value:{def:f,constr:c,traits:new Set},enumerable:!1}),u._zod.traits.has(e))return;u._zod.traits.add(e),t(u,f);const m=c.prototype,y=Object.keys(m);for(let a=0;a<y.length;a++){const d=y[a];d in u||(u[d]=m[d].bind(u))}}const i=(n==null?void 0:n.Parent)??Object;class l extends i{}Object.defineProperty(l,"name",{value:e});function c(u){var f;const m=n!=null&&n.Parent?new l:this;r(m,u),(f=m._zod).deferred??(f.deferred=[]);for(const y of m._zod.deferred)y();return m}return Object.defineProperty(c,"init",{value:r}),Object.defineProperty(c,Symbol.hasInstance,{value:u=>{var f,m;return n!=null&&n.Parent&&u instanceof n.Parent?!0:(m=(f=u==null?void 0:u._zod)==null?void 0:f.traits)==null?void 0:m.has(e)}}),Object.defineProperty(c,"name",{value:e}),c}class ur extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Ku extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const Zu={};function $n(e){return Zu}function xh(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,i])=>t.indexOf(+r)===-1).map(([r,i])=>i)}function Ta(e,t){return typeof t=="bigint"?t.toString():t}function ss(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function cs(e){return e==null}function ls(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function bh(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const f=r.match(/\d?e-(\d?)/);f!=null&&f[1]&&(i=Number.parseInt(f[1]))}const l=n>i?n:i,c=Number.parseInt(e.toFixed(l).replace(".","")),u=Number.parseInt(t.toFixed(l).replace(".",""));return c%u/10**l}const Rc=Symbol("evaluating");function Le(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==Rc)return r===void 0&&(r=Rc,r=n()),r},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}function Un(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Kn(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function zc(e){return JSON.stringify(e)}function _h(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const qu="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Wi(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const wh=ss(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Br(e){if(Wi(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(Wi(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Wu(e){return Br(e)?{...e}:Array.isArray(e)?[...e]:e}const kh=new Set(["string","number","symbol"]);function dr(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function wn(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function me(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function Th(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const Sh={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Ah(e,t){const n=e._zod.def,r=Kn(e._zod.def,{get shape(){const i={};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(i[l]=n.shape[l])}return Un(this,"shape",i),i},checks:[]});return wn(e,r)}function jh(e,t){const n=e._zod.def,r=Kn(e._zod.def,{get shape(){const i={...e._zod.def.shape};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&delete i[l]}return Un(this,"shape",i),i},checks:[]});return wn(e,r)}function Ph(e,t){if(!Br(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=Kn(e._zod.def,{get shape(){const l={...e._zod.def.shape,...t};return Un(this,"shape",l),l},checks:[]});return wn(e,i)}function Ch(e,t){if(!Br(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return Un(this,"shape",r),r},checks:e._zod.def.checks};return wn(e,n)}function Dh(e,t){const n=Kn(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return Un(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return wn(e,n)}function Eh(e,t,n){const r=Kn(t._zod.def,{get shape(){const i=t._zod.def.shape,l={...i};if(n)for(const c in n){if(!(c in i))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(l[c]=e?new e({type:"optional",innerType:i[c]}):i[c])}else for(const c in i)l[c]=e?new e({type:"optional",innerType:i[c]}):i[c];return Un(this,"shape",l),l},checks:[]});return wn(t,r)}function Oh(e,t,n){const r=Kn(t._zod.def,{get shape(){const i=t._zod.def.shape,l={...i};if(n)for(const c in n){if(!(c in l))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(l[c]=new e({type:"nonoptional",innerType:i[c]}))}else for(const c in i)l[c]=new e({type:"nonoptional",innerType:i[c]});return Un(this,"shape",l),l},checks:[]});return wn(t,r)}function ir(e,t=0){var n;if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function Hu(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Ci(e){return typeof e=="string"?e:e==null?void 0:e.message}function Ln(e,t,n){var i,l,c,u,f,m;const r={...e,path:e.path??[]};if(!e.message){const y=Ci((c=(l=(i=e.inst)==null?void 0:i._zod.def)==null?void 0:l.error)==null?void 0:c.call(l,e))??Ci((u=t==null?void 0:t.error)==null?void 0:u.call(t,e))??Ci((f=n.customError)==null?void 0:f.call(n,e))??Ci((m=n.localeError)==null?void 0:m.call(n,e))??"Invalid input";r.message=y}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function us(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Vr(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const Gu=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Ta,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Yu=K("$ZodError",Gu),Xu=K("$ZodError",Gu,{Parent:Error});function Nh(e,t=n=>n.message){const n={},r=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}function Mh(e,t=n=>n.message){const n={_errors:[]},r=i=>{for(const l of i.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(c=>r({issues:c}));else if(l.code==="invalid_key")r({issues:l.issues});else if(l.code==="invalid_element")r({issues:l.issues});else if(l.path.length===0)n._errors.push(t(l));else{let c=n,u=0;for(;u<l.path.length;){const f=l.path[u];u===l.path.length-1?(c[f]=c[f]||{_errors:[]},c[f]._errors.push(t(l))):c[f]=c[f]||{_errors:[]},c=c[f],u++}}};return r(e),n}const ps=e=>(t,n,r,i)=>{const l=r?Object.assign(r,{async:!1}):{async:!1},c=t._zod.run({value:n,issues:[]},l);if(c instanceof Promise)throw new ur;if(c.issues.length){const u=new((i==null?void 0:i.Err)??e)(c.issues.map(f=>Ln(f,l,$n())));throw qu(u,i==null?void 0:i.callee),u}return c.value},ds=e=>async(t,n,r,i)=>{const l=r?Object.assign(r,{async:!0}):{async:!0};let c=t._zod.run({value:n,issues:[]},l);if(c instanceof Promise&&(c=await c),c.issues.length){const u=new((i==null?void 0:i.Err)??e)(c.issues.map(f=>Ln(f,l,$n())));throw qu(u,i==null?void 0:i.callee),u}return c.value},po=e=>(t,n,r)=>{const i=r?{...r,async:!1}:{async:!1},l=t._zod.run({value:n,issues:[]},i);if(l instanceof Promise)throw new ur;return l.issues.length?{success:!1,error:new(e??Yu)(l.issues.map(c=>Ln(c,i,$n())))}:{success:!0,data:l.value}},Ih=po(Xu),fo=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let l=t._zod.run({value:n,issues:[]},i);return l instanceof Promise&&(l=await l),l.issues.length?{success:!1,error:new e(l.issues.map(c=>Ln(c,i,$n())))}:{success:!0,data:l.value}},Rh=fo(Xu),zh=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ps(e)(t,n,i)},Fh=e=>(t,n,r)=>ps(e)(t,n,r),$h=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ds(e)(t,n,i)},Lh=e=>async(t,n,r)=>ds(e)(t,n,r),Bh=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return po(e)(t,n,i)},Vh=e=>(t,n,r)=>po(e)(t,n,r),Uh=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return fo(e)(t,n,i)},Kh=e=>async(t,n,r)=>fo(e)(t,n,r),Zh=/^[cC][^\s-]{8,}$/,qh=/^[0-9a-z]+$/,Wh=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Hh=/^[0-9a-vA-V]{20}$/,Gh=/^[A-Za-z0-9]{27}$/,Yh=/^[a-zA-Z0-9_-]{21}$/,Xh=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Qh=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Fc=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Jh=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,em="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function tm(){return new RegExp(em,"u")}const nm=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,rm=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,im=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,om=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,am=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Qu=/^[A-Za-z0-9_-]*$/,sm=/^\+(?:[0-9]){6,14}[0-9]$/,Ju="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",cm=new RegExp(`^${Ju}$`);function ep(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function lm(e){return new RegExp(`^${ep(e)}$`)}function um(e){const t=ep({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${Ju}T(?:${r})$`)}const pm=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},dm=/^-?\d+$/,fm=/^-?\d+(?:\.\d+)?/,hm=/^(?:true|false)$/i,mm=/^[^A-Z]*$/,vm=/^[^a-z]*$/,Pt=K("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),tp={number:"number",bigint:"bigint",object:"date"},np=K("$ZodCheckLessThan",(e,t)=>{Pt.init(e,t);const n=tp[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,l=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<l&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),rp=K("$ZodCheckGreaterThan",(e,t)=>{Pt.init(e,t);const n=tp[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,l=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>l&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),gm=K("$ZodCheckMultipleOf",(e,t)=>{Pt.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):bh(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),ym=K("$ZodCheckNumberFormat",(e,t)=>{var c;Pt.init(e,t),t.format=t.format||"float64";const n=(c=t.format)==null?void 0:c.includes("int"),r=n?"int":"number",[i,l]=Sh[t.format];e._zod.onattach.push(u=>{const f=u._zod.bag;f.format=t.format,f.minimum=i,f.maximum=l,n&&(f.pattern=dm)}),e._zod.check=u=>{const f=u.value;if(n){if(!Number.isInteger(f)){u.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:f,inst:e});return}if(!Number.isSafeInteger(f)){f>0?u.issues.push({input:f,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):u.issues.push({input:f,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort});return}}f<i&&u.issues.push({origin:"number",input:f,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),f>l&&u.issues.push({origin:"number",input:f,code:"too_big",maximum:l,inst:e})}}),xm=K("$ZodCheckMaxLength",(e,t)=>{var n;Pt.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!cs(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const i=r.value;if(i.length<=t.maximum)return;const c=us(i);r.issues.push({origin:c,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),bm=K("$ZodCheckMinLength",(e,t)=>{var n;Pt.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!cs(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const i=r.value;if(i.length>=t.minimum)return;const c=us(i);r.issues.push({origin:c,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),_m=K("$ZodCheckLengthEquals",(e,t)=>{var n;Pt.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!cs(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=r=>{const i=r.value,l=i.length;if(l===t.length)return;const c=us(i),u=l>t.length;r.issues.push({origin:c,...u?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),ho=K("$ZodCheckStringFormat",(e,t)=>{var n,r;Pt.init(e,t),e._zod.onattach.push(i=>{const l=i._zod.bag;l.format=t.format,t.pattern&&(l.patterns??(l.patterns=new Set),l.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),wm=K("$ZodCheckRegex",(e,t)=>{ho.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),km=K("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=mm),ho.init(e,t)}),Tm=K("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=vm),ho.init(e,t)}),Sm=K("$ZodCheckIncludes",(e,t)=>{Pt.init(e,t);const n=dr(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(i=>{const l=i._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(r)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),Am=K("$ZodCheckStartsWith",(e,t)=>{Pt.init(e,t);const n=new RegExp(`^${dr(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),jm=K("$ZodCheckEndsWith",(e,t)=>{Pt.init(e,t);const n=new RegExp(`.*${dr(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),Pm=K("$ZodCheckOverwrite",(e,t)=>{Pt.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class Cm{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(c=>c),i=Math.min(...r.map(c=>c.length-c.trimStart().length)),l=r.map(c=>c.slice(i)).map(c=>" ".repeat(this.indent*2)+c);for(const c of l)this.content.push(c)}compile(){const t=Function,n=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(l=>`  ${l}`)];return new t(...n,i.join(`
`))}}const Dm={major:4,minor:1,patch:13},Xe=K("$ZodType",(e,t)=>{var i;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Dm;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const l of r)for(const c of l._zod.onattach)c(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(i=e._zod.deferred)==null||i.push(()=>{e._zod.run=e._zod.parse});else{const l=(u,f,m)=>{let y=ir(u),a;for(const d of f){if(d._zod.def.when){if(!d._zod.def.when(u))continue}else if(y)continue;const g=u.issues.length,_=d._zod.check(u);if(_ instanceof Promise&&(m==null?void 0:m.async)===!1)throw new ur;if(a||_ instanceof Promise)a=(a??Promise.resolve()).then(async()=>{await _,u.issues.length!==g&&(y||(y=ir(u,g)))});else{if(u.issues.length===g)continue;y||(y=ir(u,g))}}return a?a.then(()=>u):u},c=(u,f,m)=>{if(ir(u))return u.aborted=!0,u;const y=l(f,r,m);if(y instanceof Promise){if(m.async===!1)throw new ur;return y.then(a=>e._zod.parse(a,m))}return e._zod.parse(y,m)};e._zod.run=(u,f)=>{if(f.skipChecks)return e._zod.parse(u,f);if(f.direction==="backward"){const y=e._zod.parse({value:u.value,issues:[]},{...f,skipChecks:!0});return y instanceof Promise?y.then(a=>c(a,u,f)):c(y,u,f)}const m=e._zod.parse(u,f);if(m instanceof Promise){if(f.async===!1)throw new ur;return m.then(y=>l(y,r,f))}return l(m,r,f)}}e["~standard"]={validate:l=>{var c;try{const u=Ih(e,l);return u.success?{value:u.data}:{issues:(c=u.error)==null?void 0:c.issues}}catch{return Rh(e,l).then(f=>{var m;return f.success?{value:f.data}:{issues:(m=f.error)==null?void 0:m.issues}})}},vendor:"zod",version:1}}),fs=K("$ZodString",(e,t)=>{var n;Xe.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??pm(e._zod.bag),e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),We=K("$ZodStringFormat",(e,t)=>{ho.init(e,t),fs.init(e,t)}),Em=K("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Qh),We.init(e,t)}),Om=K("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Fc(r))}else t.pattern??(t.pattern=Fc());We.init(e,t)}),Nm=K("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=Jh),We.init(e,t)}),Mm=K("$ZodURL",(e,t)=>{We.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),Im=K("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=tm()),We.init(e,t)}),Rm=K("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=Yh),We.init(e,t)}),zm=K("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Zh),We.init(e,t)}),Fm=K("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=qh),We.init(e,t)}),$m=K("$ZodULID",(e,t)=>{t.pattern??(t.pattern=Wh),We.init(e,t)}),Lm=K("$ZodXID",(e,t)=>{t.pattern??(t.pattern=Hh),We.init(e,t)}),Bm=K("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Gh),We.init(e,t)}),Vm=K("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=um(t)),We.init(e,t)}),Um=K("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=cm),We.init(e,t)}),Km=K("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=lm(t)),We.init(e,t)}),Zm=K("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Xh),We.init(e,t)}),qm=K("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=nm),We.init(e,t),e._zod.bag.format="ipv4"}),Wm=K("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=rm),We.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),Hm=K("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=im),We.init(e,t)}),Gm=K("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=om),We.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,l]=r;if(!l)throw new Error;const c=Number(l);if(`${c}`!==l)throw new Error;if(c<0||c>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function ip(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const Ym=K("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=am),We.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{ip(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function Xm(e){if(!Qu.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return ip(n)}const Qm=K("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Qu),We.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{Xm(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),Jm=K("$ZodE164",(e,t)=>{t.pattern??(t.pattern=sm),We.init(e,t)});function ev(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const tv=K("$ZodJWT",(e,t)=>{We.init(e,t),e._zod.check=n=>{ev(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),op=K("$ZodNumber",(e,t)=>{Xe.init(e,t),e._zod.pattern=e._zod.bag.pattern??fm,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const l=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...l?{received:l}:{}}),n}}),nv=K("$ZodNumberFormat",(e,t)=>{ym.init(e,t),op.init(e,t)}),rv=K("$ZodBoolean",(e,t)=>{Xe.init(e,t),e._zod.pattern=hm,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),n}}),iv=K("$ZodUnknown",(e,t)=>{Xe.init(e,t),e._zod.parse=n=>n}),ov=K("$ZodNever",(e,t)=>{Xe.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function $c(e,t,n){e.issues.length&&t.issues.push(...Hu(n,e.issues)),t.value[n]=e.value}const av=K("$ZodArray",(e,t)=>{Xe.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const l=[];for(let c=0;c<i.length;c++){const u=i[c],f=t.element._zod.run({value:u,issues:[]},r);f instanceof Promise?l.push(f.then(m=>$c(m,n,c))):$c(f,n,c)}return l.length?Promise.all(l).then(()=>n):n}});function Hi(e,t,n,r){e.issues.length&&t.issues.push(...Hu(n,e.issues)),e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function ap(e){var r,i,l,c;const t=Object.keys(e.shape);for(const u of t)if(!((c=(l=(i=(r=e.shape)==null?void 0:r[u])==null?void 0:i._zod)==null?void 0:l.traits)!=null&&c.has("$ZodType")))throw new Error(`Invalid element at key "${u}": expected a Zod schema`);const n=Th(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function sp(e,t,n,r,i,l){const c=[],u=i.keySet,f=i.catchall._zod,m=f.def.type;for(const y in t){if(u.has(y))continue;if(m==="never"){c.push(y);continue}const a=f.run({value:t[y],issues:[]},r);a instanceof Promise?e.push(a.then(d=>Hi(d,n,y,t))):Hi(a,n,y,t)}return c.length&&n.issues.push({code:"unrecognized_keys",keys:c,input:t,inst:l}),e.length?Promise.all(e).then(()=>n):n}const sv=K("$ZodObject",(e,t)=>{Xe.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const u=t.shape;Object.defineProperty(t,"shape",{get:()=>{const f={...u};return Object.defineProperty(t,"shape",{value:f}),f}})}const r=ss(()=>ap(t));Le(e._zod,"propValues",()=>{const u=t.shape,f={};for(const m in u){const y=u[m]._zod;if(y.values){f[m]??(f[m]=new Set);for(const a of y.values)f[m].add(a)}}return f});const i=Wi,l=t.catchall;let c;e._zod.parse=(u,f)=>{c??(c=r.value);const m=u.value;if(!i(m))return u.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),u;u.value={};const y=[],a=c.shape;for(const d of c.keys){const _=a[d]._zod.run({value:m[d],issues:[]},f);_ instanceof Promise?y.push(_.then(T=>Hi(T,u,d,m))):Hi(_,u,d,m)}return l?sp(y,m,u,f,r.value,e):y.length?Promise.all(y).then(()=>u):u}}),cv=K("$ZodObjectJIT",(e,t)=>{sv.init(e,t);const n=e._zod.parse,r=ss(()=>ap(t)),i=d=>{const g=new Cm(["shape","payload","ctx"]),_=r.value,T=F=>{const G=zc(F);return`shape[${G}]._zod.run({ value: input[${G}], issues: [] }, ctx)`};g.write("const input = payload.value;");const j=Object.create(null);let k=0;for(const F of _.keys)j[F]=`key_${k++}`;g.write("const newResult = {};");for(const F of _.keys){const G=j[F],X=zc(F);g.write(`const ${G} = ${T(F)};`),g.write(`
        if (${G}.issues.length) {
          payload.issues = payload.issues.concat(${G}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${X}, ...iss.path] : [${X}]
          })));
        }
        
        
        if (${G}.value === undefined) {
          if (${X} in input) {
            newResult[${X}] = undefined;
          }
        } else {
          newResult[${X}] = ${G}.value;
        }
        
      `)}g.write("payload.value = newResult;"),g.write("return payload;");const z=g.compile();return(F,G)=>z(d,F,G)};let l;const c=Wi,u=!Zu.jitless,m=u&&wh.value,y=t.catchall;let a;e._zod.parse=(d,g)=>{a??(a=r.value);const _=d.value;return c(_)?u&&m&&(g==null?void 0:g.async)===!1&&g.jitless!==!0?(l||(l=i(t.shape)),d=l(d,g),y?sp([],_,d,g,a,e):d):n(d,g):(d.issues.push({expected:"object",code:"invalid_type",input:_,inst:e}),d)}});function Lc(e,t,n,r){for(const l of e)if(l.issues.length===0)return t.value=l.value,t;const i=e.filter(l=>!ir(l));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(l=>l.issues.map(c=>Ln(c,r,$n())))}),t)}const lv=K("$ZodUnion",(e,t)=>{Xe.init(e,t),Le(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),Le(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),Le(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),Le(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){const i=t.options.map(l=>l._zod.pattern);return new RegExp(`^(${i.map(l=>ls(l.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(i,l)=>{if(n)return r(i,l);let c=!1;const u=[];for(const f of t.options){const m=f._zod.run({value:i.value,issues:[]},l);if(m instanceof Promise)u.push(m),c=!0;else{if(m.issues.length===0)return m;u.push(m)}}return c?Promise.all(u).then(f=>Lc(f,i,e,l)):Lc(u,i,e,l)}}),uv=K("$ZodIntersection",(e,t)=>{Xe.init(e,t),e._zod.parse=(n,r)=>{const i=n.value,l=t.left._zod.run({value:i,issues:[]},r),c=t.right._zod.run({value:i,issues:[]},r);return l instanceof Promise||c instanceof Promise?Promise.all([l,c]).then(([f,m])=>Bc(n,f,m)):Bc(n,l,c)}});function Sa(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Br(e)&&Br(t)){const n=Object.keys(t),r=Object.keys(e).filter(l=>n.indexOf(l)!==-1),i={...e,...t};for(const l of r){const c=Sa(e[l],t[l]);if(!c.valid)return{valid:!1,mergeErrorPath:[l,...c.mergeErrorPath]};i[l]=c.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const i=e[r],l=t[r],c=Sa(i,l);if(!c.valid)return{valid:!1,mergeErrorPath:[r,...c.mergeErrorPath]};n.push(c.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Bc(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),ir(e))return e;const r=Sa(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const pv=K("$ZodEnum",(e,t)=>{Xe.init(e,t);const n=xh(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(i=>kh.has(typeof i)).map(i=>typeof i=="string"?dr(i):i.toString()).join("|")})$`),e._zod.parse=(i,l)=>{const c=i.value;return r.has(c)||i.issues.push({code:"invalid_value",values:n,input:c,inst:e}),i}}),dv=K("$ZodLiteral",(e,t)=>{if(Xe.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?dr(r):r?dr(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,i)=>{const l=r.value;return n.has(l)||r.issues.push({code:"invalid_value",values:t.values,input:l,inst:e}),r}}),fv=K("$ZodTransform",(e,t)=>{Xe.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Ku(e.constructor.name);const i=t.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(c=>(n.value=c,n));if(i instanceof Promise)throw new ur;return n.value=i,n}});function Vc(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const hv=K("$ZodOptional",(e,t)=>{Xe.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Le(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Le(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${ls(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(l=>Vc(l,n.value)):Vc(i,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),mv=K("$ZodNullable",(e,t)=>{Xe.init(e,t),Le(e._zod,"optin",()=>t.innerType._zod.optin),Le(e._zod,"optout",()=>t.innerType._zod.optout),Le(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${ls(n.source)}|null)$`):void 0}),Le(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),vv=K("$ZodDefault",(e,t)=>{Xe.init(e,t),e._zod.optin="optional",Le(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(l=>Uc(l,t)):Uc(i,t)}});function Uc(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const gv=K("$ZodPrefault",(e,t)=>{Xe.init(e,t),e._zod.optin="optional",Le(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),yv=K("$ZodNonOptional",(e,t)=>{Xe.init(e,t),Le(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(l=>Kc(l,e)):Kc(i,e)}});function Kc(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const xv=K("$ZodCatch",(e,t)=>{Xe.init(e,t),Le(e._zod,"optin",()=>t.innerType._zod.optin),Le(e._zod,"optout",()=>t.innerType._zod.optout),Le(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(l=>(n.value=l.value,l.issues.length&&(n.value=t.catchValue({...n,error:{issues:l.issues.map(c=>Ln(c,r,$n()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(l=>Ln(l,r,$n()))},input:n.value}),n.issues=[]),n)}}),bv=K("$ZodPipe",(e,t)=>{Xe.init(e,t),Le(e._zod,"values",()=>t.in._zod.values),Le(e._zod,"optin",()=>t.in._zod.optin),Le(e._zod,"optout",()=>t.out._zod.optout),Le(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const l=t.out._zod.run(n,r);return l instanceof Promise?l.then(c=>Di(c,t.in,r)):Di(l,t.in,r)}const i=t.in._zod.run(n,r);return i instanceof Promise?i.then(l=>Di(l,t.out,r)):Di(i,t.out,r)}});function Di(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const _v=K("$ZodReadonly",(e,t)=>{Xe.init(e,t),Le(e._zod,"propValues",()=>t.innerType._zod.propValues),Le(e._zod,"values",()=>t.innerType._zod.values),Le(e._zod,"optin",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optin}),Le(e._zod,"optout",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optout}),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(Zc):Zc(i)}});function Zc(e){return e.value=Object.freeze(e.value),e}const wv=K("$ZodLazy",(e,t)=>{Xe.init(e,t),Le(e._zod,"innerType",()=>t.getter()),Le(e._zod,"pattern",()=>{var n,r;return(r=(n=e._zod.innerType)==null?void 0:n._zod)==null?void 0:r.pattern}),Le(e._zod,"propValues",()=>{var n,r;return(r=(n=e._zod.innerType)==null?void 0:n._zod)==null?void 0:r.propValues}),Le(e._zod,"optin",()=>{var n,r;return((r=(n=e._zod.innerType)==null?void 0:n._zod)==null?void 0:r.optin)??void 0}),Le(e._zod,"optout",()=>{var n,r;return((r=(n=e._zod.innerType)==null?void 0:n._zod)==null?void 0:r.optout)??void 0}),e._zod.parse=(n,r)=>e._zod.innerType._zod.run(n,r)}),kv=K("$ZodCustom",(e,t)=>{Pt.init(e,t),Xe.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(l=>qc(l,n,r,e));qc(i,n,r,e)}});function qc(e,t,n,r){if(!e){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),t.issues.push(Vr(i))}}var Wc;class Tv{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function Sv(){return new Tv}(Wc=globalThis).__zod_globalRegistry??(Wc.__zod_globalRegistry=Sv());const Ei=globalThis.__zod_globalRegistry;function Av(e,t){return new e({type:"string",...me(t)})}function jv(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...me(t)})}function Hc(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...me(t)})}function Pv(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...me(t)})}function Cv(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...me(t)})}function Dv(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...me(t)})}function Ev(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...me(t)})}function Ov(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...me(t)})}function Nv(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...me(t)})}function Mv(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...me(t)})}function Iv(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...me(t)})}function Rv(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...me(t)})}function zv(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...me(t)})}function Fv(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...me(t)})}function $v(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...me(t)})}function Lv(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...me(t)})}function Bv(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...me(t)})}function Vv(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...me(t)})}function Uv(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...me(t)})}function Kv(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...me(t)})}function Zv(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...me(t)})}function qv(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...me(t)})}function Wv(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...me(t)})}function Hv(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...me(t)})}function Gv(e,t){return new e({type:"string",format:"date",check:"string_format",...me(t)})}function Yv(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...me(t)})}function Xv(e,t){return new e({type:"string",format:"duration",check:"string_format",...me(t)})}function Qv(e,t){return new e({type:"number",checks:[],...me(t)})}function Jv(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...me(t)})}function eg(e,t){return new e({type:"boolean",...me(t)})}function tg(e){return new e({type:"unknown"})}function ng(e,t){return new e({type:"never",...me(t)})}function Gc(e,t){return new np({check:"less_than",...me(t),value:e,inclusive:!1})}function Jo(e,t){return new np({check:"less_than",...me(t),value:e,inclusive:!0})}function Yc(e,t){return new rp({check:"greater_than",...me(t),value:e,inclusive:!1})}function ea(e,t){return new rp({check:"greater_than",...me(t),value:e,inclusive:!0})}function Xc(e,t){return new gm({check:"multiple_of",...me(t),value:e})}function cp(e,t){return new xm({check:"max_length",...me(t),maximum:e})}function Gi(e,t){return new bm({check:"min_length",...me(t),minimum:e})}function lp(e,t){return new _m({check:"length_equals",...me(t),length:e})}function rg(e,t){return new wm({check:"string_format",format:"regex",...me(t),pattern:e})}function ig(e){return new km({check:"string_format",format:"lowercase",...me(e)})}function og(e){return new Tm({check:"string_format",format:"uppercase",...me(e)})}function ag(e,t){return new Sm({check:"string_format",format:"includes",...me(t),includes:e})}function sg(e,t){return new Am({check:"string_format",format:"starts_with",...me(t),prefix:e})}function cg(e,t){return new jm({check:"string_format",format:"ends_with",...me(t),suffix:e})}function yr(e){return new Pm({check:"overwrite",tx:e})}function lg(e){return yr(t=>t.normalize(e))}function ug(){return yr(e=>e.trim())}function pg(){return yr(e=>e.toLowerCase())}function dg(){return yr(e=>e.toUpperCase())}function fg(){return yr(e=>_h(e))}function hg(e,t,n){return new e({type:"array",element:t,...me(n)})}function mg(e,t,n){return new e({type:"custom",check:"custom",fn:t,...me(n)})}function vg(e){const t=gg(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Vr(r,n.value,t._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),n.issues.push(Vr(i))}},e(n.value,n)));return t}function gg(e,t){const n=new Pt({check:"custom",...me(t)});return n._zod.check=e,n}const yg=K("ZodISODateTime",(e,t)=>{Vm.init(e,t),Qe.init(e,t)});function xg(e){return Hv(yg,e)}const bg=K("ZodISODate",(e,t)=>{Um.init(e,t),Qe.init(e,t)});function _g(e){return Gv(bg,e)}const wg=K("ZodISOTime",(e,t)=>{Km.init(e,t),Qe.init(e,t)});function kg(e){return Yv(wg,e)}const Tg=K("ZodISODuration",(e,t)=>{Zm.init(e,t),Qe.init(e,t)});function Sg(e){return Xv(Tg,e)}const Ag=(e,t)=>{Yu.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>Mh(e,n)},flatten:{value:n=>Nh(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,Ta,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,Ta,2)}},isEmpty:{get(){return e.issues.length===0}}})},Ut=K("ZodError",Ag,{Parent:Error}),jg=ps(Ut),Pg=ds(Ut),Cg=po(Ut),Dg=fo(Ut),Eg=zh(Ut),Og=Fh(Ut),Ng=$h(Ut),Mg=Lh(Ut),Ig=Bh(Ut),Rg=Vh(Ut),zg=Uh(Ut),Fg=Kh(Ut),tt=K("ZodType",(e,t)=>(Xe.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(Kn(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),e.clone=(n,r)=>wn(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>jg(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>Cg(e,n,r),e.parseAsync=async(n,r)=>Pg(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>Dg(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>Eg(e,n,r),e.decode=(n,r)=>Og(e,n,r),e.encodeAsync=async(n,r)=>Ng(e,n,r),e.decodeAsync=async(n,r)=>Mg(e,n,r),e.safeEncode=(n,r)=>Ig(e,n,r),e.safeDecode=(n,r)=>Rg(e,n,r),e.safeEncodeAsync=async(n,r)=>zg(e,n,r),e.safeDecodeAsync=async(n,r)=>Fg(e,n,r),e.refine=(n,r)=>e.check(Oy(n,r)),e.superRefine=n=>e.check(Ny(n)),e.overwrite=n=>e.check(yr(n)),e.optional=()=>tl(e),e.nullable=()=>nl(e),e.nullish=()=>tl(nl(e)),e.nonoptional=n=>ky(e,n),e.array=()=>uy(e),e.or=n=>dp([e,n]),e.and=n=>hy(e,n),e.transform=n=>rl(e,gy(n)),e.default=n=>by(e,n),e.prefault=n=>wy(e,n),e.catch=n=>Sy(e,n),e.pipe=n=>rl(e,n),e.readonly=()=>Py(e),e.describe=n=>{const r=e.clone();return Ei.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=Ei.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Ei.get(e);const r=e.clone();return Ei.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),up=K("_ZodString",(e,t)=>{fs.init(e,t),tt.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(rg(...r)),e.includes=(...r)=>e.check(ag(...r)),e.startsWith=(...r)=>e.check(sg(...r)),e.endsWith=(...r)=>e.check(cg(...r)),e.min=(...r)=>e.check(Gi(...r)),e.max=(...r)=>e.check(cp(...r)),e.length=(...r)=>e.check(lp(...r)),e.nonempty=(...r)=>e.check(Gi(1,...r)),e.lowercase=r=>e.check(ig(r)),e.uppercase=r=>e.check(og(r)),e.trim=()=>e.check(ug()),e.normalize=(...r)=>e.check(lg(...r)),e.toLowerCase=()=>e.check(pg()),e.toUpperCase=()=>e.check(dg()),e.slugify=()=>e.check(fg())}),$g=K("ZodString",(e,t)=>{fs.init(e,t),up.init(e,t),e.email=n=>e.check(jv(Lg,n)),e.url=n=>e.check(Ov(Bg,n)),e.jwt=n=>e.check(Wv(ny,n)),e.emoji=n=>e.check(Nv(Vg,n)),e.guid=n=>e.check(Hc(Qc,n)),e.uuid=n=>e.check(Pv(Oi,n)),e.uuidv4=n=>e.check(Cv(Oi,n)),e.uuidv6=n=>e.check(Dv(Oi,n)),e.uuidv7=n=>e.check(Ev(Oi,n)),e.nanoid=n=>e.check(Mv(Ug,n)),e.guid=n=>e.check(Hc(Qc,n)),e.cuid=n=>e.check(Iv(Kg,n)),e.cuid2=n=>e.check(Rv(Zg,n)),e.ulid=n=>e.check(zv(qg,n)),e.base64=n=>e.check(Kv(Jg,n)),e.base64url=n=>e.check(Zv(ey,n)),e.xid=n=>e.check(Fv(Wg,n)),e.ksuid=n=>e.check($v(Hg,n)),e.ipv4=n=>e.check(Lv(Gg,n)),e.ipv6=n=>e.check(Bv(Yg,n)),e.cidrv4=n=>e.check(Vv(Xg,n)),e.cidrv6=n=>e.check(Uv(Qg,n)),e.e164=n=>e.check(qv(ty,n)),e.datetime=n=>e.check(xg(n)),e.date=n=>e.check(_g(n)),e.time=n=>e.check(kg(n)),e.duration=n=>e.check(Sg(n))});function mt(e){return Av($g,e)}const Qe=K("ZodStringFormat",(e,t)=>{We.init(e,t),up.init(e,t)}),Lg=K("ZodEmail",(e,t)=>{Nm.init(e,t),Qe.init(e,t)}),Qc=K("ZodGUID",(e,t)=>{Em.init(e,t),Qe.init(e,t)}),Oi=K("ZodUUID",(e,t)=>{Om.init(e,t),Qe.init(e,t)}),Bg=K("ZodURL",(e,t)=>{Mm.init(e,t),Qe.init(e,t)}),Vg=K("ZodEmoji",(e,t)=>{Im.init(e,t),Qe.init(e,t)}),Ug=K("ZodNanoID",(e,t)=>{Rm.init(e,t),Qe.init(e,t)}),Kg=K("ZodCUID",(e,t)=>{zm.init(e,t),Qe.init(e,t)}),Zg=K("ZodCUID2",(e,t)=>{Fm.init(e,t),Qe.init(e,t)}),qg=K("ZodULID",(e,t)=>{$m.init(e,t),Qe.init(e,t)}),Wg=K("ZodXID",(e,t)=>{Lm.init(e,t),Qe.init(e,t)}),Hg=K("ZodKSUID",(e,t)=>{Bm.init(e,t),Qe.init(e,t)}),Gg=K("ZodIPv4",(e,t)=>{qm.init(e,t),Qe.init(e,t)}),Yg=K("ZodIPv6",(e,t)=>{Wm.init(e,t),Qe.init(e,t)}),Xg=K("ZodCIDRv4",(e,t)=>{Hm.init(e,t),Qe.init(e,t)}),Qg=K("ZodCIDRv6",(e,t)=>{Gm.init(e,t),Qe.init(e,t)}),Jg=K("ZodBase64",(e,t)=>{Ym.init(e,t),Qe.init(e,t)}),ey=K("ZodBase64URL",(e,t)=>{Qm.init(e,t),Qe.init(e,t)}),ty=K("ZodE164",(e,t)=>{Jm.init(e,t),Qe.init(e,t)}),ny=K("ZodJWT",(e,t)=>{tv.init(e,t),Qe.init(e,t)}),pp=K("ZodNumber",(e,t)=>{op.init(e,t),tt.init(e,t),e.gt=(r,i)=>e.check(Yc(r,i)),e.gte=(r,i)=>e.check(ea(r,i)),e.min=(r,i)=>e.check(ea(r,i)),e.lt=(r,i)=>e.check(Gc(r,i)),e.lte=(r,i)=>e.check(Jo(r,i)),e.max=(r,i)=>e.check(Jo(r,i)),e.int=r=>e.check(Jc(r)),e.safe=r=>e.check(Jc(r)),e.positive=r=>e.check(Yc(0,r)),e.nonnegative=r=>e.check(ea(0,r)),e.negative=r=>e.check(Gc(0,r)),e.nonpositive=r=>e.check(Jo(0,r)),e.multipleOf=(r,i)=>e.check(Xc(r,i)),e.step=(r,i)=>e.check(Xc(r,i)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function fr(e){return Qv(pp,e)}const ry=K("ZodNumberFormat",(e,t)=>{nv.init(e,t),pp.init(e,t)});function Jc(e){return Jv(ry,e)}const iy=K("ZodBoolean",(e,t)=>{rv.init(e,t),tt.init(e,t)});function oy(e){return eg(iy,e)}const ay=K("ZodUnknown",(e,t)=>{iv.init(e,t),tt.init(e,t)});function el(){return tg(ay)}const sy=K("ZodNever",(e,t)=>{ov.init(e,t),tt.init(e,t)});function cy(e){return ng(sy,e)}const ly=K("ZodArray",(e,t)=>{av.init(e,t),tt.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(Gi(n,r)),e.nonempty=n=>e.check(Gi(1,n)),e.max=(n,r)=>e.check(cp(n,r)),e.length=(n,r)=>e.check(lp(n,r)),e.unwrap=()=>e.element});function uy(e,t){return hg(ly,e,t)}const py=K("ZodObject",(e,t)=>{cv.init(e,t),tt.init(e,t),Le(e,"shape",()=>t.shape),e.keyof=()=>Zn(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:el()}),e.loose=()=>e.clone({...e._zod.def,catchall:el()}),e.strict=()=>e.clone({...e._zod.def,catchall:cy()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>Ph(e,n),e.safeExtend=n=>Ch(e,n),e.merge=n=>Dh(e,n),e.pick=n=>Ah(e,n),e.omit=n=>jh(e,n),e.partial=(...n)=>Eh(fp,e,n[0]),e.required=(...n)=>Oh(hp,e,n[0])});function hs(e,t){const n={type:"object",shape:e??{},...me(t)};return new py(n)}const dy=K("ZodUnion",(e,t)=>{lv.init(e,t),tt.init(e,t),e.options=t.options});function dp(e,t){return new dy({type:"union",options:e,...me(t)})}const fy=K("ZodIntersection",(e,t)=>{uv.init(e,t),tt.init(e,t)});function hy(e,t){return new fy({type:"intersection",left:e,right:t})}const Aa=K("ZodEnum",(e,t)=>{pv.init(e,t),tt.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,i)=>{const l={};for(const c of r)if(n.has(c))l[c]=t.entries[c];else throw new Error(`Key ${c} not found in enum`);return new Aa({...t,checks:[],...me(i),entries:l})},e.exclude=(r,i)=>{const l={...t.entries};for(const c of r)if(n.has(c))delete l[c];else throw new Error(`Key ${c} not found in enum`);return new Aa({...t,checks:[],...me(i),entries:l})}});function Zn(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Aa({type:"enum",entries:n,...me(t)})}const my=K("ZodLiteral",(e,t)=>{dv.init(e,t),tt.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function qn(e,t){return new my({type:"literal",values:Array.isArray(e)?e:[e],...me(t)})}const vy=K("ZodTransform",(e,t)=>{fv.init(e,t),tt.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Ku(e.constructor.name);n.addIssue=l=>{if(typeof l=="string")n.issues.push(Vr(l,n.value,t));else{const c=l;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=n.value),c.inst??(c.inst=e),n.issues.push(Vr(c))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(l=>(n.value=l,n)):(n.value=i,n)}});function gy(e){return new vy({type:"transform",transform:e})}const fp=K("ZodOptional",(e,t)=>{hv.init(e,t),tt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function tl(e){return new fp({type:"optional",innerType:e})}const yy=K("ZodNullable",(e,t)=>{mv.init(e,t),tt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function nl(e){return new yy({type:"nullable",innerType:e})}const xy=K("ZodDefault",(e,t)=>{vv.init(e,t),tt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function by(e,t){return new xy({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Wu(t)}})}const _y=K("ZodPrefault",(e,t)=>{gv.init(e,t),tt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function wy(e,t){return new _y({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Wu(t)}})}const hp=K("ZodNonOptional",(e,t)=>{yv.init(e,t),tt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function ky(e,t){return new hp({type:"nonoptional",innerType:e,...me(t)})}const Ty=K("ZodCatch",(e,t)=>{xv.init(e,t),tt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function Sy(e,t){return new Ty({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const Ay=K("ZodPipe",(e,t)=>{bv.init(e,t),tt.init(e,t),e.in=t.in,e.out=t.out});function rl(e,t){return new Ay({type:"pipe",in:e,out:t})}const jy=K("ZodReadonly",(e,t)=>{_v.init(e,t),tt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Py(e){return new jy({type:"readonly",innerType:e})}const Cy=K("ZodLazy",(e,t)=>{wv.init(e,t),tt.init(e,t),e.unwrap=()=>e._zod.def.getter()});function Dy(e){return new Cy({type:"lazy",getter:e})}const Ey=K("ZodCustom",(e,t)=>{kv.init(e,t),tt.init(e,t)});function Oy(e,t={}){return mg(Ey,e,t)}function Ny(e){return vg(e)}const Wn=hs({id:mt(),type:mt()}),My=Wn.extend({type:qn("wait"),amount:fr(),unit:Zn(["seconds","minutes","hours","days"])}),Iy=Wn.extend({type:qn("waitUntil"),time:mt(),ampm:Zn(["AM","PM"])}),Ry=Wn.extend({type:qn("playSound"),soundType:Zn(["default","url","upload","custom"]).optional(),label:mt().optional(),customUrl:mt().optional()}),zy=Wn.extend({type:qn("playSoundUntil"),soundType:Zn(["default","url","upload","custom"]).optional(),label:mt().optional(),customUrl:mt().optional()}),Fy=Wn.extend({type:qn("notify"),title:mt(),body:mt().optional()}),$y=Wn.extend({type:qn("notifyUntil"),title:mt(),body:mt().optional(),label:mt().optional(),timeoutMs:fr().optional(),soundType:Zn(["default","url","upload","custom"]).optional(),customUrl:mt().optional(),interval:fr().optional()}),Ly=Wn.extend({type:qn("loop"),repeat:fr(),children:Dy(()=>mp.array())}),mp=dp([My,Iy,Ry,zy,Fy,$y,Ly]),By=hs({id:mt(),name:mt(),elapsedMs:fr(),loggedAt:fr()}),nr=hs({id:mt(),name:mt(),blocks:mp.array(),mode:Zn(["alarm","stopwatch","simpleStopwatch"]).optional(),locked:oy().optional(),logs:By.array().optional()}),Vy="timer-generator-timers",il=(e,t,n)=>{const i=e.trim()||"New Timer",l=new Set(t.filter(f=>f.id!==n).map(f=>f.name.trim().toLowerCase()));if(!l.has(i.toLowerCase()))return i;let c=2,u=`${i}${c}`;for(;l.has(u.toLowerCase());)c+=1,u=`${i}${c}`;return u},Ni=e=>{const t=e.mode??"stopwatch",n=t==="simpleStopwatch"?!1:e.locked??!1;return{...e,mode:t,locked:n,logs:Array.isArray(e.logs)?e.logs:[]}};function Uy(){const[e,t]=L.useState([]),[n,r]=L.useState(!1);return L.useEffect(()=>{let u=!0;return(async()=>{try{const m=await gh();if(!u)return;let y=m.map(a=>{const d=nr.safeParse(a);return d.success?Ni(d.data):null}).filter(Boolean);if(y.length===0){const a=localStorage.getItem(Vy);if(a)try{const d=JSON.parse(a);if(Array.isArray(d)){const g=[];for(const _ of d){const T=nr.safeParse(_);if(T.success){const j=Ni(T.data);g.push(j),await Qo(j)}}g.length&&(y=g)}}catch{}}t(y),r(!0)}catch{u&&(r(!0),t([]))}})(),()=>{u=!1}},[]),{timers:e,createTimer:()=>{const u={id:Nt(),name:il("New Timer",e),blocks:[],mode:"stopwatch",locked:!1,logs:[]};nr.parse(u);const f=[...e,u];return t(f),Qo(u),u},updateTimer:u=>{const f=il(u.name,e,u.id),m=nr.safeParse({...u,name:f}),y=m.success?Ni(m.data):Ni({...u,name:f});nr.parse(y),t(a=>a.map(d=>d.id===y.id?y:d)),Qo(y)},deleteTimer:u=>{t(f=>f.filter(m=>m.id!==u)),yh(u)},ready:n}}const Ky="modulepreload",Zy=function(e){return"/"+e},ol={},qy=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=Promise.allSettled(n.map(f=>{if(f=Zy(f),f in ol)return;ol[f]=!0;const m=f.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${y}`))return;const a=document.createElement("link");if(a.rel=m?"stylesheet":Ky,m||(a.as="script"),a.crossOrigin="",a.href=f,u&&a.setAttribute("nonce",u),document.head.appendChild(a),m)return new Promise((d,g)=>{a.addEventListener("load",d),a.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${f}`)))})}))}function l(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return i.then(c=>{for(const u of c||[])u.status==="rejected"&&l(u.reason);return t().catch(l)})};function Yi(){return Yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yi.apply(null,arguments)}function Wy(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Hy(e){L.useEffect(e,[])}var Gy=["id","volume","playbackRate","soundEnabled","interrupt","onload"];function Yy(e,t){var n=t===void 0?{}:t,r=n.volume,i=r===void 0?1:r,l=n.playbackRate,c=l===void 0?1:l,u=n.soundEnabled,f=u===void 0?!0:u,m=n.interrupt,y=m===void 0?!1:m,a=n.onload,d=Wy(n,Gy),g=ct.useRef(null),_=ct.useRef(!1),T=ct.useState(null),j=T[0],k=T[1],z=ct.useState(null),F=z[0],G=z[1],X=function(){typeof a=="function"&&a.call(this),_.current&&k(this.duration()*1e3),G(this)};Hy(function(){return qy(()=>Promise.resolve().then(()=>sx),void 0).then(function(le){if(!_.current){var ve;g.current=(ve=le.Howl)!==null&&ve!==void 0?ve:le.default.Howl,_.current=!0,new g.current(Yi({src:Array.isArray(e)?e:[e],volume:i,rate:c,onload:X},d))}}),function(){_.current=!1}}),ct.useEffect(function(){g.current&&F&&G(new g.current(Yi({src:Array.isArray(e)?e:[e],volume:i,onload:X},d)))},[JSON.stringify(e)]),ct.useEffect(function(){F&&(F.volume(i),d.sprite||F.rate(c))},[F,i,c]);var J=ct.useCallback(function(le){typeof le>"u"&&(le={}),!(!F||!f&&!le.forceSoundEnabled)&&(y&&F.stop(),le.playbackRate&&F.rate(le.playbackRate),F.play(le.id))},[F,f,y]),W=ct.useCallback(function(le){F&&F.stop(le)},[F]),V=ct.useCallback(function(le){F&&F.pause(le)},[F]),ne=[J,{sound:F,stop:W,pause:V,duration:j}];return ne}function ms(e){return new Promise(t=>setTimeout(t,e))}function vp(e,t){switch(t){case"seconds":return e*1e3;case"minutes":return e*60*1e3;case"hours":return e*60*60*1e3;case"days":return e*24*60*60*1e3;default:return e*1e3}}function gp(e,t){const[n,r]=e.split(":");let i=parseInt(n,10);const l=parseInt(r||"0",10);t==="PM"&&i!==12&&(i+=12),t==="AM"&&i===12&&(i=0);const c=new Date;let u=Qf(c,{hours:i,minutes:l,seconds:0,milliseconds:0});return(Jf(u,c)||u.getTime()===c.getTime())&&(u=eh(u,1)),u.getTime()-c.getTime()}function rr(e,t){const n=e.trim(),r=Ec(n,"H:mm",new Date);if(!Oc(r))return t;const i=r.getHours(),l=r.getMinutes(),u=((i+11)%12+1).toString(),f=l.toString().padStart(2,"0"),m=`${u}:${f}`,y=Ec(m,"H:mm",new Date);return Oc(y)?m:t}async function yp(){if(typeof Notification>"u")return"denied";if(Notification.permission==="default")try{return await Notification.requestPermission()}catch{return"denied"}return Notification.permission}function Xy(e,t){if(!(typeof Notification>"u")&&Notification.permission==="granted")try{new Notification(e||"Timer",t?{body:t}:void 0)}catch{}}async function Qy(e,t){let n=vp(Math.max(0,e.amount||0),e.unit);if(n<=0)return;let r=Date.now();for(;!t.abort();){if(t.isPaused()){await t.waitWhilePaused(),r=Date.now();continue}const i=Date.now();if(n-=i-r,r=i,n<=0)break;t.updateState(e.id,n);const l=Math.min(250,n);await ms(l)}t.updateState(e.id,null)}async function Jy(e,t){let n=gp(e.time||"07:00",e.ampm);if(n<=0)return;let r=Date.now();for(;!t.abort();){if(t.isPaused()){await t.waitWhilePaused(),r=Date.now();continue}const i=Date.now();if(n-=i-r,r=i,n<=0)break;t.updateState(e.id,n);const l=Math.min(250,n);await ms(l)}t.updateState(e.id,null)}async function xp(e,t){if(t.isPaused()&&(await t.waitWhilePaused(),t.abort()))return;const n=e.soundType==="custom"?"url":e.soundType??"default",r="/sounds/alarm.mp3",i=n==="default"?r:e.customUrl||r;await t.playSoundOnce(i),!t.abort()&&t.isPaused()&&await t.waitWhilePaused()}async function ex(e,t){var r;if(t.isPaused()&&(await t.waitWhilePaused(),t.abort()))return;if(await yp()==="granted"){const i=(e.title||"Timer").slice(0,100),l=(r=e.body)==null?void 0:r.slice(0,200);Xy(i,l)}}async function tx(e,t){let n=e.timeoutMs??1e4;const r=Math.max(100,Math.round((e.interval??.5)*1e3)),i={id:`${e.id}-sound`,soundType:e.soundType??"default",customUrl:e.customUrl,label:e.label||e.title||"Beep"};let l=Date.now();const c=async()=>{var f;if(await yp()==="granted"){const m=(e.title||"Timer").slice(0,100),y=(f=e.body)==null?void 0:f.slice(0,200);try{const a=new Notification(m||"Timer",y?{body:y}:void 0);a.onclick=()=>t.stopAudio(),a.onclose=()=>t.stopAudio()}catch{}}};for(t.updateState(e.id,n),await c();!t.abort()&&n>0;){if(t.isPaused()){await t.waitWhilePaused(),l=Date.now();continue}if(await xp(i,t),t.abort())break;const u=Date.now();if(n-=u-l,l=u,n<=0)break;t.updateState(e.id,Math.max(0,n));let f=r;for(;!t.abort()&&n>0&&f>0;){if(t.isPaused()){await t.waitWhilePaused(),l=Date.now();continue}const m=Math.min(250,f,n);await ms(m);const y=Date.now(),a=y-l;n-=a,f-=a,l=y,t.updateState(e.id,Math.max(0,n))}}t.updateState(e.id,null),t.stopAudio()}async function nx(e,t,n){const r=e.repeat===-1?1/0:Math.max(1,e.repeat||1);for(let i=0;i<r;i++){if(t.abort())return;await n(e.children)}}function rx(){const[e,t]=L.useState({}),[n,r]=L.useState({}),[i,l]=L.useState(0),c=L.useRef({}),[u,f]=L.useState("/sounds/alarm.mp3"),m=L.useRef(null),[y,{sound:a,stop:d}]=Yy(u,{volume:.8,interrupt:!1,onloaderror:()=>{m.current&&(m.current(),m.current=null)},onplayerror:()=>{m.current&&(m.current(),m.current=null)}});L.useEffect(()=>{if(!m.current||!a)return;const U=()=>{a.off("end",U),a.off("stop",U),m.current&&(m.current(),m.current=null)};return a.once("end",U),a.once("stop",U),y(),()=>{a.off("end",U),a.off("stop",U)}},[a,y]),L.useEffect(()=>{if(!Object.values(n).some(Z=>Z.isRunning))return;const ue=window.setInterval(()=>l(Z=>Z+1),20);return()=>clearInterval(ue)},[n]);const g=L.useCallback(U=>new Promise(ue=>{const Z=U||"/sounds/alarm.mp3";if(Z===u&&a){m.current=ue;const se=()=>{a.off("end",se),a.off("stop",se),m.current&&(m.current(),m.current=null)};a.once("end",se),a.once("stop",se),y()}else m.current=ue,f(Z)}),[u,a,y]),_=L.useCallback(()=>{d(),m.current&&(m.current(),m.current=null)},[d]),T=U=>U?U.isRunning&&U.startedAt?U.elapsedMs+(Date.now()-U.startedAt):U.elapsedMs:0,j=L.useCallback((U,ue)=>{r(Z=>{const se=Z[U.id],be=ue!=null&&ue.reset?0:T(se);return{...Z,[U.id]:{elapsedMs:be,isRunning:!0,startedAt:Date.now()}}})},[]),k=L.useCallback(U=>{r(ue=>{const Z=ue[U],se=T(Z);return{...ue,[U]:{elapsedMs:se,isRunning:!1,startedAt:null}}})},[]),z=L.useCallback(U=>{r(ue=>({...ue,[U]:{elapsedMs:0,isRunning:!1,startedAt:null}}))},[]),F=L.useCallback(()=>{r(U=>{const ue={};return Object.keys(U).forEach(Z=>{const se=T(U[Z]);ue[Z]={elapsedMs:se,isRunning:!1,startedAt:null}}),ue})},[]),G=L.useCallback(U=>(c.current[U]||(c.current[U]={abort:!1,paused:!1,resumeResolvers:[]}),c.current[U]),[]),X=L.useCallback(U=>{const ue=c.current[U];ue&&(ue.resumeResolvers.forEach(Z=>Z()),ue.resumeResolvers=[])},[]),J=L.useCallback(U=>{const ue=c.current[U];ue&&(ue.abort=!0,ue.paused=!1,X(U)),_(),t(Z=>({...Z,[U]:{isRunning:!1,activeBlockId:null,remainingMs:null}}))},[X,_]),W=L.useCallback(()=>{Object.keys(c.current).forEach(J)},[J]),V=L.useCallback(U=>{const ue=c.current[U];!ue||ue.abort||(ue.paused=!0,_(),t(Z=>{const se=Z[U];return se?{...Z,[U]:{...se,isRunning:!1}}:Z}))},[_]),ne=L.useCallback(U=>{const ue=c.current[U];!ue||ue.abort||!ue.paused||(ue.paused=!1,X(U),t(Z=>{const se=Z[U];return se?{...Z,[U]:{...se,isRunning:!0}}:Z}))},[X]),le=L.useCallback(async U=>{if(!U.blocks.length)return;J(U.id);const ue=G(U.id);ue.abort=!1,ue.paused=!1,X(U.id),t(we=>({...we,[U.id]:{isRunning:!0,activeBlockId:null,remainingMs:null}}));const Z=async()=>{const we=G(U.id);we.paused&&await new Promise(Oe=>{we.resumeResolvers.push(Oe)})},se=(we,Oe=null)=>{const vt=G(U.id);t(de=>({...de,[U.id]:{isRunning:!(vt.abort??!1)&&!vt.paused,activeBlockId:we,remainingMs:Oe}}))},be={abort:()=>G(U.id).abort??!1,isPaused:()=>G(U.id).paused??!1,waitWhilePaused:Z,updateState:se,playSoundOnce:g,stopAudio:_},Re=async we=>{for(const Oe of we){if(be.abort()||be.isPaused()&&(await be.waitWhilePaused(),be.abort()))return;se(Oe.id),Oe.type==="wait"?await Qy(Oe,be):Oe.type==="waitUntil"?await Jy(Oe,be):Oe.type==="playSound"||Oe.type==="playSoundUntil"?await xp(Oe,be):Oe.type==="notify"?await ex(Oe,be):Oe.type==="notifyUntil"?await tx(Oe,be):Oe.type==="loop"&&await nx(Oe,be,Re)}};try{await Re(U.blocks)}finally{se(null),t(we=>({...we,[U.id]:{isRunning:!1,activeBlockId:null,remainingMs:null}}))}},[G,X,J,g,_]),ve=L.useCallback(async(U,ue)=>{if(U.mode==="simpleStopwatch"){j(U,ue);return}const Z=c.current[U.id];if(Z!=null&&Z.paused&&!Z.abort){ne(U.id);return}await le(U)},[j,le,ne]),Pe=L.useCallback(U=>{if(U.mode==="simpleStopwatch"){k(U.id);return}V(U.id)},[k,V]),Ae=L.useCallback(async U=>{if(U.mode==="simpleStopwatch"){j(U,{reset:!0});return}await le(U)},[j,le]),ye=L.useCallback(U=>{k(U),J(U)},[k,J]),Ie=L.useCallback(()=>{W(),F()},[W,F]),ot=L.useCallback(U=>{var ue,Z;return U?(((ue=e[U])==null?void 0:ue.isRunning)??!1)||(((Z=n[U])==null?void 0:Z.isRunning)??!1):!1},[e,n,i]),Ee=L.useCallback(U=>{var ue;return U?((ue=e[U])==null?void 0:ue.activeBlockId)??null:null},[e]),fe=L.useCallback(U=>{var ue;return U?((ue=e[U])==null?void 0:ue.remainingMs)??null:null},[e]),Se=L.useCallback(U=>U?T(n[U]):0,[n,i]);return{isRunning:ot,getActiveBlockId:Ee,getRemainingMs:fe,getElapsedMs:Se,start:ve,pause:Pe,restart:Ae,stop:ye,stopAll:Ie,resetStopwatch:z}}const ix=({timer:e,onPlayMenu:t,onEdit:n,onDelete:r,isActive:i,isPlaying:l=!1})=>{const c=d=>d.reduce((g,_)=>_.type==="loop"||_.type==="notify"?g+1+c(_.children||[]):g+1,0),u=c(e.blocks),f=!!e.locked,m=e.mode==="alarm"?"Alarm":e.mode==="stopwatch"||e.mode==="simpleStopwatch"?"Stopwatch":"Timer",y=e.mode==="simpleStopwatch"?(()=>{var g;const d=((g=e.logs)==null?void 0:g.length)??0;return d===0?"No logs yet":`${d} log${d===1?"":"s"}`})():u?`${u} block${u===1?"":"s"}`:"No blocks yet",a=d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),t())};return x.jsxs("div",{role:"button",tabIndex:0,onClick:t,onKeyDown:a,className:`pastel-card pastel-hover flex flex-col items-start gap-3 p-4 text-left transition-all ${i?"soft-glow":""}`,children:[x.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[x.jsxs("div",{className:"flex flex-col",children:[x.jsx("span",{className:"text-xs uppercase tracking-wide text-accent-300",children:m}),x.jsx("span",{className:"text-base font-semibold text-accent-600",children:e.name||"Untitled Timer"})]}),l&&x.jsx("span",{className:"text-[11px] font-semibold text-accent-500 bg-accent-50 px-2 py-1 rounded-full border border-accent-100",children:"Playing"})]}),x.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[x.jsx("p",{className:"text-xs text-accent-400",children:y}),x.jsxs("div",{className:"flex items-center gap-2",children:[!f&&x.jsx("button",{type:"button",onClick:d=>{d.stopPropagation(),n()},className:"soft-button bg-accent-100 text-accent-500 hover:bg-accent-200 text-xs px-3 py-1",children:"Edit"}),x.jsx("button",{type:"button",onClick:d=>{d.stopPropagation(),r(d.shiftKey)},className:"soft-button bg-accent-100 text-accent-500 hover:bg-accent-200 text-xs px-3 py-1",children:"Delete"})]})]})]})},ox=({timers:e,onSelectTimer:t,onEditTimer:n,onDeleteTimer:r,onCreateTimer:i,activeTimerId:l,isTimerRunning:c})=>x.jsx("div",{className:"w-full max-w-4xl mt-6",children:x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.map(u=>x.jsx(ix,{timer:u,isActive:u.id===l,isPlaying:(c==null?void 0:c(u.id))??!1,onPlayMenu:()=>t(u),onEdit:()=>n(u),onDelete:f=>r(u,{skipConfirm:f})},u.id)),x.jsxs("button",{type:"button",onClick:i,className:"pastel-card pastel-hover flex flex-col items-center justify-center gap-2 p-4 border-dashed border-2 border-accent-100 bg-accent-50-60",children:[x.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-accent-100 text-accent-500 text-xl",children:"+"}),x.jsx("span",{className:"text-sm font-medium text-accent-500",children:"Create New Timer"})]})]})});var mo={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var a=this||n;return a._counter=1e3,a._html5AudioPool=[],a.html5PoolSize=10,a._codecs={},a._howls=[],a._muted=!1,a._volume=1,a._canPlayEvent="canplaythrough",a._navigator=typeof window<"u"&&window.navigator?window.navigator:null,a.masterGain=null,a.noAudio=!1,a.usingWebAudio=!0,a.autoSuspend=!0,a.ctx=null,a.autoUnlock=!0,a._setup(),a},volume:function(a){var d=this||n;if(a=parseFloat(a),d.ctx||y(),typeof a<"u"&&a>=0&&a<=1){if(d._volume=a,d._muted)return d;d.usingWebAudio&&d.masterGain.gain.setValueAtTime(a,n.ctx.currentTime);for(var g=0;g<d._howls.length;g++)if(!d._howls[g]._webAudio)for(var _=d._howls[g]._getSoundIds(),T=0;T<_.length;T++){var j=d._howls[g]._soundById(_[T]);j&&j._node&&(j._node.volume=j._volume*a)}return d}return d._volume},mute:function(a){var d=this||n;d.ctx||y(),d._muted=a,d.usingWebAudio&&d.masterGain.gain.setValueAtTime(a?0:d._volume,n.ctx.currentTime);for(var g=0;g<d._howls.length;g++)if(!d._howls[g]._webAudio)for(var _=d._howls[g]._getSoundIds(),T=0;T<_.length;T++){var j=d._howls[g]._soundById(_[T]);j&&j._node&&(j._node.muted=a?!0:j._muted)}return d},stop:function(){for(var a=this||n,d=0;d<a._howls.length;d++)a._howls[d].stop();return a},unload:function(){for(var a=this||n,d=a._howls.length-1;d>=0;d--)a._howls[d].unload();return a.usingWebAudio&&a.ctx&&typeof a.ctx.close<"u"&&(a.ctx.close(),a.ctx=null,y()),a},codecs:function(a){return(this||n)._codecs[a.replace(/^x-/,"")]},_setup:function(){var a=this||n;if(a.state=a.ctx&&a.ctx.state||"suspended",a._autoSuspend(),!a.usingWebAudio)if(typeof Audio<"u")try{var d=new Audio;typeof d.oncanplaythrough>"u"&&(a._canPlayEvent="canplay")}catch{a.noAudio=!0}else a.noAudio=!0;try{var d=new Audio;d.muted&&(a.noAudio=!0)}catch{}return a.noAudio||a._setupCodecs(),a},_setupCodecs:function(){var a=this||n,d=null;try{d=typeof Audio<"u"?new Audio:null}catch{return a}if(!d||typeof d.canPlayType!="function")return a;var g=d.canPlayType("audio/mpeg;").replace(/^no$/,""),_=a._navigator?a._navigator.userAgent:"",T=_.match(/OPR\/(\d+)/g),j=T&&parseInt(T[0].split("/")[1],10)<33,k=_.indexOf("Safari")!==-1&&_.indexOf("Chrome")===-1,z=_.match(/Version\/(.*?) /),F=k&&z&&parseInt(z[1],10)<15;return a._codecs={mp3:!!(!j&&(g||d.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!g,opus:!!d.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!d.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!d.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(d.canPlayType('audio/wav; codecs="1"')||d.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!d.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!d.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(d.canPlayType("audio/x-m4a;")||d.canPlayType("audio/m4a;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(d.canPlayType("audio/x-m4b;")||d.canPlayType("audio/m4b;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(d.canPlayType("audio/x-mp4;")||d.canPlayType("audio/mp4;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!F&&d.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!F&&d.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!d.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(d.canPlayType("audio/x-flac;")||d.canPlayType("audio/flac;")).replace(/^no$/,"")},a},_unlockAudio:function(){var a=this||n;if(!(a._audioUnlocked||!a.ctx)){a._audioUnlocked=!1,a.autoUnlock=!1,!a._mobileUnloaded&&a.ctx.sampleRate!==44100&&(a._mobileUnloaded=!0,a.unload()),a._scratchBuffer=a.ctx.createBuffer(1,1,22050);var d=function(g){for(;a._html5AudioPool.length<a.html5PoolSize;)try{var _=new Audio;_._unlocked=!0,a._releaseHtml5Audio(_)}catch{a.noAudio=!0;break}for(var T=0;T<a._howls.length;T++)if(!a._howls[T]._webAudio)for(var j=a._howls[T]._getSoundIds(),k=0;k<j.length;k++){var z=a._howls[T]._soundById(j[k]);z&&z._node&&!z._node._unlocked&&(z._node._unlocked=!0,z._node.load())}a._autoResume();var F=a.ctx.createBufferSource();F.buffer=a._scratchBuffer,F.connect(a.ctx.destination),typeof F.start>"u"?F.noteOn(0):F.start(0),typeof a.ctx.resume=="function"&&a.ctx.resume(),F.onended=function(){F.disconnect(0),a._audioUnlocked=!0,document.removeEventListener("touchstart",d,!0),document.removeEventListener("touchend",d,!0),document.removeEventListener("click",d,!0),document.removeEventListener("keydown",d,!0);for(var G=0;G<a._howls.length;G++)a._howls[G]._emit("unlock")}};return document.addEventListener("touchstart",d,!0),document.addEventListener("touchend",d,!0),document.addEventListener("click",d,!0),document.addEventListener("keydown",d,!0),a}},_obtainHtml5Audio:function(){var a=this||n;if(a._html5AudioPool.length)return a._html5AudioPool.pop();var d=new Audio().play();return d&&typeof Promise<"u"&&(d instanceof Promise||typeof d.then=="function")&&d.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(a){var d=this||n;return a._unlocked&&d._html5AudioPool.push(a),d},_autoSuspend:function(){var a=this;if(!(!a.autoSuspend||!a.ctx||typeof a.ctx.suspend>"u"||!n.usingWebAudio)){for(var d=0;d<a._howls.length;d++)if(a._howls[d]._webAudio){for(var g=0;g<a._howls[d]._sounds.length;g++)if(!a._howls[d]._sounds[g]._paused)return a}return a._suspendTimer&&clearTimeout(a._suspendTimer),a._suspendTimer=setTimeout(function(){if(a.autoSuspend){a._suspendTimer=null,a.state="suspending";var _=function(){a.state="suspended",a._resumeAfterSuspend&&(delete a._resumeAfterSuspend,a._autoResume())};a.ctx.suspend().then(_,_)}},3e4),a}},_autoResume:function(){var a=this;if(!(!a.ctx||typeof a.ctx.resume>"u"||!n.usingWebAudio))return a.state==="running"&&a.ctx.state!=="interrupted"&&a._suspendTimer?(clearTimeout(a._suspendTimer),a._suspendTimer=null):a.state==="suspended"||a.state==="running"&&a.ctx.state==="interrupted"?(a.ctx.resume().then(function(){a.state="running";for(var d=0;d<a._howls.length;d++)a._howls[d]._emit("resume")}),a._suspendTimer&&(clearTimeout(a._suspendTimer),a._suspendTimer=null)):a.state==="suspending"&&(a._resumeAfterSuspend=!0),a}};var n=new t,r=function(a){var d=this;if(!a.src||a.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}d.init(a)};r.prototype={init:function(a){var d=this;return n.ctx||y(),d._autoplay=a.autoplay||!1,d._format=typeof a.format!="string"?a.format:[a.format],d._html5=a.html5||!1,d._muted=a.mute||!1,d._loop=a.loop||!1,d._pool=a.pool||5,d._preload=typeof a.preload=="boolean"||a.preload==="metadata"?a.preload:!0,d._rate=a.rate||1,d._sprite=a.sprite||{},d._src=typeof a.src!="string"?a.src:[a.src],d._volume=a.volume!==void 0?a.volume:1,d._xhr={method:a.xhr&&a.xhr.method?a.xhr.method:"GET",headers:a.xhr&&a.xhr.headers?a.xhr.headers:null,withCredentials:a.xhr&&a.xhr.withCredentials?a.xhr.withCredentials:!1},d._duration=0,d._state="unloaded",d._sounds=[],d._endTimers={},d._queue=[],d._playLock=!1,d._onend=a.onend?[{fn:a.onend}]:[],d._onfade=a.onfade?[{fn:a.onfade}]:[],d._onload=a.onload?[{fn:a.onload}]:[],d._onloaderror=a.onloaderror?[{fn:a.onloaderror}]:[],d._onplayerror=a.onplayerror?[{fn:a.onplayerror}]:[],d._onpause=a.onpause?[{fn:a.onpause}]:[],d._onplay=a.onplay?[{fn:a.onplay}]:[],d._onstop=a.onstop?[{fn:a.onstop}]:[],d._onmute=a.onmute?[{fn:a.onmute}]:[],d._onvolume=a.onvolume?[{fn:a.onvolume}]:[],d._onrate=a.onrate?[{fn:a.onrate}]:[],d._onseek=a.onseek?[{fn:a.onseek}]:[],d._onunlock=a.onunlock?[{fn:a.onunlock}]:[],d._onresume=[],d._webAudio=n.usingWebAudio&&!d._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(d),d._autoplay&&d._queue.push({event:"play",action:function(){d.play()}}),d._preload&&d._preload!=="none"&&d.load(),d},load:function(){var a=this,d=null;if(n.noAudio){a._emit("loaderror",null,"No audio support.");return}typeof a._src=="string"&&(a._src=[a._src]);for(var g=0;g<a._src.length;g++){var _,T;if(a._format&&a._format[g])_=a._format[g];else{if(T=a._src[g],typeof T!="string"){a._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}_=/^data:audio\/([^;,]+);/i.exec(T),_||(_=/\.([^.]+)$/.exec(T.split("?",1)[0])),_&&(_=_[1].toLowerCase())}if(_||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),_&&n.codecs(_)){d=a._src[g];break}}if(!d){a._emit("loaderror",null,"No codec support for selected audio sources.");return}return a._src=d,a._state="loading",window.location.protocol==="https:"&&d.slice(0,5)==="http:"&&(a._html5=!0,a._webAudio=!1),new i(a),a._webAudio&&c(a),a},play:function(a,d){var g=this,_=null;if(typeof a=="number")_=a,a=null;else{if(typeof a=="string"&&g._state==="loaded"&&!g._sprite[a])return null;if(typeof a>"u"&&(a="__default",!g._playLock)){for(var T=0,j=0;j<g._sounds.length;j++)g._sounds[j]._paused&&!g._sounds[j]._ended&&(T++,_=g._sounds[j]._id);T===1?a=null:_=null}}var k=_?g._soundById(_):g._inactiveSound();if(!k)return null;if(_&&!a&&(a=k._sprite||"__default"),g._state!=="loaded"){k._sprite=a,k._ended=!1;var z=k._id;return g._queue.push({event:"play",action:function(){g.play(z)}}),z}if(_&&!k._paused)return d||g._loadQueue("play"),k._id;g._webAudio&&n._autoResume();var F=Math.max(0,k._seek>0?k._seek:g._sprite[a][0]/1e3),G=Math.max(0,(g._sprite[a][0]+g._sprite[a][1])/1e3-F),X=G*1e3/Math.abs(k._rate),J=g._sprite[a][0]/1e3,W=(g._sprite[a][0]+g._sprite[a][1])/1e3;k._sprite=a,k._ended=!1;var V=function(){k._paused=!1,k._seek=F,k._start=J,k._stop=W,k._loop=!!(k._loop||g._sprite[a][2])};if(F>=W){g._ended(k);return}var ne=k._node;if(g._webAudio){var le=function(){g._playLock=!1,V(),g._refreshBuffer(k);var ye=k._muted||g._muted?0:k._volume;ne.gain.setValueAtTime(ye,n.ctx.currentTime),k._playStart=n.ctx.currentTime,typeof ne.bufferSource.start>"u"?k._loop?ne.bufferSource.noteGrainOn(0,F,86400):ne.bufferSource.noteGrainOn(0,F,G):k._loop?ne.bufferSource.start(0,F,86400):ne.bufferSource.start(0,F,G),X!==1/0&&(g._endTimers[k._id]=setTimeout(g._ended.bind(g,k),X)),d||setTimeout(function(){g._emit("play",k._id),g._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?le():(g._playLock=!0,g.once("resume",le),g._clearTimer(k._id))}else{var ve=function(){ne.currentTime=F,ne.muted=k._muted||g._muted||n._muted||ne.muted,ne.volume=k._volume*n.volume(),ne.playbackRate=k._rate;try{var ye=ne.play();if(ye&&typeof Promise<"u"&&(ye instanceof Promise||typeof ye.then=="function")?(g._playLock=!0,V(),ye.then(function(){g._playLock=!1,ne._unlocked=!0,d?g._loadQueue():g._emit("play",k._id)}).catch(function(){g._playLock=!1,g._emit("playerror",k._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),k._ended=!0,k._paused=!0})):d||(g._playLock=!1,V(),g._emit("play",k._id)),ne.playbackRate=k._rate,ne.paused){g._emit("playerror",k._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}a!=="__default"||k._loop?g._endTimers[k._id]=setTimeout(g._ended.bind(g,k),X):(g._endTimers[k._id]=function(){g._ended(k),ne.removeEventListener("ended",g._endTimers[k._id],!1)},ne.addEventListener("ended",g._endTimers[k._id],!1))}catch(Ie){g._emit("playerror",k._id,Ie)}};ne.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(ne.src=g._src,ne.load());var Pe=window&&window.ejecta||!ne.readyState&&n._navigator.isCocoonJS;if(ne.readyState>=3||Pe)ve();else{g._playLock=!0,g._state="loading";var Ae=function(){g._state="loaded",ve(),ne.removeEventListener(n._canPlayEvent,Ae,!1)};ne.addEventListener(n._canPlayEvent,Ae,!1),g._clearTimer(k._id)}}return k._id},pause:function(a){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"pause",action:function(){d.pause(a)}}),d;for(var g=d._getSoundIds(a),_=0;_<g.length;_++){d._clearTimer(g[_]);var T=d._soundById(g[_]);if(T&&!T._paused&&(T._seek=d.seek(g[_]),T._rateSeek=0,T._paused=!0,d._stopFade(g[_]),T._node))if(d._webAudio){if(!T._node.bufferSource)continue;typeof T._node.bufferSource.stop>"u"?T._node.bufferSource.noteOff(0):T._node.bufferSource.stop(0),d._cleanBuffer(T._node)}else(!isNaN(T._node.duration)||T._node.duration===1/0)&&T._node.pause();arguments[1]||d._emit("pause",T?T._id:null)}return d},stop:function(a,d){var g=this;if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"stop",action:function(){g.stop(a)}}),g;for(var _=g._getSoundIds(a),T=0;T<_.length;T++){g._clearTimer(_[T]);var j=g._soundById(_[T]);j&&(j._seek=j._start||0,j._rateSeek=0,j._paused=!0,j._ended=!0,g._stopFade(_[T]),j._node&&(g._webAudio?j._node.bufferSource&&(typeof j._node.bufferSource.stop>"u"?j._node.bufferSource.noteOff(0):j._node.bufferSource.stop(0),g._cleanBuffer(j._node)):(!isNaN(j._node.duration)||j._node.duration===1/0)&&(j._node.currentTime=j._start||0,j._node.pause(),j._node.duration===1/0&&g._clearSound(j._node))),d||g._emit("stop",j._id))}return g},mute:function(a,d){var g=this;if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"mute",action:function(){g.mute(a,d)}}),g;if(typeof d>"u")if(typeof a=="boolean")g._muted=a;else return g._muted;for(var _=g._getSoundIds(d),T=0;T<_.length;T++){var j=g._soundById(_[T]);j&&(j._muted=a,j._interval&&g._stopFade(j._id),g._webAudio&&j._node?j._node.gain.setValueAtTime(a?0:j._volume,n.ctx.currentTime):j._node&&(j._node.muted=n._muted?!0:a),g._emit("mute",j._id))}return g},volume:function(){var a=this,d=arguments,g,_;if(d.length===0)return a._volume;if(d.length===1||d.length===2&&typeof d[1]>"u"){var T=a._getSoundIds(),j=T.indexOf(d[0]);j>=0?_=parseInt(d[0],10):g=parseFloat(d[0])}else d.length>=2&&(g=parseFloat(d[0]),_=parseInt(d[1],10));var k;if(typeof g<"u"&&g>=0&&g<=1){if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"volume",action:function(){a.volume.apply(a,d)}}),a;typeof _>"u"&&(a._volume=g),_=a._getSoundIds(_);for(var z=0;z<_.length;z++)k=a._soundById(_[z]),k&&(k._volume=g,d[2]||a._stopFade(_[z]),a._webAudio&&k._node&&!k._muted?k._node.gain.setValueAtTime(g,n.ctx.currentTime):k._node&&!k._muted&&(k._node.volume=g*n.volume()),a._emit("volume",k._id))}else return k=_?a._soundById(_):a._sounds[0],k?k._volume:0;return a},fade:function(a,d,g,_){var T=this;if(T._state!=="loaded"||T._playLock)return T._queue.push({event:"fade",action:function(){T.fade(a,d,g,_)}}),T;a=Math.min(Math.max(0,parseFloat(a)),1),d=Math.min(Math.max(0,parseFloat(d)),1),g=parseFloat(g),T.volume(a,_);for(var j=T._getSoundIds(_),k=0;k<j.length;k++){var z=T._soundById(j[k]);if(z){if(_||T._stopFade(j[k]),T._webAudio&&!z._muted){var F=n.ctx.currentTime,G=F+g/1e3;z._volume=a,z._node.gain.setValueAtTime(a,F),z._node.gain.linearRampToValueAtTime(d,G)}T._startFadeInterval(z,a,d,g,j[k],typeof _>"u")}}return T},_startFadeInterval:function(a,d,g,_,T,j){var k=this,z=d,F=g-d,G=Math.abs(F/.01),X=Math.max(4,G>0?_/G:_),J=Date.now();a._fadeTo=g,a._interval=setInterval(function(){var W=(Date.now()-J)/_;J=Date.now(),z+=F*W,z=Math.round(z*100)/100,F<0?z=Math.max(g,z):z=Math.min(g,z),k._webAudio?a._volume=z:k.volume(z,a._id,!0),j&&(k._volume=z),(g<d&&z<=g||g>d&&z>=g)&&(clearInterval(a._interval),a._interval=null,a._fadeTo=null,k.volume(g,a._id),k._emit("fade",a._id))},X)},_stopFade:function(a){var d=this,g=d._soundById(a);return g&&g._interval&&(d._webAudio&&g._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(g._interval),g._interval=null,d.volume(g._fadeTo,a),g._fadeTo=null,d._emit("fade",a)),d},loop:function(){var a=this,d=arguments,g,_,T;if(d.length===0)return a._loop;if(d.length===1)if(typeof d[0]=="boolean")g=d[0],a._loop=g;else return T=a._soundById(parseInt(d[0],10)),T?T._loop:!1;else d.length===2&&(g=d[0],_=parseInt(d[1],10));for(var j=a._getSoundIds(_),k=0;k<j.length;k++)T=a._soundById(j[k]),T&&(T._loop=g,a._webAudio&&T._node&&T._node.bufferSource&&(T._node.bufferSource.loop=g,g&&(T._node.bufferSource.loopStart=T._start||0,T._node.bufferSource.loopEnd=T._stop,a.playing(j[k])&&(a.pause(j[k],!0),a.play(j[k],!0)))));return a},rate:function(){var a=this,d=arguments,g,_;if(d.length===0)_=a._sounds[0]._id;else if(d.length===1){var T=a._getSoundIds(),j=T.indexOf(d[0]);j>=0?_=parseInt(d[0],10):g=parseFloat(d[0])}else d.length===2&&(g=parseFloat(d[0]),_=parseInt(d[1],10));var k;if(typeof g=="number"){if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"rate",action:function(){a.rate.apply(a,d)}}),a;typeof _>"u"&&(a._rate=g),_=a._getSoundIds(_);for(var z=0;z<_.length;z++)if(k=a._soundById(_[z]),k){a.playing(_[z])&&(k._rateSeek=a.seek(_[z]),k._playStart=a._webAudio?n.ctx.currentTime:k._playStart),k._rate=g,a._webAudio&&k._node&&k._node.bufferSource?k._node.bufferSource.playbackRate.setValueAtTime(g,n.ctx.currentTime):k._node&&(k._node.playbackRate=g);var F=a.seek(_[z]),G=(a._sprite[k._sprite][0]+a._sprite[k._sprite][1])/1e3-F,X=G*1e3/Math.abs(k._rate);(a._endTimers[_[z]]||!k._paused)&&(a._clearTimer(_[z]),a._endTimers[_[z]]=setTimeout(a._ended.bind(a,k),X)),a._emit("rate",k._id)}}else return k=a._soundById(_),k?k._rate:a._rate;return a},seek:function(){var a=this,d=arguments,g,_;if(d.length===0)a._sounds.length&&(_=a._sounds[0]._id);else if(d.length===1){var T=a._getSoundIds(),j=T.indexOf(d[0]);j>=0?_=parseInt(d[0],10):a._sounds.length&&(_=a._sounds[0]._id,g=parseFloat(d[0]))}else d.length===2&&(g=parseFloat(d[0]),_=parseInt(d[1],10));if(typeof _>"u")return 0;if(typeof g=="number"&&(a._state!=="loaded"||a._playLock))return a._queue.push({event:"seek",action:function(){a.seek.apply(a,d)}}),a;var k=a._soundById(_);if(k)if(typeof g=="number"&&g>=0){var z=a.playing(_);z&&a.pause(_,!0),k._seek=g,k._ended=!1,a._clearTimer(_),!a._webAudio&&k._node&&!isNaN(k._node.duration)&&(k._node.currentTime=g);var F=function(){z&&a.play(_,!0),a._emit("seek",_)};if(z&&!a._webAudio){var G=function(){a._playLock?setTimeout(G,0):F()};setTimeout(G,0)}else F()}else if(a._webAudio){var X=a.playing(_)?n.ctx.currentTime-k._playStart:0,J=k._rateSeek?k._rateSeek-k._seek:0;return k._seek+(J+X*Math.abs(k._rate))}else return k._node.currentTime;return a},playing:function(a){var d=this;if(typeof a=="number"){var g=d._soundById(a);return g?!g._paused:!1}for(var _=0;_<d._sounds.length;_++)if(!d._sounds[_]._paused)return!0;return!1},duration:function(a){var d=this,g=d._duration,_=d._soundById(a);return _&&(g=d._sprite[_._sprite][1]/1e3),g},state:function(){return this._state},unload:function(){for(var a=this,d=a._sounds,g=0;g<d.length;g++)d[g]._paused||a.stop(d[g]._id),a._webAudio||(a._clearSound(d[g]._node),d[g]._node.removeEventListener("error",d[g]._errorFn,!1),d[g]._node.removeEventListener(n._canPlayEvent,d[g]._loadFn,!1),d[g]._node.removeEventListener("ended",d[g]._endFn,!1),n._releaseHtml5Audio(d[g]._node)),delete d[g]._node,a._clearTimer(d[g]._id);var _=n._howls.indexOf(a);_>=0&&n._howls.splice(_,1);var T=!0;for(g=0;g<n._howls.length;g++)if(n._howls[g]._src===a._src||a._src.indexOf(n._howls[g]._src)>=0){T=!1;break}return l&&T&&delete l[a._src],n.noAudio=!1,a._state="unloaded",a._sounds=[],a=null,null},on:function(a,d,g,_){var T=this,j=T["_on"+a];return typeof d=="function"&&j.push(_?{id:g,fn:d,once:_}:{id:g,fn:d}),T},off:function(a,d,g){var _=this,T=_["_on"+a],j=0;if(typeof d=="number"&&(g=d,d=null),d||g)for(j=0;j<T.length;j++){var k=g===T[j].id;if(d===T[j].fn&&k||!d&&k){T.splice(j,1);break}}else if(a)_["_on"+a]=[];else{var z=Object.keys(_);for(j=0;j<z.length;j++)z[j].indexOf("_on")===0&&Array.isArray(_[z[j]])&&(_[z[j]]=[])}return _},once:function(a,d,g){var _=this;return _.on(a,d,g,1),_},_emit:function(a,d,g){for(var _=this,T=_["_on"+a],j=T.length-1;j>=0;j--)(!T[j].id||T[j].id===d||a==="load")&&(setTimeout((function(k){k.call(this,d,g)}).bind(_,T[j].fn),0),T[j].once&&_.off(a,T[j].fn,T[j].id));return _._loadQueue(a),_},_loadQueue:function(a){var d=this;if(d._queue.length>0){var g=d._queue[0];g.event===a&&(d._queue.shift(),d._loadQueue()),a||g.action()}return d},_ended:function(a){var d=this,g=a._sprite;if(!d._webAudio&&a._node&&!a._node.paused&&!a._node.ended&&a._node.currentTime<a._stop)return setTimeout(d._ended.bind(d,a),100),d;var _=!!(a._loop||d._sprite[g][2]);if(d._emit("end",a._id),!d._webAudio&&_&&d.stop(a._id,!0).play(a._id),d._webAudio&&_){d._emit("play",a._id),a._seek=a._start||0,a._rateSeek=0,a._playStart=n.ctx.currentTime;var T=(a._stop-a._start)*1e3/Math.abs(a._rate);d._endTimers[a._id]=setTimeout(d._ended.bind(d,a),T)}return d._webAudio&&!_&&(a._paused=!0,a._ended=!0,a._seek=a._start||0,a._rateSeek=0,d._clearTimer(a._id),d._cleanBuffer(a._node),n._autoSuspend()),!d._webAudio&&!_&&d.stop(a._id,!0),d},_clearTimer:function(a){var d=this;if(d._endTimers[a]){if(typeof d._endTimers[a]!="function")clearTimeout(d._endTimers[a]);else{var g=d._soundById(a);g&&g._node&&g._node.removeEventListener("ended",d._endTimers[a],!1)}delete d._endTimers[a]}return d},_soundById:function(a){for(var d=this,g=0;g<d._sounds.length;g++)if(a===d._sounds[g]._id)return d._sounds[g];return null},_inactiveSound:function(){var a=this;a._drain();for(var d=0;d<a._sounds.length;d++)if(a._sounds[d]._ended)return a._sounds[d].reset();return new i(a)},_drain:function(){var a=this,d=a._pool,g=0,_=0;if(!(a._sounds.length<d)){for(_=0;_<a._sounds.length;_++)a._sounds[_]._ended&&g++;for(_=a._sounds.length-1;_>=0;_--){if(g<=d)return;a._sounds[_]._ended&&(a._webAudio&&a._sounds[_]._node&&a._sounds[_]._node.disconnect(0),a._sounds.splice(_,1),g--)}}},_getSoundIds:function(a){var d=this;if(typeof a>"u"){for(var g=[],_=0;_<d._sounds.length;_++)g.push(d._sounds[_]._id);return g}else return[a]},_refreshBuffer:function(a){var d=this;return a._node.bufferSource=n.ctx.createBufferSource(),a._node.bufferSource.buffer=l[d._src],a._panner?a._node.bufferSource.connect(a._panner):a._node.bufferSource.connect(a._node),a._node.bufferSource.loop=a._loop,a._loop&&(a._node.bufferSource.loopStart=a._start||0,a._node.bufferSource.loopEnd=a._stop||0),a._node.bufferSource.playbackRate.setValueAtTime(a._rate,n.ctx.currentTime),d},_cleanBuffer:function(a){var d=this,g=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!a.bufferSource)return d;if(n._scratchBuffer&&a.bufferSource&&(a.bufferSource.onended=null,a.bufferSource.disconnect(0),g))try{a.bufferSource.buffer=n._scratchBuffer}catch{}return a.bufferSource=null,d},_clearSound:function(a){var d=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);d||(a.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(a){this._parent=a,this.init()};i.prototype={init:function(){var a=this,d=a._parent;return a._muted=d._muted,a._loop=d._loop,a._volume=d._volume,a._rate=d._rate,a._seek=0,a._paused=!0,a._ended=!0,a._sprite="__default",a._id=++n._counter,d._sounds.push(a),a.create(),a},create:function(){var a=this,d=a._parent,g=n._muted||a._muted||a._parent._muted?0:a._volume;return d._webAudio?(a._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),a._node.gain.setValueAtTime(g,n.ctx.currentTime),a._node.paused=!0,a._node.connect(n.masterGain)):n.noAudio||(a._node=n._obtainHtml5Audio(),a._errorFn=a._errorListener.bind(a),a._node.addEventListener("error",a._errorFn,!1),a._loadFn=a._loadListener.bind(a),a._node.addEventListener(n._canPlayEvent,a._loadFn,!1),a._endFn=a._endListener.bind(a),a._node.addEventListener("ended",a._endFn,!1),a._node.src=d._src,a._node.preload=d._preload===!0?"auto":d._preload,a._node.volume=g*n.volume(),a._node.load()),a},reset:function(){var a=this,d=a._parent;return a._muted=d._muted,a._loop=d._loop,a._volume=d._volume,a._rate=d._rate,a._seek=0,a._rateSeek=0,a._paused=!0,a._ended=!0,a._sprite="__default",a._id=++n._counter,a},_errorListener:function(){var a=this;a._parent._emit("loaderror",a._id,a._node.error?a._node.error.code:0),a._node.removeEventListener("error",a._errorFn,!1)},_loadListener:function(){var a=this,d=a._parent;d._duration=Math.ceil(a._node.duration*10)/10,Object.keys(d._sprite).length===0&&(d._sprite={__default:[0,d._duration*1e3]}),d._state!=="loaded"&&(d._state="loaded",d._emit("load"),d._loadQueue()),a._node.removeEventListener(n._canPlayEvent,a._loadFn,!1)},_endListener:function(){var a=this,d=a._parent;d._duration===1/0&&(d._duration=Math.ceil(a._node.duration*10)/10,d._sprite.__default[1]===1/0&&(d._sprite.__default[1]=d._duration*1e3),d._ended(a)),a._node.removeEventListener("ended",a._endFn,!1)}};var l={},c=function(a){var d=a._src;if(l[d]){a._duration=l[d].duration,m(a);return}if(/^data:[^;]+;base64,/.test(d)){for(var g=atob(d.split(",")[1]),_=new Uint8Array(g.length),T=0;T<g.length;++T)_[T]=g.charCodeAt(T);f(_.buffer,a)}else{var j=new XMLHttpRequest;j.open(a._xhr.method,d,!0),j.withCredentials=a._xhr.withCredentials,j.responseType="arraybuffer",a._xhr.headers&&Object.keys(a._xhr.headers).forEach(function(k){j.setRequestHeader(k,a._xhr.headers[k])}),j.onload=function(){var k=(j.status+"")[0];if(k!=="0"&&k!=="2"&&k!=="3"){a._emit("loaderror",null,"Failed loading audio file with status: "+j.status+".");return}f(j.response,a)},j.onerror=function(){a._webAudio&&(a._html5=!0,a._webAudio=!1,a._sounds=[],delete l[d],a.load())},u(j)}},u=function(a){try{a.send()}catch{a.onerror()}},f=function(a,d){var g=function(){d._emit("loaderror",null,"Decoding audio data failed.")},_=function(T){T&&d._sounds.length>0?(l[d._src]=T,m(d,T)):g()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(a).then(_).catch(g):n.ctx.decodeAudioData(a,_,g)},m=function(a,d){d&&!a._duration&&(a._duration=d.duration),Object.keys(a._sprite).length===0&&(a._sprite={__default:[0,a._duration*1e3]}),a._state!=="loaded"&&(a._state="loaded",a._emit("load"),a._loadQueue())},y=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var a=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),d=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),g=d?parseInt(d[1],10):null;if(a&&g&&g<9){var _=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!_&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=r,typeof xn<"u"?(xn.HowlerGlobal=t,xn.Howler=n,xn.Howl=r,xn.Sound=i):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=r,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var i=r._howls.length-1;i>=0;i--)r._howls[i].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,i){var l=this;if(!l.ctx||!l.ctx.listener)return l;if(r=typeof r!="number"?l._pos[1]:r,i=typeof i!="number"?l._pos[2]:i,typeof n=="number")l._pos=[n,r,i],typeof l.ctx.listener.positionX<"u"?(l.ctx.listener.positionX.setTargetAtTime(l._pos[0],Howler.ctx.currentTime,.1),l.ctx.listener.positionY.setTargetAtTime(l._pos[1],Howler.ctx.currentTime,.1),l.ctx.listener.positionZ.setTargetAtTime(l._pos[2],Howler.ctx.currentTime,.1)):l.ctx.listener.setPosition(l._pos[0],l._pos[1],l._pos[2]);else return l._pos;return l},HowlerGlobal.prototype.orientation=function(n,r,i,l,c,u){var f=this;if(!f.ctx||!f.ctx.listener)return f;var m=f._orientation;if(r=typeof r!="number"?m[1]:r,i=typeof i!="number"?m[2]:i,l=typeof l!="number"?m[3]:l,c=typeof c!="number"?m[4]:c,u=typeof u!="number"?m[5]:u,typeof n=="number")f._orientation=[n,r,i,l,c,u],typeof f.ctx.listener.forwardX<"u"?(f.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),f.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),f.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),f.ctx.listener.upX.setTargetAtTime(l,Howler.ctx.currentTime,.1),f.ctx.listener.upY.setTargetAtTime(c,Howler.ctx.currentTime,.1),f.ctx.listener.upZ.setTargetAtTime(u,Howler.ctx.currentTime,.1)):f.ctx.listener.setOrientation(n,r,i,l,c,u);else return m;return f},Howl.prototype.init=function(n){return function(r){var i=this;return i._orientation=r.orientation||[1,0,0],i._stereo=r.stereo||null,i._pos=r.pos||null,i._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},i._onstereo=r.onstereo?[{fn:r.onstereo}]:[],i._onpos=r.onpos?[{fn:r.onpos}]:[],i._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(n,r)}}),i;var l=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")i._stereo=n,i._pos=[n,0,0];else return i._stereo;for(var c=i._getSoundIds(r),u=0;u<c.length;u++){var f=i._soundById(c[u]);if(f)if(typeof n=="number")f._stereo=n,f._pos=[n,0,0],f._node&&(f._pannerAttr.panningModel="equalpower",(!f._panner||!f._panner.pan)&&t(f,l),l==="spatial"?typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):f._panner.setPosition(n,0,0):f._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),i._emit("stereo",f._id);else return f._stereo}return i},Howl.prototype.pos=function(n,r,i,l){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"pos",action:function(){c.pos(n,r,i,l)}}),c;if(r=typeof r!="number"?0:r,i=typeof i!="number"?-.5:i,typeof l>"u")if(typeof n=="number")c._pos=[n,r,i];else return c._pos;for(var u=c._getSoundIds(l),f=0;f<u.length;f++){var m=c._soundById(u[f]);if(m)if(typeof n=="number")m._pos=[n,r,i],m._node&&((!m._panner||m._panner.pan)&&t(m,"spatial"),typeof m._panner.positionX<"u"?(m._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),m._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),m._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):m._panner.setPosition(n,r,i)),c._emit("pos",m._id);else return m._pos}return c},Howl.prototype.orientation=function(n,r,i,l){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"orientation",action:function(){c.orientation(n,r,i,l)}}),c;if(r=typeof r!="number"?c._orientation[1]:r,i=typeof i!="number"?c._orientation[2]:i,typeof l>"u")if(typeof n=="number")c._orientation=[n,r,i];else return c._orientation;for(var u=c._getSoundIds(l),f=0;f<u.length;f++){var m=c._soundById(u[f]);if(m)if(typeof n=="number")m._orientation=[n,r,i],m._node&&(m._panner||(m._pos||(m._pos=c._pos||[0,0,-.5]),t(m,"spatial")),typeof m._panner.orientationX<"u"?(m._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),m._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),m._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):m._panner.setOrientation(n,r,i)),c._emit("orientation",m._id);else return m._orientation}return c},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,i,l,c;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")i=r[0],typeof l>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),n._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:n._panningModel});else return c=n._soundById(parseInt(r[0],10)),c?c._pannerAttr:n._pannerAttr;else r.length===2&&(i=r[0],l=parseInt(r[1],10));for(var u=n._getSoundIds(l),f=0;f<u.length;f++)if(c=n._soundById(u[f]),c){var m=c._pannerAttr;m={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:m.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:m.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:m.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:m.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:m.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:m.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:m.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:m.panningModel};var y=c._panner;y||(c._pos||(c._pos=n._pos||[0,0,-.5]),t(c,"spatial"),y=c._panner),y.coneInnerAngle=m.coneInnerAngle,y.coneOuterAngle=m.coneOuterAngle,y.coneOuterGain=m.coneOuterGain,y.distanceModel=m.distanceModel,y.maxDistance=m.maxDistance,y.refDistance=m.refDistance,y.rolloffFactor=m.rolloffFactor,y.panningModel=m.panningModel}return n},Sound.prototype.init=function(n){return function(){var r=this,i=r._parent;r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,n.call(this),r._stereo?i.stereo(r._stereo):r._pos&&i.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,i=r._parent;return r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,r._stereo?i.stereo(r._stereo):r._pos?i.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,i._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var t=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(mo);const ax=lo(mo),sx=ch({__proto__:null,default:ax},[mo]);var bp={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(xn,function(){var n,r,i=1e3,l=6e4,c=36e5,u=864e5,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m=31536e6,y=2628e6,a=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,d={years:m,months:y,days:u,hours:c,minutes:l,seconds:i,milliseconds:1,weeks:6048e5},g=function(J){return J instanceof G},_=function(J,W,V){return new G(J,V,W.$l)},T=function(J){return r.p(J)+"s"},j=function(J){return J<0},k=function(J){return j(J)?Math.ceil(J):Math.floor(J)},z=function(J){return Math.abs(J)},F=function(J,W){return J?j(J)?{negative:!0,format:""+z(J)+W}:{negative:!1,format:""+J+W}:{negative:!1,format:""}},G=function(){function J(V,ne,le){var ve=this;if(this.$d={},this.$l=le,V===void 0&&(this.$ms=0,this.parseFromMilliseconds()),ne)return _(V*d[T(ne)],this);if(typeof V=="number")return this.$ms=V,this.parseFromMilliseconds(),this;if(typeof V=="object")return Object.keys(V).forEach(function(ye){ve.$d[T(ye)]=V[ye]}),this.calMilliseconds(),this;if(typeof V=="string"){var Pe=V.match(a);if(Pe){var Ae=Pe.slice(2).map(function(ye){return ye!=null?Number(ye):0});return this.$d.years=Ae[0],this.$d.months=Ae[1],this.$d.weeks=Ae[2],this.$d.days=Ae[3],this.$d.hours=Ae[4],this.$d.minutes=Ae[5],this.$d.seconds=Ae[6],this.calMilliseconds(),this}}return this}var W=J.prototype;return W.calMilliseconds=function(){var V=this;this.$ms=Object.keys(this.$d).reduce(function(ne,le){return ne+(V.$d[le]||0)*d[le]},0)},W.parseFromMilliseconds=function(){var V=this.$ms;this.$d.years=k(V/m),V%=m,this.$d.months=k(V/y),V%=y,this.$d.days=k(V/u),V%=u,this.$d.hours=k(V/c),V%=c,this.$d.minutes=k(V/l),V%=l,this.$d.seconds=k(V/i),V%=i,this.$d.milliseconds=V},W.toISOString=function(){var V=F(this.$d.years,"Y"),ne=F(this.$d.months,"M"),le=+this.$d.days||0;this.$d.weeks&&(le+=7*this.$d.weeks);var ve=F(le,"D"),Pe=F(this.$d.hours,"H"),Ae=F(this.$d.minutes,"M"),ye=this.$d.seconds||0;this.$d.milliseconds&&(ye+=this.$d.milliseconds/1e3,ye=Math.round(1e3*ye)/1e3);var Ie=F(ye,"S"),ot=V.negative||ne.negative||ve.negative||Pe.negative||Ae.negative||Ie.negative,Ee=Pe.format||Ae.format||Ie.format?"T":"",fe=(ot?"-":"")+"P"+V.format+ne.format+ve.format+Ee+Pe.format+Ae.format+Ie.format;return fe==="P"||fe==="-P"?"P0D":fe},W.toJSON=function(){return this.toISOString()},W.format=function(V){var ne=V||"YYYY-MM-DDTHH:mm:ss",le={Y:this.$d.years,YY:r.s(this.$d.years,2,"0"),YYYY:r.s(this.$d.years,4,"0"),M:this.$d.months,MM:r.s(this.$d.months,2,"0"),D:this.$d.days,DD:r.s(this.$d.days,2,"0"),H:this.$d.hours,HH:r.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:r.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:r.s(this.$d.seconds,2,"0"),SSS:r.s(this.$d.milliseconds,3,"0")};return ne.replace(f,function(ve,Pe){return Pe||String(le[ve])})},W.as=function(V){return this.$ms/d[T(V)]},W.get=function(V){var ne=this.$ms,le=T(V);return le==="milliseconds"?ne%=1e3:ne=le==="weeks"?k(ne/d[le]):this.$d[le],ne||0},W.add=function(V,ne,le){var ve;return ve=ne?V*d[T(ne)]:g(V)?V.$ms:_(V,this).$ms,_(this.$ms+ve*(le?-1:1),this)},W.subtract=function(V,ne){return this.add(V,ne,!0)},W.locale=function(V){var ne=this.clone();return ne.$l=V,ne},W.clone=function(){return _(this.$ms,this)},W.humanize=function(V){return n().add(this.$ms,"ms").locale(this.$l).fromNow(!V)},W.valueOf=function(){return this.asMilliseconds()},W.milliseconds=function(){return this.get("milliseconds")},W.asMilliseconds=function(){return this.as("milliseconds")},W.seconds=function(){return this.get("seconds")},W.asSeconds=function(){return this.as("seconds")},W.minutes=function(){return this.get("minutes")},W.asMinutes=function(){return this.as("minutes")},W.hours=function(){return this.get("hours")},W.asHours=function(){return this.as("hours")},W.days=function(){return this.get("days")},W.asDays=function(){return this.as("days")},W.weeks=function(){return this.get("weeks")},W.asWeeks=function(){return this.as("weeks")},W.months=function(){return this.get("months")},W.asMonths=function(){return this.as("months")},W.years=function(){return this.get("years")},W.asYears=function(){return this.as("years")},J}(),X=function(J,W,V){return J.add(W.years()*V,"y").add(W.months()*V,"M").add(W.days()*V,"d").add(W.hours()*V,"h").add(W.minutes()*V,"m").add(W.seconds()*V,"s").add(W.milliseconds()*V,"ms")};return function(J,W,V){n=V,r=V().$utils(),V.duration=function(ve,Pe){var Ae=V.locale();return _(ve,{$l:Ae},Pe)},V.isDuration=g;var ne=W.prototype.add,le=W.prototype.subtract;W.prototype.add=function(ve,Pe){return g(ve)?X(this,ve,1):ne.bind(this)(ve,Pe)},W.prototype.subtract=function(ve,Pe){return g(ve)?X(this,ve,-1):le.bind(this)(ve,Pe)}}})})(bp);var cx=bp.exports;const _p=lo(cx),lx={wait:{label:"Wait",getDescription:e=>{const t=e;return`Wait ${t.amount||0} ${t.unit}`},supportsCountdown:!0,getCountdownMs:()=>null},waitUntil:{label:"Wait Until",getDescription:e=>{const t=e;return`Wait until ${t.time||"--:--"} ${t.ampm}`},supportsCountdown:!0,getCountdownMs:()=>null},playSound:{label:"Play Sound",getDescription:e=>`Play sound â ${e.label||"Sound"}`},playSoundUntil:{label:"Play Sound Until",getDescription:e=>`Play sound (wait) â ${e.label||"Sound"}`},notify:{label:"Notify",getDescription:e=>`Notify â ${e.title||"Notification"}`},notifyUntil:{label:"Notify Until",getDescription:e=>`Notify Until â ${e.title||"Notification"}`,supportsCountdown:!0,getCountdownMs:e=>e.timeoutMs??1e4},loop:{label:"Loop",getDescription:e=>{const t=e;return t.repeat===-1?"Repeat forever":`Repeat ${t.repeat||1} ${t.repeat===1?"time":"times"}`}}};function wp(e){return lx[e]||{label:"Unknown",getDescription:()=>"Unknown block"}}const ux=e=>{if(e.length===0)return null;const t=e[0];if(t.type==="wait"){const n=t;return vp(n.amount||0,n.unit)}if(t.type==="waitUntil"){const n=t;return gp(n.time||"07:00",n.ampm)}return null};ei.extend(_p);const Bi=e=>{if(e===null||Number.isNaN(e))return null;const t=ei.duration(Math.max(0,e)),n=Math.floor(t.asHours()),r=t.minutes(),i=t.seconds(),l=`${r.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`;return n>0?`${n.toString().padStart(2,"0")}:${l}`:l},al=e=>{if(e==null||Number.isNaN(e))return"00:00.00";const t=ei.duration(e),n=Math.floor(t.asHours()),r=t.minutes(),i=t.seconds(),l=Math.floor(t.milliseconds()/10),c=`${r.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}.${l.toString().padStart(2,"0")}`;return n>0?`${n.toString().padStart(2,"0")}:${c}`:c},px=e=>os(e,"MM/dd/yy hh:mm:ss a"),dx=e=>{const t="/sounds/alarm.mp3";return(e.soundType==="custom"?"url":e.soundType??"default")==="default"?t:e.customUrl||t},kp=e=>{const t=[];for(const n of e)n.type==="playSound"||n.type==="playSoundUntil"?t.push(n):n.type==="loop"&&t.push(...kp(n.children));return t},fx=e=>wp(e.type).getDescription(e),Tp=({blocks:e,activeBlockId:t,collapsedMap:n,onToggleLoop:r,durationsMap:i,remainingMs:l,depth:c=0})=>x.jsx(x.Fragment,{children:e.map(u=>{const f=u.id===t,m=u.type==="loop",y=m?n[u.id]??!0:!1,a=wp(u.type),d=!a.supportsCountdown||!f||l===null?null:u.type==="wait"||u.type==="waitUntil"||u.type==="notifyUntil"?Bi(l):null;return x.jsxs("div",{className:"mb-1 mt-1",children:[x.jsxs("div",{className:`pastel-card flex items-center justify-between rounded-xl px-3 py-2 text-xs transition-all ${f?"bg-accent-100 text-accent-600 soft-glow":"text-accent-500"}`,style:{marginLeft:c*12},children:[x.jsx("span",{children:fx(u)}),x.jsxs("div",{className:"flex items-center gap-2",children:[d&&x.jsx("span",{className:"text-accent-500 text-[11px]",children:d}),m&&x.jsxs("button",{type:"button",onClick:g=>{g.stopPropagation(),r(u.id)},className:"flex items-center gap-1 text-[10px] uppercase tracking-wide text-accent-400",children:[x.jsx("span",{className:"inline-block",children:y?"â¶":"â¼"}),x.jsx("span",{children:"Container"})]})]})]}),m&&!y&&x.jsx(Tp,{blocks:u.children,activeBlockId:t,collapsedMap:n,onToggleLoop:r,durationsMap:i,remainingMs:l,depth:c+1})]},u.id)})}),hx=({timer:e,isVisible:t,onClose:n,onPlay:r,onPause:i,onRestart:l,onLog:c,isRunning:u,activeBlockId:f,remainingMs:m,elapsedMs:y,hasStarted:a=!1,logs:d=[]})=>{var Ee;const[g,_]=ct.useState({}),[T,j]=ct.useState(!1),[k,z]=ct.useState({});ct.useEffect(()=>{let fe=!1;return(async()=>{const U=kp(e.blocks),ue=await Promise.all(U.map(se=>new Promise(be=>{const Re=dx(se),we=new mo.Howl({src:[Re],html5:!0,onload:()=>{be({id:se.id,duration:we.duration()}),we.unload()},onloaderror:()=>{be({id:se.id,duration:void 0}),we.unload()}})})));if(fe)return;const Z={};ue.forEach(se=>{se.duration&&!Number.isNaN(se.duration)&&(Z[se.id]=se.duration)}),z(Z)})(),()=>{fe=!0}},[e.blocks]),ct.useEffect(()=>{j(!1),_({})},[e.id]);const F=fe=>{_(Se=>({...Se,[fe]:!(Se[fe]??!0)}))},G=e.mode==="simpleStopwatch",X=!G,J=t,W=X?e.blocks.length>0:!1,V=G||W,ne=G||W,le=G?"Start":"Play",ve=u?"Pause":a||G&&y&&y>0?"Resume":le,Pe=u?i:r,Ae=u?!1:!V,ye=(Ee=e.logs)!=null&&Ee.length?e.logs:d,Ie=!G&&!a&&m===null?ux(e.blocks):m,ot=G?al(y??0):Bi(Ie??0)??"--:--";return t?x.jsx("div",{className:"w-full max-w-4xl mb-4 animate-slide-down-soft",children:x.jsxs("div",{className:"play-panel",children:[x.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[x.jsxs("div",{className:"flex flex-col",children:[x.jsx("span",{className:"panel-label",children:"Play Menu"}),x.jsx("span",{className:"panel-title",children:J?e.name||"Selected Timer":"No timer selected"})]}),x.jsx("button",{type:"button",onClick:n,className:"soft-button-ghost text-xs px-3 py-1",children:"Close"})]}),x.jsx("div",{className:"digital-bar",children:x.jsx("span",{className:"digital-time",children:ot})}),x.jsxs("div",{className:"flex flex-wrap items-center gap-3 justify-center",children:[x.jsx("button",{type:"button",onClick:Pe,className:"soft-button bg-accent-100 text-accent-500 hover:bg-accent-200 min-w-[110px]",disabled:Ae,children:ve}),G?x.jsxs(x.Fragment,{children:[x.jsx("button",{type:"button",onClick:c,className:"soft-button bg-accent-100 text-accent-500 hover:bg-accent-200 min-w-[110px]",disabled:!c,children:"Mark"}),x.jsx("button",{type:"button",onClick:l,className:"soft-button bg-accent-100 text-accent-500 hover:bg-accent-200 min-w-[110px]",children:"Restart"})]}):x.jsx("button",{type:"button",onClick:l,className:"soft-button bg-accent-100 text-accent-500 hover:bg-accent-200 min-w-[110px]",disabled:!ne,children:"Restart"})]}),x.jsx("div",{className:"mt-1 pr-1",children:J?G?x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[T?x.jsx("span",{className:"text-xs text-accent-400",children:"Logs"}):x.jsx("span",{className:"text-xs text-accent-400",children:"Logs are hidden. Click Show to view them."}),x.jsx("button",{type:"button",onClick:()=>j(fe=>!fe),className:"text-[11px] uppercase tracking-wide text-accent-500 hover:text-accent-600",children:T?"Hide logs":"Show logs"})]}),T?ye.length?x.jsx("div",{className:"flex flex-col gap-2 max-h-64 overflow-y-auto pr-1",children:[...ye].slice().reverse().map(fe=>{var Se;return x.jsxs("div",{className:"pastel-card flex items-center justify-between rounded-xl px-3 py-2 text-xs text-accent-500",children:[x.jsx("span",{className:"text-[11px] tracking-wide text-accent-300",children:(Se=fe.name)!=null&&Se.trim()?fe.name:px(fe.loggedAt)}),x.jsx("span",{className:"font-mono text-sm text-accent-600",children:al(fe.elapsedMs)})]},`${fe.loggedAt}-${fe.elapsedMs}`)})}):x.jsx("p",{className:"text-xs text-accent-400",children:"No logs yet. Press Mark to log elapsed time."}):null]}):X?x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[T?x.jsx("span",{className:"text-xs text-accent-400",children:"Blocks"}):x.jsx("span",{className:"text-xs text-accent-400",children:"Blocks are hidden. Click Show to view the sequence."}),x.jsx("button",{type:"button",onClick:()=>j(fe=>!fe),className:"text-[11px] uppercase tracking-wide text-accent-500 hover:text-accent-600",children:T?"Hide blocks":"Show blocks"})]}),T?W?x.jsx(Tp,{blocks:e.blocks,activeBlockId:f,collapsedMap:g,onToggleLoop:F,durationsMap:k,remainingMs:m}):x.jsx("p",{className:"text-xs text-accent-400",children:"No blocks yet. Edit it to add blocks."}):null]}):null:x.jsx("p",{className:"text-xs text-accent-400",children:"No timer selected. Choose a timer to play."})})]})}):null};var Sp=Symbol.for("immer-nothing"),sl=Symbol.for("immer-draftable"),Mt=Symbol.for("immer-state");function Wt(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ur=Object.getPrototypeOf;function hr(e){return!!e&&!!e[Mt]}function Bn(e){var t;return e?Ap(e)||Array.isArray(e)||!!e[sl]||!!((t=e.constructor)!=null&&t[sl])||ti(e)||go(e):!1}var mx=Object.prototype.constructor.toString(),cl=new WeakMap;function Ap(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=cl.get(n);return r===void 0&&(r=Function.toString.call(n),cl.set(n,r)),r===mx}function Xi(e,t,n=!0){vo(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function vo(e){const t=e[Mt];return t?t.type_:Array.isArray(e)?1:ti(e)?2:go(e)?3:0}function ja(e,t){return vo(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function jp(e,t,n){const r=vo(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function vx(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ti(e){return e instanceof Map}function go(e){return e instanceof Set}function On(e){return e.copy_||e.base_}function Pa(e,t){if(ti(e))return new Map(e);if(go(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Ap(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Mt];let i=Reflect.ownKeys(r);for(let l=0;l<i.length;l++){const c=i[l],u=r[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[c]})}return Object.create(Ur(e),r)}else{const r=Ur(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Kr(e,t=!1){return yo(e)||hr(e)||!Bn(e)||(vo(e)>1&&Object.defineProperties(e,{set:Mi,add:Mi,clear:Mi,delete:Mi}),Object.freeze(e),t&&Object.values(e).forEach(n=>Kr(n,!0))),e}function gx(){Wt(2)}var Mi={value:gx};function yo(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var yx={};function Vn(e){const t=yx[e];return t||Wt(0,e),t}var Zr;function Pp(){return Zr}function xx(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ll(e,t){t&&(Vn("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ca(e){Da(e),e.drafts_.forEach(bx),e.drafts_=null}function Da(e){e===Zr&&(Zr=e.parent_)}function ul(e){return Zr=xx(Zr,e)}function bx(e){const t=e[Mt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function pl(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Mt].modified_&&(Ca(t),Wt(4)),Bn(e)&&(e=Qi(t,e),t.parent_||Ji(t,e)),t.patches_&&Vn("Patches").generateReplacementPatches_(n[Mt].base_,e,t.patches_,t.inversePatches_)):e=Qi(t,n,[]),Ca(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Sp?e:void 0}function Qi(e,t,n){if(yo(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Mt];if(!i)return Xi(t,(l,c)=>dl(e,i,t,l,c,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return Ji(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const l=i.copy_;let c=l,u=!1;i.type_===3&&(c=new Set(l),l.clear(),u=!0),Xi(c,(f,m)=>dl(e,i,l,f,m,n,u),r),Ji(e,l,!1),n&&e.patches_&&Vn("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function dl(e,t,n,r,i,l,c){if(i==null||typeof i!="object"&&!c)return;const u=yo(i);if(!(u&&!c)){if(hr(i)){const f=l&&t&&t.type_!==3&&!ja(t.assigned_,r)?l.concat(r):void 0,m=Qi(e,i,f);if(jp(n,r,m),hr(m))e.canAutoFreeze_=!1;else return}else c&&n.add(i);if(Bn(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&u)return;Qi(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(ti(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Ji(e,i)}}}function Ji(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Kr(t,n)}function _x(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Pp(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,l=vs;n&&(i=[r],l=qr);const{revoke:c,proxy:u}=Proxy.revocable(i,l);return r.draft_=u,r.revoke_=c,u}var vs={get(e,t){if(t===Mt)return e;const n=On(e);if(!ja(n,t))return wx(e,n,t);const r=n[t];return e.finalized_||!Bn(r)?r:r===ta(e.base_,t)?(na(e),e.copy_[t]=Oa(r,e)):r},has(e,t){return t in On(e)},ownKeys(e){return Reflect.ownKeys(On(e))},set(e,t,n){const r=Cp(On(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=ta(On(e),t),l=i==null?void 0:i[Mt];if(l&&l.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(vx(n,i)&&(n!==void 0||ja(e.base_,t)))return!0;na(e),Ea(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ta(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,na(e),Ea(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=On(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Wt(11)},getPrototypeOf(e){return Ur(e.base_)},setPrototypeOf(){Wt(12)}},qr={};Xi(vs,(e,t)=>{qr[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});qr.deleteProperty=function(e,t){return qr.set.call(this,e,t,void 0)};qr.set=function(e,t,n){return vs.set.call(this,e[0],t,n,e[0])};function ta(e,t){const n=e[Mt];return(n?On(n):e)[t]}function wx(e,t,n){var i;const r=Cp(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function Cp(e,t){if(!(t in e))return;let n=Ur(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Ur(n)}}function Ea(e){e.modified_||(e.modified_=!0,e.parent_&&Ea(e.parent_))}function na(e){e.copy_||(e.copy_=Pa(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var kx=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const l=n;n=t;const c=this;return function(f=l,...m){return c.produce(f,y=>n.call(this,y,...m))}}typeof n!="function"&&Wt(6),r!==void 0&&typeof r!="function"&&Wt(7);let i;if(Bn(t)){const l=ul(this),c=Oa(t,void 0);let u=!0;try{i=n(c),u=!1}finally{u?Ca(l):Da(l)}return ll(l,r),pl(i,l)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===Sp&&(i=void 0),this.autoFreeze_&&Kr(i,!0),r){const l=[],c=[];Vn("Patches").generateReplacementPatches_(t,i,l,c),r(l,c)}return i}else Wt(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(c,...u)=>this.produceWithPatches(c,f=>t(f,...u));let r,i;return[this.produce(t,n,(c,u)=>{r=c,i=u}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Bn(e)||Wt(8),hr(e)&&(e=Tx(e));const t=ul(this),n=Oa(e,void 0);return n[Mt].isManual_=!0,Da(t),n}finishDraft(e,t){const n=e&&e[Mt];(!n||!n.isManual_)&&Wt(9);const{scope_:r}=n;return ll(r,t),pl(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Vn("Patches").applyPatches_;return hr(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Oa(e,t){const n=ti(e)?Vn("MapSet").proxyMap_(e,t):go(e)?Vn("MapSet").proxySet_(e,t):_x(e,t);return(t?t.scope_:Pp()).drafts_.push(n),n}function Tx(e){return hr(e)||Wt(10,e),Dp(e)}function Dp(e){if(!Bn(e)||yo(e))return e;const t=e[Mt];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Pa(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Pa(e,!0);return Xi(n,(i,l)=>{jp(n,i,Dp(l))},r),t&&(t.finalized_=!1),n}var Sx=new kx,Ax=Sx.produce;function jx(e){var t=L.useState(function(){return Kr(typeof e=="function"?e():e,!0)}),n=t[1];return[t[0],L.useCallback(function(r){n(typeof r=="function"?Ax(r):Kr(r))},[])]}const vn=(e,t)=>`drop:${e}:${t}`,xo=e=>e.type==="loop"?{...e,children:e.children.map(xo)}:{...e},Ep=e=>e.map(xo),Px=e=>{const[t,n,r]=e.split(":");return t!=="drop"||!n||!r?null:n==="root"?r==="empty"?{kind:"root-empty"}:r==="prepend"||r==="append"?{kind:"root",position:r}:null:r==="before"||r==="after"||r==="inside"?{kind:"block",targetId:n,position:r}:null},fl=e=>{switch(e){case"wait":return{id:Nt(),type:"wait",amount:5,unit:"seconds"};case"waitUntil":return{id:Nt(),type:"waitUntil",time:"07:00",ampm:"AM"};case"playSound":return{id:Nt(),type:"playSound",soundType:"default",label:"Beep"};case"playSoundUntil":return{id:Nt(),type:"playSoundUntil",soundType:"default",label:"Beep"};case"notify":return{id:Nt(),type:"notify",title:"Reminder",body:"Your timer is running."};case"notifyUntil":return{id:Nt(),type:"notifyUntil",title:"Reminder",body:"Your timer is running.",label:"Beep",timeoutMs:1e4,soundType:"default",interval:.2};case"loop":default:return{id:Nt(),type:"loop",repeat:2,children:[]}}},Op=(e,t)=>{const n=[];for(const r of e)r.id!==t&&(r.type==="loop"?n.push({...r,children:Op(r.children,t)}):n.push(r));return n},eo=(e,t)=>{for(const n of e){if(n.id===t)return n;if(n.type==="loop"){const r=eo(n.children,t);if(r)return r}}return null},gs=(e,t)=>{let n=null;const r=[];for(const i of e){if(i.id===t){n=i;continue}if(i.type==="loop"){const l=gs(i.children,t);l.found&&!n&&(n=l.found),r.push({...i,children:l.without})}else r.push(i)}return{found:n,without:r}},Np=(e,t)=>{if(e.type!=="loop")return!1;for(const n of e.children)if(n.id===t||n.type==="loop"&&Np(n,t))return!0;return!1},ys=(e,t,n,r)=>{const i=[];for(const l of e)l.id===t?r==="before"?i.push(n,l):r==="after"?i.push(l,n):r==="inside"&&l.type==="loop"?i.push({...l,children:[...l.children,n]}):i.push(l):l.type==="loop"?i.push({...l,children:ys(l.children,t,n,r)}):i.push(l);return i},Cx=(e,t,n,r)=>{if(t===n||!eo(e,n))return e;const{found:l,without:c}=gs(e,t);return!l||l.type==="loop"&&Np(l,n)?e:ys(c,n,xo(l),r)},Dx=(e,t,n)=>{const r=Ep(e);return n.kind==="root-empty"?[...r,t]:n.kind==="root"?n.position==="prepend"?[t,...r]:[...r,t]:n.kind==="block"?ys(r,n.targetId,t,n.position):r},Ex=(e,t,n)=>{const r=Ep(e);if(n.kind==="block")return Cx(r,t,n.targetId,n.position);const{found:i,without:l}=gs(r,t);if(!i)return r;const c=xo(i);return n.kind==="root-empty"?[...l,c]:n.kind==="root"?n.position==="prepend"?[c,...l]:[...l,c]:r},gn=e=>{switch(e){case"wait":return"Wait";case"waitUntil":return"Wait Until";case"playSound":return"Play Sound";case"playSoundUntil":return"Play Sound Until";case"notify":return"Notify";case"notifyUntil":return"Notify Until";case"loop":return"Loop";default:return"Block"}},hl=({id:e,className:t="",activeClassName:n,children:r})=>{const{isOver:i,setNodeRef:l}=Lu({id:e}),c=`${t} ${i&&n?n:""}`.trim();return x.jsx("div",{ref:l,className:c,style:{touchAction:"none"},children:typeof r=="function"?r(i):r})},Ox=()=>x.jsx("div",{className:"drop-line"}),tr=({id:e})=>{const{isOver:t,setNodeRef:n}=Lu({id:e}),r=t;return x.jsxs("div",{className:`relative w-full pointer-events-none ${r?"h-12":"h-0"}`,children:[x.jsx("div",{ref:n,className:"absolute left-0 right-0 top-0 -translate-y-1/2 h-20 z-10 pointer-events-auto",style:{touchAction:"none"}}),r?x.jsx(Ox,{}):null]})},Nx=({id:e,data:t,children:n})=>{const{attributes:r,listeners:i,setNodeRef:l,transform:c,isDragging:u}=$u({id:e,data:t}),f=a=>{const d=a.target;return d?!!d.closest("button, [data-no-drag]"):!1},m=Object.fromEntries(Object.entries(i||{}).map(([a,d])=>[a,g=>{if(!f(g))return d(g)}])),y={transform:c?nh.Translate.toString({x:0,y:c.y,scaleX:1,scaleY:1}):void 0,touchAction:"none"};return x.jsx(x.Fragment,{children:n({setNodeRef:l,attributes:r,listeners:m,style:y,isDragging:u})})},Mx=({blockType:e,label:t,desc:n})=>{const{setNodeRef:r,attributes:i,listeners:l,isDragging:c}=$u({id:`palette:${e}`,data:{kind:"palette",blockType:e}});return x.jsxs("div",{ref:r,...i,...l,className:`palette-draggable pastel-card pastel-hover p-3 cursor-grab select-none transition-opacity ${c?"opacity-75":""}`,children:[x.jsx("div",{className:"text-sm font-semibold text-accent-600 break-words",children:t}),x.jsx("div",{className:"text-xs text-accent-400 break-words",children:n})]})},Ix=({block:e})=>x.jsx("div",{className:"pastel-card pastel-hover p-3 min-w-[180px] pointer-events-none select-none",children:x.jsx("span",{className:"text-xs text-accent-400",children:gn(e.type)})}),Rx=({block:e,renderContent:t,width:n})=>x.jsx(th,{dropAnimation:null,children:e?x.jsx("div",{style:{width:n?`${n}px`:"200px",pointerEvents:"none"},children:t?t(e):x.jsx(Ix,{block:e})}):null}),zx=[{value:"seconds",label:"Seconds"},{value:"minutes",label:"Minutes"},{value:"hours",label:"Hours"},{value:"days",label:"Days"}];var Mp={exports:{}},Fx="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$x=Fx,Lx=$x;function Ip(){}function Rp(){}Rp.resetWarningCache=Ip;var Bx=function(){function e(r,i,l,c,u,f){if(f!==Lx){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Rp,resetWarningCache:Ip};return n.PropTypes=n,n};Mp.exports=Bx();var Vx=Mp.exports;const Ue=lo(Vx);function Hn(e,t,n,r){function i(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function u(y){try{m(r.next(y))}catch(a){c(a)}}function f(y){try{m(r.throw(y))}catch(a){c(a)}}function m(y){y.done?l(y.value):i(y.value).then(u,f)}m((r=r.apply(e,t||[])).next())})}const Ux=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function mr(e,t,n){const r=Kx(e),{webkitRelativePath:i}=e,l=typeof t=="string"?t:typeof i=="string"&&i.length>0?i:`./${e.name}`;return typeof r.path!="string"&&ml(r,"path",l),ml(r,"relativePath",l),r}function Kx(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const r=t.split(".").pop().toLowerCase(),i=Ux.get(r);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}function ml(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const Zx=[".DS_Store","Thumbs.db"];function qx(e){return Hn(this,void 0,void 0,function*(){return to(e)&&Wx(e.dataTransfer)?Xx(e.dataTransfer,e.type):Hx(e)?Gx(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?Yx(e):[]})}function Wx(e){return to(e)}function Hx(e){return to(e)&&to(e.target)}function to(e){return typeof e=="object"&&e!==null}function Gx(e){return Na(e.target.files).map(t=>mr(t))}function Yx(e){return Hn(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>mr(n))})}function Xx(e,t){return Hn(this,void 0,void 0,function*(){if(e.items){const n=Na(e.items).filter(i=>i.kind==="file");if(t!=="drop")return n;const r=yield Promise.all(n.map(Qx));return vl(zp(r))}return vl(Na(e.files).map(n=>mr(n)))})}function vl(e){return e.filter(t=>Zx.indexOf(t.name)===-1)}function Na(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r)}return t}function Qx(e){if(typeof e.webkitGetAsEntry!="function")return gl(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?Fp(t):gl(e,t)}function zp(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?zp(n):[n]],[])}function gl(e,t){return Hn(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const l=yield e.getAsFileSystemHandle();if(l===null)throw new Error(`${e} is not a File`);if(l!==void 0){const c=yield l.getFile();return c.handle=l,mr(c)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return mr(r,(n=t==null?void 0:t.fullPath)!==null&&n!==void 0?n:void 0)})}function Jx(e){return Hn(this,void 0,void 0,function*(){return e.isDirectory?Fp(e):eb(e)})}function Fp(e){const t=e.createReader();return new Promise((n,r)=>{const i=[];function l(){t.readEntries(c=>Hn(this,void 0,void 0,function*(){if(c.length){const u=Promise.all(c.map(Jx));i.push(u),l()}else try{const u=yield Promise.all(i);n(u)}catch(u){r(u)}}),c=>{r(c)})}l()})}function eb(e){return Hn(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(r=>{const i=mr(r,e.fullPath);t(i)},r=>{n(r)})})})}var ra=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var r=e.name||"",i=(e.type||"").toLowerCase(),l=i.replace(/\/.*$/,"");return n.some(function(c){var u=c.trim().toLowerCase();return u.charAt(0)==="."?r.toLowerCase().endsWith(u):u.endsWith("/*")?l===u.replace(/\/.*$/,""):i===u})}return!0};function yl(e){return rb(e)||nb(e)||Lp(e)||tb()}function tb(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nb(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rb(e){if(Array.isArray(e))return Ma(e)}function xl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xl(Object(n),!0).forEach(function(r){$p(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wr(e,t){return ab(e)||ob(e,t)||Lp(e,t)||ib()}function ib(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lp(e,t){if(e){if(typeof e=="string")return Ma(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ma(e,t)}}function Ma(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ob(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,l=!1,c,u;try{for(n=n.call(e);!(i=(c=n.next()).done)&&(r.push(c.value),!(t&&r.length===t));i=!0);}catch(f){l=!0,u=f}finally{try{!i&&n.return!=null&&n.return()}finally{if(l)throw u}}return r}}function ab(e){if(Array.isArray(e))return e}var sb=typeof ra=="function"?ra:ra.default,cb="file-invalid-type",lb="file-too-large",ub="file-too-small",pb="too-many-files",db=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:cb,message:"File type must be ".concat(r)}},_l=function(t){return{code:lb,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},wl=function(t){return{code:ub,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},fb={code:pb,message:"Too many files"};function Bp(e,t){var n=e.type==="application/x-moz-file"||sb(e,t);return[n,n?null:db(t)]}function Vp(e,t,n){if(Mn(e.size))if(Mn(t)&&Mn(n)){if(e.size>n)return[!1,_l(n)];if(e.size<t)return[!1,wl(t)]}else{if(Mn(t)&&e.size<t)return[!1,wl(t)];if(Mn(n)&&e.size>n)return[!1,_l(n)]}return[!0,null]}function Mn(e){return e!=null}function hb(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,l=e.multiple,c=e.maxFiles,u=e.validator;return!l&&t.length>1||l&&c>=1&&t.length>c?!1:t.every(function(f){var m=Bp(f,n),y=Wr(m,1),a=y[0],d=Vp(f,r,i),g=Wr(d,1),_=g[0],T=u?u(f):null;return a&&_&&!T})}function no(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Ii(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function kl(e){e.preventDefault()}function mb(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function vb(e){return e.indexOf("Edge/")!==-1}function gb(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return mb(e)||vb(e)}function en(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var i=arguments.length,l=new Array(i>1?i-1:0),c=1;c<i;c++)l[c-1]=arguments[c];return t.some(function(u){return!no(r)&&u&&u.apply(void 0,[r].concat(l)),no(r)})}}function yb(){return"showOpenFilePicker"in window}function xb(e){if(Mn(e)){var t=Object.entries(e).filter(function(n){var r=Wr(n,2),i=r[0],l=r[1],c=!0;return Up(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),c=!1),(!Array.isArray(l)||!l.every(Kp))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),c=!1),c}).reduce(function(n,r){var i=Wr(r,2),l=i[0],c=i[1];return bl(bl({},n),{},$p({},l,c))},{});return[{description:"Files",accept:t}]}return e}function bb(e){if(Mn(e))return Object.entries(e).reduce(function(t,n){var r=Wr(n,2),i=r[0],l=r[1];return[].concat(yl(t),[i],yl(l))},[]).filter(function(t){return Up(t)||Kp(t)}).join(",")}function _b(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function wb(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function Up(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function Kp(e){return/^.*\.[\w]+$/.test(e)}var kb=["children"],Tb=["open"],Sb=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Ab=["refKey","onChange","onClick"];function jb(e){return Db(e)||Cb(e)||Zp(e)||Pb()}function Pb(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cb(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Db(e){if(Array.isArray(e))return Ia(e)}function ia(e,t){return Nb(e)||Ob(e,t)||Zp(e,t)||Eb()}function Eb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zp(e,t){if(e){if(typeof e=="string")return Ia(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ia(e,t)}}function Ia(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ob(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,l=!1,c,u;try{for(n=n.call(e);!(i=(c=n.next()).done)&&(r.push(c.value),!(t&&r.length===t));i=!0);}catch(f){l=!0,u=f}finally{try{!i&&n.return!=null&&n.return()}finally{if(l)throw u}}return r}}function Nb(e){if(Array.isArray(e))return e}function Tl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tl(Object(n),!0).forEach(function(r){Ra(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ra(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ro(e,t){if(e==null)return{};var n=Mb(e,t),r,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)r=l[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Mb(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,l;for(l=0;l<r.length;l++)i=r[l],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var xs=L.forwardRef(function(e,t){var n=e.children,r=ro(e,kb),i=Wp(r),l=i.open,c=ro(i,Tb);return L.useImperativeHandle(t,function(){return{open:l}},[l]),ct.createElement(L.Fragment,null,n(Ge(Ge({},c),{},{open:l})))});xs.displayName="Dropzone";var qp={disabled:!1,getFilesFromEvent:qx,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};xs.defaultProps=qp;xs.propTypes={children:Ue.func,accept:Ue.objectOf(Ue.arrayOf(Ue.string)),multiple:Ue.bool,preventDropOnDocument:Ue.bool,noClick:Ue.bool,noKeyboard:Ue.bool,noDrag:Ue.bool,noDragEventsBubbling:Ue.bool,minSize:Ue.number,maxSize:Ue.number,maxFiles:Ue.number,disabled:Ue.bool,getFilesFromEvent:Ue.func,onFileDialogCancel:Ue.func,onFileDialogOpen:Ue.func,useFsAccessApi:Ue.bool,autoFocus:Ue.bool,onDragEnter:Ue.func,onDragLeave:Ue.func,onDragOver:Ue.func,onDrop:Ue.func,onDropAccepted:Ue.func,onDropRejected:Ue.func,onError:Ue.func,validator:Ue.func};var za={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Wp(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Ge(Ge({},qp),e),n=t.accept,r=t.disabled,i=t.getFilesFromEvent,l=t.maxSize,c=t.minSize,u=t.multiple,f=t.maxFiles,m=t.onDragEnter,y=t.onDragLeave,a=t.onDragOver,d=t.onDrop,g=t.onDropAccepted,_=t.onDropRejected,T=t.onFileDialogCancel,j=t.onFileDialogOpen,k=t.useFsAccessApi,z=t.autoFocus,F=t.preventDropOnDocument,G=t.noClick,X=t.noKeyboard,J=t.noDrag,W=t.noDragEventsBubbling,V=t.onError,ne=t.validator,le=L.useMemo(function(){return bb(n)},[n]),ve=L.useMemo(function(){return xb(n)},[n]),Pe=L.useMemo(function(){return typeof j=="function"?j:Sl},[j]),Ae=L.useMemo(function(){return typeof T=="function"?T:Sl},[T]),ye=L.useRef(null),Ie=L.useRef(null),ot=L.useReducer(Ib,za),Ee=ia(ot,2),fe=Ee[0],Se=Ee[1],U=fe.isFocused,ue=fe.isFileDialogActive,Z=L.useRef(typeof window<"u"&&window.isSecureContext&&k&&yb()),se=function(){!Z.current&&ue&&setTimeout(function(){if(Ie.current){var he=Ie.current.files;he.length||(Se({type:"closeDialog"}),Ae())}},300)};L.useEffect(function(){return window.addEventListener("focus",se,!1),function(){window.removeEventListener("focus",se,!1)}},[Ie,ue,Ae,Z]);var be=L.useRef([]),Re=function(he){ye.current&&ye.current.contains(he.target)||(he.preventDefault(),be.current=[])};L.useEffect(function(){return F&&(document.addEventListener("dragover",kl,!1),document.addEventListener("drop",Re,!1)),function(){F&&(document.removeEventListener("dragover",kl),document.removeEventListener("drop",Re))}},[ye,F]),L.useEffect(function(){return!r&&z&&ye.current&&ye.current.focus(),function(){}},[ye,z,r]);var we=L.useCallback(function(ce){V?V(ce):console.error(ce)},[V]),Oe=L.useCallback(function(ce){ce.preventDefault(),ce.persist(),It(ce),be.current=[].concat(jb(be.current),[ce.target]),Ii(ce)&&Promise.resolve(i(ce)).then(function(he){if(!(no(ce)&&!W)){var Be=he.length,Ve=Be>0&&hb({files:he,accept:le,minSize:c,maxSize:l,multiple:u,maxFiles:f,validator:ne}),st=Be>0&&!Ve;Se({isDragAccept:Ve,isDragReject:st,isDragActive:!0,type:"setDraggedFiles"}),m&&m(ce)}}).catch(function(he){return we(he)})},[i,m,we,W,le,c,l,u,f,ne]),vt=L.useCallback(function(ce){ce.preventDefault(),ce.persist(),It(ce);var he=Ii(ce);if(he&&ce.dataTransfer)try{ce.dataTransfer.dropEffect="copy"}catch{}return he&&a&&a(ce),!1},[a,W]),de=L.useCallback(function(ce){ce.preventDefault(),ce.persist(),It(ce);var he=be.current.filter(function(Ve){return ye.current&&ye.current.contains(Ve)}),Be=he.indexOf(ce.target);Be!==-1&&he.splice(Be,1),be.current=he,!(he.length>0)&&(Se({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Ii(ce)&&y&&y(ce))},[ye,y,W]),Kt=L.useCallback(function(ce,he){var Be=[],Ve=[];ce.forEach(function(st){var Ct=Bp(st,le),Rt=ia(Ct,2),Gt=Rt[0],Dt=Rt[1],Yt=Vp(st,c,l),Xt=ia(Yt,2),Y=Xt[0],H=Xt[1],xe=ne?ne(st):null;if(Gt&&Y&&!xe)Be.push(st);else{var Ne=[Dt,H];xe&&(Ne=Ne.concat(xe)),Ve.push({file:st,errors:Ne.filter(function(Je){return Je})})}}),(!u&&Be.length>1||u&&f>=1&&Be.length>f)&&(Be.forEach(function(st){Ve.push({file:st,errors:[fb]})}),Be.splice(0)),Se({acceptedFiles:Be,fileRejections:Ve,isDragReject:Ve.length>0,type:"setFiles"}),d&&d(Be,Ve,he),Ve.length>0&&_&&_(Ve,he),Be.length>0&&g&&g(Be,he)},[Se,u,le,c,l,f,d,g,_,ne]),Fe=L.useCallback(function(ce){ce.preventDefault(),ce.persist(),It(ce),be.current=[],Ii(ce)&&Promise.resolve(i(ce)).then(function(he){no(ce)&&!W||Kt(he,ce)}).catch(function(he){return we(he)}),Se({type:"reset"})},[i,Kt,we,W]),Ce=L.useCallback(function(){if(Z.current){Se({type:"openDialog"}),Pe();var ce={multiple:u,types:ve};window.showOpenFilePicker(ce).then(function(he){return i(he)}).then(function(he){Kt(he,null),Se({type:"closeDialog"})}).catch(function(he){_b(he)?(Ae(he),Se({type:"closeDialog"})):wb(he)?(Z.current=!1,Ie.current?(Ie.current.value=null,Ie.current.click()):we(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):we(he)});return}Ie.current&&(Se({type:"openDialog"}),Pe(),Ie.current.value=null,Ie.current.click())},[Se,Pe,Ae,k,Kt,we,ve,u]),pt=L.useCallback(function(ce){!ye.current||!ye.current.isEqualNode(ce.target)||(ce.key===" "||ce.key==="Enter"||ce.keyCode===32||ce.keyCode===13)&&(ce.preventDefault(),Ce())},[ye,Ce]),_e=L.useCallback(function(){Se({type:"focus"})},[]),He=L.useCallback(function(){Se({type:"blur"})},[]),gt=L.useCallback(function(){G||(gb()?setTimeout(Ce,0):Ce())},[G,Ce]),$e=function(he){return r?null:he},kt=function(he){return X?null:$e(he)},Zt=function(he){return J?null:$e(he)},It=function(he){W&&he.stopPropagation()},dt=L.useMemo(function(){return function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=ce.refKey,Be=he===void 0?"ref":he,Ve=ce.role,st=ce.onKeyDown,Ct=ce.onFocus,Rt=ce.onBlur,Gt=ce.onClick,Dt=ce.onDragEnter,Yt=ce.onDragOver,Xt=ce.onDragLeave,Y=ce.onDrop,H=ro(ce,Sb);return Ge(Ge(Ra({onKeyDown:kt(en(st,pt)),onFocus:kt(en(Ct,_e)),onBlur:kt(en(Rt,He)),onClick:$e(en(Gt,gt)),onDragEnter:Zt(en(Dt,Oe)),onDragOver:Zt(en(Yt,vt)),onDragLeave:Zt(en(Xt,de)),onDrop:Zt(en(Y,Fe)),role:typeof Ve=="string"&&Ve!==""?Ve:"presentation"},Be,ye),!r&&!X?{tabIndex:0}:{}),H)}},[ye,pt,_e,He,gt,Oe,vt,de,Fe,X,J,r]),Tn=L.useCallback(function(ce){ce.stopPropagation()},[]),Ht=L.useMemo(function(){return function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=ce.refKey,Be=he===void 0?"ref":he,Ve=ce.onChange,st=ce.onClick,Ct=ro(ce,Ab),Rt=Ra({accept:le,multiple:u,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:$e(en(Ve,Fe)),onClick:$e(en(st,Tn)),tabIndex:-1},Be,Ie);return Ge(Ge({},Rt),Ct)}},[Ie,n,u,Fe,r]);return Ge(Ge({},fe),{},{isFocused:U&&!r,getRootProps:dt,getInputProps:Ht,rootRef:ye,inputRef:Ie,open:$e(Ce)})}function Ib(e,t){switch(t.type){case"focus":return Ge(Ge({},e),{},{isFocused:!0});case"blur":return Ge(Ge({},e),{},{isFocused:!1});case"openDialog":return Ge(Ge({},za),{},{isFileDialogActive:!0});case"closeDialog":return Ge(Ge({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Ge(Ge({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Ge(Ge({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Ge({},za);default:return e}}function Sl(){}const bs=({onFile:e,className:t="",children:n,disabled:r=!1})=>{const i=L.useCallback(f=>{const m=f[0];m&&e(m)},[e]),{getRootProps:l,getInputProps:c,isDragActive:u}=Wp({multiple:!1,accept:{"audio/*":[]},onDropAccepted:i,disabled:r});return x.jsxs("div",{...l({className:`${t} ${u&&!r?"drag-hover":""}`.trim()}),children:[x.jsx("input",{...c()}),n]})},Al=({block:e,mutateBlock:t,draggingBlockId:n,showSoundControls:r=!1,showTimeoutControls:i=!1})=>{const l=m=>new Promise(y=>{const a=new FileReader;a.onload=()=>{y(typeof a.result=="string"?a.result:void 0)},a.onerror=()=>y(void 0),a.readAsDataURL(m)}),c=e,u=c.soundType==="custom"?"url":c.soundType??"default",f=async m=>{const y=await l(m);y&&t(e.id,a=>{a.customUrl=y,a.soundType="upload",a.label=m.name||a.label})};return x.jsxs(x.Fragment,{children:[x.jsx("input",{className:"soft-input",placeholder:"Notification title",value:c.title||"",onChange:m=>t(e.id,y=>{y.title=m.target.value.slice(0,100)})}),x.jsx("textarea",{className:"soft-input min-h-[70px] resize-none",placeholder:"Notification message",value:c.body||"",onChange:m=>t(e.id,y=>{y.body=m.target.value.slice(0,200)})}),r&&x.jsxs("div",{className:"grid grid-cols-[90px,1fr] gap-2 items-start min-w-0",children:[x.jsxs("div",{className:"flex flex-col items-center gap-1",children:[x.jsx("label",{className:"text-[11px] text-accent-400 text-center w-full",children:"Sound"}),x.jsxs("select",{className:"soft-input w-full",value:u,onChange:m=>{const y=m.target.value;t(e.id,a=>{a.soundType=y,y==="default"&&(a.customUrl="",a.label=a.label||"Beep")})},children:[x.jsx("option",{value:"default",children:"Default"}),x.jsx("option",{value:"url",children:"URL"}),x.jsx("option",{value:"upload",children:"Upload"})]})]}),x.jsxs("div",{className:"flex flex-col min-w-0",children:[x.jsx("div",{className:"h-5","aria-hidden":"true"}),x.jsxs("div",{className:"flex items-center min-w-0",children:[u==="default"&&x.jsx("select",{className:"soft-input w-full",value:c.label||"Beep",onChange:m=>t(e.id,y=>{y.label=m.target.value}),children:x.jsx("option",{value:"Beep",children:"Beep"})}),u==="url"&&x.jsx("input",{type:"text",className:"soft-input w-full",placeholder:"https://example.com/audio.mp3",value:c.customUrl||"",onChange:m=>t(e.id,y=>{y.customUrl=m.target.value})}),u==="upload"&&x.jsx(bs,{onFile:f,className:"soft-input w-full border-dashed cursor-pointer text-sm text-accent-500",disabled:!!n,children:x.jsxs("div",{className:"flex items-center justify-between gap-2",children:[x.jsx("span",{className:"text-xs text-accent-500 truncate",children:c.customUrl?c.label||"Audio file loaded":"Upload or drag a sound file"}),x.jsx("span",{className:"text-[11px] uppercase tracking-wide text-accent-400",children:"Choose File"})]})})]})]})]}),i&&x.jsxs("div",{className:"flex gap-2 flex-wrap",children:[x.jsxs("div",{className:"flex flex-col gap-1 items-center",children:[x.jsx("label",{className:"text-[11px] text-accent-400",children:"Timeout (s)"}),x.jsx("input",{type:"number",min:1,step:1,className:"soft-input max-w-[80px]",value:Math.round((c.timeoutMs??1e4)/1e3),onChange:m=>t(e.id,y=>{y.timeoutMs=Math.max(1e3,Number(m.target.value)||10)*1e3})})]}),x.jsxs("div",{className:"flex flex-col gap-1 items-center",children:[x.jsx("label",{className:"text-[11px] text-accent-400",children:"Interval (s)"}),x.jsx("input",{type:"number",min:.1,step:.1,className:"soft-input max-w-[70px]",value:c.interval??.5,onChange:m=>t(e.id,y=>{y.interval=Math.max(.1,Number(m.target.value)||.5)})})]})]})]})},Rb=({block:e,mutateBlock:t})=>x.jsxs("div",{className:"flex gap-2 items-center mt-2",children:[x.jsx("input",{type:"number",min:0,className:"soft-input max-w-[80px]",value:e.amount,onChange:n=>t(e.id,r=>{r.amount=Number(n.target.value)})}),x.jsx("select",{className:"soft-input",value:e.unit,onChange:n=>t(e.id,r=>{r.unit=n.target.value}),children:zx.map(({value:n,label:r})=>x.jsx("option",{value:n,children:r},n))})]}),zb=({block:e,mutateBlock:t})=>{const n=rr(e.time,"07:00"),[r,i]=n.split(":"),l=Array.from({length:12},(u,f)=>(f+1).toString()),c=Array.from({length:60},(u,f)=>f.toString().padStart(2,"0"));return x.jsxs("div",{className:"flex gap-2 items-center mt-2",children:[x.jsx("select",{className:"soft-input max-w-[90px]",value:r,onChange:u=>t(e.id,f=>{f.time=`${u.target.value}:${i}`}),children:l.map(u=>x.jsx("option",{value:u,children:u},u))}),x.jsx("span",{className:"text-accent-400",children:":"}),x.jsx("select",{className:"soft-input max-w-[90px]",value:i,onChange:u=>t(e.id,f=>{f.time=`${r}:${u.target.value}`}),children:c.map(u=>x.jsx("option",{value:u,children:u},u))}),x.jsxs("select",{className:"soft-input max-w-[70px]",value:e.ampm,onChange:u=>t(e.id,f=>{f.ampm=u.target.value}),children:[x.jsx("option",{children:"AM"}),x.jsx("option",{children:"PM"})]})]})},Fb=({block:e,mutateBlock:t,draggingBlockId:n})=>{const r=c=>new Promise(u=>{const f=new FileReader;f.onload=()=>{u(typeof f.result=="string"?f.result:void 0)},f.onerror=()=>u(void 0),f.readAsDataURL(c)}),i=e.soundType==="custom"?"url":e.soundType??"default",l=async c=>{const u=await r(c);u&&t(e.id,f=>{const m=f;m.customUrl=u,m.label=c.name||m.label,m.soundType="upload"})};return x.jsx("div",{className:"flex flex-col gap-2 mt-2",children:x.jsxs("div",{className:"flex gap-2 items-center min-w-0",children:[x.jsxs("select",{className:"soft-input max-w-[80px]",value:i,onChange:c=>t(e.id,u=>{u.soundType=c.target.value}),children:[x.jsx("option",{value:"default",children:"Default"}),x.jsx("option",{value:"url",children:"URL"}),x.jsx("option",{value:"upload",children:"Upload"})]}),i==="default"&&x.jsx("select",{className:"soft-input flex-1",value:e.label||"Beep",onChange:c=>t(e.id,u=>{u.label=c.target.value}),children:x.jsx("option",{value:"Beep",children:"Beep"})}),i==="url"&&x.jsx("input",{className:"soft-input flex-1",placeholder:"https://example.com/audio.mp3",value:e.customUrl||"",onChange:c=>t(e.id,u=>{u.customUrl=c.target.value})}),i==="upload"&&x.jsx(bs,{onFile:l,className:"soft-input flex-1 border-dashed cursor-pointer text-sm text-accent-500",disabled:!!n,children:x.jsxs("div",{className:"flex items-center justify-between gap-2",children:[x.jsx("span",{className:"text-xs text-accent-500 truncate",children:e.customUrl?e.label||"Audio file loaded":"Upload or drag a sound file"}),x.jsx("span",{className:"text-[11px] uppercase tracking-wide text-accent-400",children:"Choose File"})]})})]})})},$b=({block:e,mutateBlock:t,draggingBlockId:n})=>{const r=c=>new Promise(u=>{const f=new FileReader;f.onload=()=>{u(typeof f.result=="string"?f.result:void 0)},f.onerror=()=>u(void 0),f.readAsDataURL(c)}),i=e.soundType==="custom"?"url":e.soundType??"default",l=async c=>{const u=await r(c);u&&t(e.id,f=>{const m=f;m.customUrl=u,m.label=c.name||m.label,m.soundType="upload"})};return x.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[x.jsxs("div",{className:"flex gap-2 items-center min-w-0",children:[x.jsxs("select",{className:"soft-input max-w-[80px]",value:i,onChange:c=>t(e.id,u=>{u.soundType=c.target.value}),children:[x.jsx("option",{value:"default",children:"Default"}),x.jsx("option",{value:"url",children:"URL"}),x.jsx("option",{value:"upload",children:"Upload"})]}),i==="default"&&x.jsx("select",{className:"soft-input flex-1",value:e.label||"Beep",onChange:c=>t(e.id,u=>{u.label=c.target.value}),children:x.jsx("option",{value:"Beep",children:"Beep"})}),i==="url"&&x.jsx("input",{className:"soft-input flex-1",placeholder:"https://example.com/audio.mp3",value:e.customUrl||"",onChange:c=>t(e.id,u=>{u.customUrl=c.target.value})}),i==="upload"&&x.jsx(bs,{onFile:l,className:"soft-input flex-1 border-dashed cursor-pointer text-sm text-accent-500",disabled:!!n,children:x.jsxs("div",{className:"flex items-center justify-between gap-2",children:[x.jsx("span",{className:"text-xs text-accent-500 truncate",children:e.customUrl?e.label||"Audio file loaded":"Upload or drag a sound file"}),x.jsx("span",{className:"text-[11px] uppercase tracking-wide text-accent-400",children:"Choose File"})]})})]}),x.jsx("p",{className:"text-[11px] text-accent-400 mt-1",children:"Plays once and continues after the sound finishes."})]})},Ri=e=>({...e,mode:e.mode??"stopwatch"}),Lb=(e,t)=>JSON.stringify(e)===JSON.stringify(t),Bb=({timer:e,onBack:t,onSave:n,activeBlockId:r})=>{const[i,l]=jx(()=>Ri(e)),[c,u]=L.useState(!1),[f,m]=L.useState(null),[y,a]=L.useState(void 0),[d,g]=L.useState(null),[_,T]=L.useState(null),[j,k]=L.useState(!1),[z,F]=L.useState(!1),G=L.useRef(new Map),X=L.useRef(new Map),J=L.useRef(Ri(e)),W=rh(Nc(sh,{activationConstraint:{delay:120,tolerance:8}}),Nc(ah,{activationConstraint:{distance:4}}));L.useEffect(()=>{J.current=Ri(e)},[e]);const V=L.useMemo(()=>!Lb(Ri(i),J.current),[i]),ne=()=>{m(null),k(!1),a(void 0)},le=()=>{const Z=`${(i.name||"timer").replace(/[^a-z0-9]/gi,"-")||"timer"}.json`,se=JSON.stringify(i,null,2),be=new Blob([se],{type:"application/json"}),Re=URL.createObjectURL(be),we=document.createElement("a");we.href=Re,we.download=Z,we.click(),URL.revokeObjectURL(Re)},ve=Z=>{const se=Z.active.data.current;if(se)if(k(!0),T(se),se.kind==="existing"){const be=eo(i.blocks,se.blockId);be&&m(be);const Re=G.current.get(se.blockId);a(Re),g(se.blockId)}else m(fl(se.blockType)),a(void 0),g(null)},Pe=Z=>{var we;const se=_,be=(we=Z.over)==null?void 0:we.id,Re=typeof be=="string"?Px(be):null;if(se&&Re)if(se.kind==="palette"){const Oe=fl(se.blockType);l(vt=>{vt.blocks=Dx(vt.blocks,Oe,Re)})}else l(Oe=>{Oe.blocks=Ex(Oe.blocks,se.blockId,Re)});ne(),g(null),T(null)},Ae=()=>{ne(),g(null),T(null),k(!1)},ye=()=>{if(V){F(!0);return}t()},Ie=()=>{F(!1),t()},ot=()=>{F(!1)};L.useEffect(()=>{const Z=()=>{X.current.forEach((se,be)=>{G.current.set(be,se.getBoundingClientRect().width)})};return window.addEventListener("resize",Z),()=>window.removeEventListener("resize",Z)},[]);const Ee=L.useMemo(()=>[{blockType:"loop",label:gn("loop"),desc:"Repeat blocks"},{blockType:"wait",label:gn("wait"),desc:"Pause duration"},{blockType:"waitUntil",label:gn("waitUntil"),desc:"Pause until time"},{blockType:"playSound",label:gn("playSound"),desc:"Play audio"},{blockType:"playSoundUntil",label:gn("playSoundUntil"),desc:"Play audio and wait until it ends"},{blockType:"notify",label:gn("notify"),desc:"Show a notification"},{blockType:"notifyUntil",label:gn("notifyUntil"),desc:"Notify and loop sound until dismissed or timeout"}],[]),fe=L.useCallback((Z,se)=>{l(be=>{const Re=eo(be.blocks,Z);Re&&se(Re)})},[l]),Se=L.useCallback(Z=>{l(se=>{se.blocks=Op(se.blocks,Z)})},[l]),U=(Z,se=0,be=!1,Re=!1,we=!1,Oe=!1,vt=!1,de=!1)=>{const Kt=()=>{const _e=Z,He=d?_e.children.filter($e=>$e.id!==d):_e.children,gt=He.length===0;return Re?x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[x.jsx("span",{className:"text-xs text-accent-400",children:"Repeat"}),_e.repeat!==-1&&x.jsxs("span",{className:"text-xs text-accent-400",children:[_e.repeat," times"]}),_e.repeat===-1&&x.jsx("span",{className:"text-xs text-accent-400 ml-auto pr-2",children:"Forever"})]}),!gt&&x.jsx("div",{className:"flex flex-col",children:_e.children.map($e=>x.jsx(ct.Fragment,{children:U($e,se+1,!0,!0)},$e.id))}),gt&&x.jsx("div",{className:"rounded-xl bg-accent-50-70 p-3",children:x.jsx("p",{className:"text-[11px] text-accent-300 text-center select-none",children:"Drag blocks here to include them in this loop."})})]}):x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[x.jsx("span",{className:"text-xs text-accent-400",children:"Repeat"}),_e.repeat!==-1&&x.jsxs(x.Fragment,{children:[x.jsx("input",{type:"number",min:1,className:"soft-input max-w-[80px]",value:_e.repeat,onChange:$e=>fe(Z.id,kt=>{kt.repeat=Math.max(1,Number($e.target.value)||1)})}),x.jsx("span",{className:"text-xs text-accent-400",children:"times"})]}),x.jsxs("label",{className:"flex items-center gap-1 text-xs text-accent-400 ml-auto pr-2 select-none",children:[x.jsx("input",{type:"checkbox",checked:_e.repeat===-1,onChange:$e=>fe(Z.id,kt=>{kt.repeat=$e.target.checked?-1:Math.max(1,Number(kt.repeat)||1)}),className:"accent-accent-500 h-4 w-4"}),x.jsx("span",{children:"Forever"})]})]}),gt&&x.jsx(hl,{id:vn(_e.id,"inside"),className:"rounded-xl bg-accent-50-70 p-3 transition-all",activeClassName:"outline outline-2 outline-dashed outline-accent-200",children:()=>x.jsx("div",{className:"rounded-xl",children:x.jsx("p",{className:"text-[11px] text-accent-300 text-center select-none",children:"Drag blocks here to include them in this loop."})})}),!gt&&x.jsxs("div",{className:"flex flex-col",children:[He.length>0&&x.jsx(tr,{id:vn(He[0].id,"before")}),_e.children.map(($e,kt)=>{const Zt=He.findIndex(dt=>dt.id===$e.id),It=Zt===He.length-1;return x.jsxs(ct.Fragment,{children:[U($e,se+1,!0,!1),!It&&Zt!==-1&&x.jsx(tr,{id:vn($e.id,"after")})]},$e.id)}),x.jsx(tr,{id:vn(_e.id,"inside")})]})]})},Fe=Z.type==="wait"?"Wait":Z.type==="waitUntil"?"Wait Until":Z.type==="playSound"?"Play Sound":Z.type==="playSoundUntil"?"Play Sound Until":Z.type==="notify"?"Notify":Z.type==="notifyUntil"?"Notify Until":"Loop",Ce=r===Z.id,pt=_e=>{var He,gt;return x.jsxs("div",{ref:$e=>{_e!=null&&_e.setNodeRef&&(_e.setNodeRef($e),$e?(X.current.set(Z.id,$e),G.current.set(Z.id,$e.getBoundingClientRect().width)):(X.current.delete(Z.id),G.current.delete(Z.id)))},style:{..._e==null?void 0:_e.style,..._e!=null&&_e.isDragging?{display:"none"}:{opacity:((He=_e==null?void 0:_e.style)==null?void 0:He.opacity)??1,visibility:((gt=_e==null?void 0:_e.style)==null?void 0:gt.visibility)??"visible"}},className:`draggable-card pastel-card pastel-hover p-3 w-full relative z-20 ${Ce?"ring-2 ring-accent-300":""}`,..._e==null?void 0:_e.attributes,..._e==null?void 0:_e.listeners,children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("span",{className:"text-xs text-accent-400 flex items-center gap-2 cursor-grab select-none",children:Fe}),(!Re||Oe)&&x.jsx("button",{onClick:()=>Se(Z.id),className:"soft-button bg-accent-50-90 text-accent-400 hover:bg-accent-100 text-xs px-3 py-1",children:"Remove"})]}),Z.type==="wait"&&x.jsx(Rb,{block:Z,mutateBlock:fe}),Z.type==="waitUntil"&&x.jsx(zb,{block:Z,mutateBlock:fe}),Z.type==="loop"&&Kt(),Z.type==="playSound"&&x.jsx(Fb,{block:Z,mutateBlock:fe,draggingBlockId:d}),Z.type==="playSoundUntil"&&x.jsx($b,{block:Z,mutateBlock:fe,draggingBlockId:d}),Z.type==="notify"&&x.jsx("div",{className:"flex flex-col gap-2 mt-2",children:x.jsx(Al,{block:Z,mutateBlock:fe,draggingBlockId:d})}),Z.type==="notifyUntil"&&x.jsx("div",{className:"flex flex-col gap-2 mt-2",children:x.jsx(Al,{block:Z,mutateBlock:fe,draggingBlockId:d,showSoundControls:!0,showTimeoutControls:!0})})]})};return Re?x.jsx("div",{className:"relative min-w-0",children:pt()},Z.id):d===Z.id&&!de?null:vt?x.jsx("div",{className:"relative min-w-0",children:pt()},Z.id):x.jsxs("div",{className:"relative min-w-0",children:[x.jsx(Nx,{id:`block:${Z.id}`,data:{kind:"existing",blockId:Z.id},children:({setNodeRef:_e,attributes:He,listeners:gt,style:$e,isDragging:kt})=>pt({setNodeRef:_e,attributes:He,listeners:gt,style:$e,isDragging:kt})}),!be&&!we&&x.jsx(tr,{id:vn(Z.id,"after")})]},Z.id)},ue=d?i.blocks.filter(Z=>Z.id!==d):i.blocks;return x.jsx("div",{className:"app-shell",style:{touchAction:j?"none":"auto"},children:x.jsxs(ih,{sensors:W,collisionDetection:oh,onDragStart:ve,onDragEnd:Pe,onDragCancel:Ae,children:[x.jsxs("div",{className:"w-full max-w-4xl flex flex-col pastel-card pastel-hover p-6",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4 gap-3",children:[x.jsx("button",{onClick:ye,className:"soft-button-primary px-3 shrink-0",children:"â Back"}),x.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[x.jsxs("select",{className:"soft-input max-w-[140px] shrink-0",value:i.mode??"stopwatch",onChange:Z=>{const se=Z.target.value;l(be=>{const Re={...be,mode:se},we=be.mode??"stopwatch",Oe="New Timer",vt="New Timer";return!c&&be.name.trim().toLowerCase()===Oe.toLowerCase()?{...Re,name:vt}:Re})},children:[x.jsx("option",{value:"stopwatch",children:"Stopwatch"}),x.jsx("option",{value:"alarm",children:"Alarm"})]}),x.jsx("input",{className:"soft-input max-w-[250px] text-center min-w-0",value:i.name,onChange:Z=>{u(!0),l(se=>({...se,name:Z.target.value.slice(0,20)}))},onKeyDown:Z=>{Z.key==="Enter"&&(Z.preventDefault(),Z.currentTarget.blur())}}),x.jsx("button",{type:"button",onClick:le,className:"soft-button bg-accent-100 text-accent-500 hover:bg-accent-200 text-xs px-3 py-2 shrink-0","aria-label":"Export timer",title:"Export timer",children:"Export"})]}),x.jsx("button",{onClick:()=>n(i),className:"soft-button-primary shrink-0",children:"Save"})]}),x.jsxs("div",{className:"flex gap-4",children:[x.jsx("aside",{className:"palette-column flex flex-col gap-2 items-stretch",children:Ee.map(Z=>x.jsx(Mx,{...Z},Z.blockType))}),x.jsx("main",{className:"flex-1 rounded-xl border border-accent-100 bg-accent-50-70 p-3 min-h-[300px] flex flex-col",children:ue.length===0?x.jsx("div",{className:"relative flex-1 min-h-[320px]",children:x.jsx(hl,{id:vn("root","empty"),className:"absolute inset-0 rounded-lg flex items-center justify-center border border-dashed border-accent-100 bg-accent-50-90",activeClassName:"outline outline-2 outline-dashed outline-accent-200",children:()=>x.jsx("p",{className:"text-xs text-accent-400 text-center px-4 py-2 rounded-lg",children:"Drag blocks here to build your timer."})})}):x.jsxs("div",{className:"rounded-lg bg-accent-50-90 p-2 flex flex-col gap-0",children:[x.jsx(tr,{id:vn("root","prepend")}),ue.map((Z,se)=>x.jsx(ct.Fragment,{children:U(Z,0,!1,!1,se===ue.length-1)},Z.id)),x.jsx(tr,{id:vn("root","append")})]})})]})]}),x.jsx(Rx,{block:f,width:y,renderContent:Z=>U(Z,0,!1,!1,!1,!0,!0,!0)}),z&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 z-40 bg-slate-900/20 backdrop-blur-sm pointer-events-none"}),x.jsx("div",{className:"fixed inset-0 z-40 overflow-y-scroll",children:x.jsx("div",{className:"min-h-screen flex items-start justify-center px-4 py-6 sm:py-12",children:x.jsxs("div",{className:"pastel-card w-full max-w-sm shadow-accent-soft p-5",children:[x.jsxs("div",{className:"flex items-start justify-between gap-3 mb-4",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs uppercase tracking-wide text-accent-300",children:"Unsaved changes"}),x.jsx("p",{className:"text-base font-semibold text-accent-600",children:"Leave without saving?"})]}),x.jsx("button",{type:"button",onClick:ot,className:"soft-button bg-accent-50 hover:bg-accent-100 text-xs px-2 py-1",children:"â"})]}),x.jsx("p",{className:"text-sm text-accent-400 mb-5",children:"You have unsaved changes. Leaving now will discard them."}),x.jsxs("div",{className:"flex items-center justify-end gap-2",children:[x.jsx("button",{type:"button",onClick:ot,className:"soft-button bg-accent-50 hover:bg-accent-100 text-accent-500",children:"Cancel"}),x.jsx("button",{type:"button",onClick:Ie,className:"soft-button-primary",children:"Leave"})]})]})})})]})]})})};ei.extend(_p);const Vb=e=>{const t=ei.duration(e),n=Math.floor(t.asHours()),r=t.minutes(),i=t.seconds(),l=`${r.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`;return n>0?`${n.toString().padStart(2,"0")}:${l}`:l},Ub=e=>os(e,"MM/dd/yy hh:mm:ss a"),Kb=({timer:e,onBack:t,onSave:n})=>{const[r,i]=L.useState(e.name||"Stopwatch"),[l,c]=L.useState(e.logs??[]),[u,f]=L.useState(!1);L.useEffect(()=>{i(e.name||"Stopwatch"),c(e.logs??[])},[e]);const m=()=>{const T=`${(r||"stopwatch").replace(/[^a-z0-9]/gi,"-")||"stopwatch"}.json`,j=JSON.stringify({...e,name:r,logs:l},null,2),k=new Blob([j],{type:"application/json"}),z=URL.createObjectURL(k),F=document.createElement("a");F.href=z,F.download=T,F.click(),URL.revokeObjectURL(z)},y=L.useMemo(()=>r.trim()!==(e.name||"Stopwatch")||JSON.stringify(l)!==JSON.stringify(e.logs??[]),[r,l,e]),a=()=>{y?f(!0):t()},d=()=>{const T={...e,name:r.trim()||"Stopwatch",logs:l};n(T)},g=T=>{c(j=>j.filter(k=>k.id!==T))},_=(T,j)=>{c(k=>k.map(z=>z.id===T?{...z,name:j}:z))};return x.jsxs("div",{className:"app-shell",children:[x.jsxs("div",{className:"w-full max-w-4xl pastel-card p-6 shadow-accent-soft",children:[x.jsxs("div",{className:"flex items-start justify-between mb-4 gap-3",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs uppercase tracking-wide text-accent-300",children:"Stopwatch Editor"}),x.jsx("h2",{className:"text-xl font-semibold text-accent-600",children:e.name||"Stopwatch"})]}),x.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[x.jsx("button",{type:"button",onClick:m,className:"soft-button bg-accent-100 text-accent-500 hover:bg-accent-200 text-xs px-3 py-2 shrink-0","aria-label":"Export stopwatch",title:"Export stopwatch",children:"Export"}),x.jsx("button",{type:"button",onClick:a,className:"soft-button bg-accent-50 hover:bg-accent-100 text-accent-500",children:"Back"}),x.jsx("button",{type:"button",onClick:d,className:"soft-button-primary",children:"Save"})]})]}),x.jsxs("div",{className:"flex flex-col gap-4",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-[11px] uppercase tracking-wide text-accent-300 mb-1",children:"Stopwatch name"}),x.jsx("input",{type:"text",className:"soft-input",value:r,onChange:T=>i(T.target.value),placeholder:"Stopwatch name"})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("p",{className:"text-[11px] uppercase tracking-wide text-accent-300",children:"Logs"}),x.jsx("span",{className:"text-xs text-accent-400",children:l.length?`${l.length} log${l.length===1?"":"s"}`:"No logs yet"})]}),l.length===0?x.jsx("p",{className:"text-xs text-accent-400",children:"No logs yet. Press Mark in the play menu to add one."}):x.jsx("div",{className:"flex flex-col gap-3",children:l.slice().sort((T,j)=>j.loggedAt-T.loggedAt).map(T=>x.jsxs("div",{className:"pastel-card p-3 flex flex-col gap-2",children:[x.jsxs("div",{className:"flex items-center justify-between gap-2",children:[x.jsx("span",{className:"text-[11px] uppercase tracking-wide text-accent-300",children:Ub(T.loggedAt)}),x.jsx("button",{type:"button",onClick:()=>g(T.id),className:"soft-button bg-accent-100 text-accent-500 hover:bg-accent-200 text-xs px-3 py-1",children:"Delete"})]}),x.jsxs("div",{className:"flex items-center justify-between gap-2",children:[x.jsx("input",{type:"text",className:"soft-input",value:T.name,onChange:j=>_(T.id,j.target.value),placeholder:"Log name"}),x.jsx("span",{className:"font-mono text-sm text-accent-600 whitespace-nowrap",children:Vb(T.elapsedMs)})]})]},T.id))})]})]})]}),u&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 z-40 bg-slate-900/20 backdrop-blur-sm pointer-events-none"}),x.jsx("div",{className:"fixed inset-0 z-40 overflow-y-scroll",children:x.jsx("div",{className:"min-h-screen flex items-start justify-center px-4 py-6 sm:py-12",children:x.jsxs("div",{className:"pastel-card w-full max-w-sm shadow-accent-soft p-5",children:[x.jsxs("div",{className:"flex items-start justify-between gap-3 mb-4",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs uppercase tracking-wide text-accent-300",children:"Unsaved changes"}),x.jsx("p",{className:"text-base font-semibold text-accent-600",children:"Leave without saving?"})]}),x.jsx("button",{type:"button",onClick:()=>f(!1),className:"soft-button bg-accent-50 hover:bg-accent-100 text-xs px-2 py-1",children:"â"})]}),x.jsx("p",{className:"text-sm text-accent-400 mb-5",children:"You have unsaved changes. Leaving now will discard them."}),x.jsxs("div",{className:"flex items-center justify-end gap-2",children:[x.jsx("button",{type:"button",onClick:()=>f(!1),className:"soft-button bg-accent-50 hover:bg-accent-100 text-accent-500",children:"Cancel"}),x.jsx("button",{type:"button",onClick:t,className:"soft-button-primary",children:"Leave"})]})]})})})]})]})},Hp=L.createContext({});function Zb(e){const t=L.useRef(null);return t.current===null&&(t.current=e()),t.current}const _s=typeof window<"u",qb=_s?L.useLayoutEffect:L.useEffect,ws=L.createContext(null);function ks(e,t){e.indexOf(t)===-1&&e.push(t)}function Ts(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const an=(e,t,n)=>n>t?t:n<e?e:n;let Ss=()=>{};const sn={},Gp=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Yp(e){return typeof e=="object"&&e!==null}const Xp=e=>/^0[^.\s]+$/u.test(e);function As(e){let t;return()=>(t===void 0&&(t=e()),t)}const Vt=e=>e,Wb=(e,t)=>n=>t(e(n)),ni=(...e)=>e.reduce(Wb),Hr=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class js{constructor(){this.subscriptions=[]}add(t){return ks(this.subscriptions,t),()=>Ts(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let l=0;l<i;l++){const c=this.subscriptions[l];c&&c(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const tn=e=>e*1e3,Bt=e=>e/1e3;function Qp(e,t){return t?e*(1e3/t):0}const Jp=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Hb=1e-7,Gb=12;function Yb(e,t,n,r,i){let l,c,u=0;do c=t+(n-t)/2,l=Jp(c,r,i)-e,l>0?n=c:t=c;while(Math.abs(l)>Hb&&++u<Gb);return c}function ri(e,t,n,r){if(e===t&&n===r)return Vt;const i=l=>Yb(l,0,1,e,n);return l=>l===0||l===1?l:Jp(i(l),t,r)}const ed=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,td=e=>t=>1-e(1-t),nd=ri(.33,1.53,.69,.99),Ps=td(nd),rd=ed(Ps),id=e=>(e*=2)<1?.5*Ps(e):.5*(2-Math.pow(2,-10*(e-1))),Cs=e=>1-Math.sin(Math.acos(e)),od=td(Cs),ad=ed(Cs),Xb=ri(.42,0,1,1),Qb=ri(0,0,.58,1),sd=ri(.42,0,.58,1),Jb=e=>Array.isArray(e)&&typeof e[0]!="number",cd=e=>Array.isArray(e)&&typeof e[0]=="number",e0={linear:Vt,easeIn:Xb,easeInOut:sd,easeOut:Qb,circIn:Cs,circInOut:ad,circOut:od,backIn:Ps,backInOut:rd,backOut:nd,anticipate:id},t0=e=>typeof e=="string",jl=e=>{if(cd(e)){Ss(e.length===4);const[t,n,r,i]=e;return ri(t,n,r,i)}else if(t0(e))return e0[e];return e},zi=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function n0(e,t){let n=new Set,r=new Set,i=!1,l=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function f(y){c.has(y)&&(m.schedule(y),e()),y(u)}const m={schedule:(y,a=!1,d=!1)=>{const _=d&&i?n:r;return a&&c.add(y),_.has(y)||_.add(y),y},cancel:y=>{r.delete(y),c.delete(y)},process:y=>{if(u=y,i){l=!0;return}i=!0,[n,r]=[r,n],n.forEach(f),n.clear(),i=!1,l&&(l=!1,m.process(y))}};return m}const r0=40;function ld(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=zi.reduce((F,G)=>(F[G]=n0(l),F),{}),{setup:u,read:f,resolveKeyframes:m,preUpdate:y,update:a,preRender:d,render:g,postRender:_}=c,T=()=>{const F=sn.useManualTiming?i.timestamp:performance.now();n=!1,sn.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(F-i.timestamp,r0),1)),i.timestamp=F,i.isProcessing=!0,u.process(i),f.process(i),m.process(i),y.process(i),a.process(i),d.process(i),g.process(i),_.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(T))},j=()=>{n=!0,r=!0,i.isProcessing||e(T)};return{schedule:zi.reduce((F,G)=>{const X=c[G];return F[G]=(J,W=!1,V=!1)=>(n||j(),X.schedule(J,W,V)),F},{}),cancel:F=>{for(let G=0;G<zi.length;G++)c[zi[G]].cancel(F)},state:i,steps:c}}const{schedule:qe,cancel:bn,state:ht,steps:oa}=ld(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vt,!0);let Vi;function i0(){Vi=void 0}const jt={now:()=>(Vi===void 0&&jt.set(ht.isProcessing||sn.useManualTiming?ht.timestamp:performance.now()),Vi),set:e=>{Vi=e,queueMicrotask(i0)}},ud=e=>t=>typeof t=="string"&&t.startsWith(e),Ds=ud("--"),o0=ud("var(--"),Es=e=>o0(e)?a0.test(e.split("/*")[0].trim()):!1,a0=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Gr={...xr,transform:e=>an(0,1,e)},Fi={...xr,default:1},Rr=e=>Math.round(e*1e5)/1e5,Os=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function s0(e){return e==null}const c0=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ns=(e,t)=>n=>!!(typeof n=="string"&&c0.test(n)&&n.startsWith(e)||t&&!s0(n)&&Object.prototype.hasOwnProperty.call(n,t)),pd=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,l,c,u]=r.match(Os);return{[e]:parseFloat(i),[t]:parseFloat(l),[n]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},l0=e=>an(0,255,e),aa={...xr,transform:e=>Math.round(l0(e))},In={test:Ns("rgb","red"),parse:pd("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+aa.transform(e)+", "+aa.transform(t)+", "+aa.transform(n)+", "+Rr(Gr.transform(r))+")"};function u0(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Fa={test:Ns("#"),parse:u0,transform:In.transform},ii=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),yn=ii("deg"),nn=ii("%"),ge=ii("px"),p0=ii("vh"),d0=ii("vw"),Pl={...nn,parse:e=>nn.parse(e)/100,transform:e=>nn.transform(e*100)},or={test:Ns("hsl","hue"),parse:pd("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+nn.transform(Rr(t))+", "+nn.transform(Rr(n))+", "+Rr(Gr.transform(r))+")"},at={test:e=>In.test(e)||Fa.test(e)||or.test(e),parse:e=>In.test(e)?In.parse(e):or.test(e)?or.parse(e):Fa.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?In.transform(e):or.transform(e),getAnimatableNone:e=>{const t=at.parse(e);return t.alpha=0,at.transform(t)}},f0=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function h0(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Os))==null?void 0:t.length)||0)+(((n=e.match(f0))==null?void 0:n.length)||0)>0}const dd="number",fd="color",m0="var",v0="var(",Cl="${}",g0=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Yr(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let l=0;const u=t.replace(g0,f=>(at.test(f)?(r.color.push(l),i.push(fd),n.push(at.parse(f))):f.startsWith(v0)?(r.var.push(l),i.push(m0),n.push(f)):(r.number.push(l),i.push(dd),n.push(parseFloat(f))),++l,Cl)).split(Cl);return{values:n,split:u,indexes:r,types:i}}function hd(e){return Yr(e).values}function md(e){const{split:t,types:n}=Yr(e),r=t.length;return i=>{let l="";for(let c=0;c<r;c++)if(l+=t[c],i[c]!==void 0){const u=n[c];u===dd?l+=Rr(i[c]):u===fd?l+=at.transform(i[c]):l+=i[c]}return l}}const y0=e=>typeof e=="number"?0:at.test(e)?at.getAnimatableNone(e):e;function x0(e){const t=hd(e);return md(e)(t.map(y0))}const _n={test:h0,parse:hd,createTransformer:md,getAnimatableNone:x0};function sa(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function b0({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,l=0,c=0;if(!t)i=l=c=n;else{const u=n<.5?n*(1+t):n+t-n*t,f=2*n-u;i=sa(f,u,e+1/3),l=sa(f,u,e),c=sa(f,u,e-1/3)}return{red:Math.round(i*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function io(e,t){return n=>n>0?t:e}const Ye=(e,t,n)=>e+(t-e)*n,ca=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},_0=[Fa,In,or],w0=e=>_0.find(t=>t.test(e));function Dl(e){const t=w0(e);if(!t)return!1;let n=t.parse(e);return t===or&&(n=b0(n)),n}const El=(e,t)=>{const n=Dl(e),r=Dl(t);if(!n||!r)return io(e,t);const i={...n};return l=>(i.red=ca(n.red,r.red,l),i.green=ca(n.green,r.green,l),i.blue=ca(n.blue,r.blue,l),i.alpha=Ye(n.alpha,r.alpha,l),In.transform(i))},$a=new Set(["none","hidden"]);function k0(e,t){return $a.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function T0(e,t){return n=>Ye(e,t,n)}function Ms(e){return typeof e=="number"?T0:typeof e=="string"?Es(e)?io:at.test(e)?El:j0:Array.isArray(e)?vd:typeof e=="object"?at.test(e)?El:S0:io}function vd(e,t){const n=[...e],r=n.length,i=e.map((l,c)=>Ms(l)(l,t[c]));return l=>{for(let c=0;c<r;c++)n[c]=i[c](l);return n}}function S0(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Ms(e[i])(e[i],t[i]));return i=>{for(const l in r)n[l]=r[l](i);return n}}function A0(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const l=t.types[i],c=e.indexes[l][r[l]],u=e.values[c]??0;n[i]=u,r[l]++}return n}const j0=(e,t)=>{const n=_n.createTransformer(t),r=Yr(e),i=Yr(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?$a.has(e)&&!i.values.length||$a.has(t)&&!r.values.length?k0(e,t):ni(vd(A0(r,i),i.values),n):io(e,t)};function gd(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ye(e,t,n):Ms(e)(e,t)}const P0=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>qe.update(t,n),stop:()=>bn(t),now:()=>ht.isProcessing?ht.timestamp:jt.now()}},yd=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let l=0;l<i;l++)r+=Math.round(e(l/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},oo=2e4;function Is(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<oo;)t+=n,r=e.next(t);return t>=oo?1/0:t}function C0(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(Is(r),oo);return{type:"keyframes",ease:l=>r.next(i*l).value/t,duration:Bt(i)}}const D0=5;function xd(e,t,n){const r=Math.max(t-D0,0);return Qp(n-e(r),t-r)}const et={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},la=.001;function E0({duration:e=et.duration,bounce:t=et.bounce,velocity:n=et.velocity,mass:r=et.mass}){let i,l,c=1-t;c=an(et.minDamping,et.maxDamping,c),e=an(et.minDuration,et.maxDuration,Bt(e)),c<1?(i=m=>{const y=m*c,a=y*e,d=y-n,g=La(m,c),_=Math.exp(-a);return la-d/g*_},l=m=>{const a=m*c*e,d=a*n+n,g=Math.pow(c,2)*Math.pow(m,2)*e,_=Math.exp(-a),T=La(Math.pow(m,2),c);return(-i(m)+la>0?-1:1)*((d-g)*_)/T}):(i=m=>{const y=Math.exp(-m*e),a=(m-n)*e+1;return-la+y*a},l=m=>{const y=Math.exp(-m*e),a=(n-m)*(e*e);return y*a});const u=5/e,f=N0(i,l,u);if(e=tn(e),isNaN(f))return{stiffness:et.stiffness,damping:et.damping,duration:e};{const m=Math.pow(f,2)*r;return{stiffness:m,damping:c*2*Math.sqrt(r*m),duration:e}}}const O0=12;function N0(e,t,n){let r=n;for(let i=1;i<O0;i++)r=r-e(r)/t(r);return r}function La(e,t){return e*Math.sqrt(1-t*t)}const M0=["duration","bounce"],I0=["stiffness","damping","mass"];function Ol(e,t){return t.some(n=>e[n]!==void 0)}function R0(e){let t={velocity:et.velocity,stiffness:et.stiffness,damping:et.damping,mass:et.mass,isResolvedFromDuration:!1,...e};if(!Ol(e,I0)&&Ol(e,M0))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,l=2*an(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:et.mass,stiffness:i,damping:l}}else{const n=E0(e);t={...t,...n,mass:et.mass},t.isResolvedFromDuration=!0}return t}function ao(e=et.visualDuration,t=et.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],u={done:!1,value:l},{stiffness:f,damping:m,mass:y,duration:a,velocity:d,isResolvedFromDuration:g}=R0({...n,velocity:-Bt(n.velocity||0)}),_=d||0,T=m/(2*Math.sqrt(f*y)),j=c-l,k=Bt(Math.sqrt(f/y)),z=Math.abs(j)<5;r||(r=z?et.restSpeed.granular:et.restSpeed.default),i||(i=z?et.restDelta.granular:et.restDelta.default);let F;if(T<1){const X=La(k,T);F=J=>{const W=Math.exp(-T*k*J);return c-W*((_+T*k*j)/X*Math.sin(X*J)+j*Math.cos(X*J))}}else if(T===1)F=X=>c-Math.exp(-k*X)*(j+(_+k*j)*X);else{const X=k*Math.sqrt(T*T-1);F=J=>{const W=Math.exp(-T*k*J),V=Math.min(X*J,300);return c-W*((_+T*k*j)*Math.sinh(V)+X*j*Math.cosh(V))/X}}const G={calculatedDuration:g&&a||null,next:X=>{const J=F(X);if(g)u.done=X>=a;else{let W=X===0?_:0;T<1&&(W=X===0?tn(_):xd(F,X,J));const V=Math.abs(W)<=r,ne=Math.abs(c-J)<=i;u.done=V&&ne}return u.value=u.done?c:J,u},toString:()=>{const X=Math.min(Is(G),oo),J=yd(W=>G.next(X*W).value,X,30);return X+"ms "+J},toTransition:()=>{}};return G}ao.applyToOptions=e=>{const t=C0(e,100,ao);return e.ease=t.ease,e.duration=tn(t.duration),e.type="keyframes",e};function Ba({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:l=500,modifyTarget:c,min:u,max:f,restDelta:m=.5,restSpeed:y}){const a=e[0],d={done:!1,value:a},g=V=>u!==void 0&&V<u||f!==void 0&&V>f,_=V=>u===void 0?f:f===void 0||Math.abs(u-V)<Math.abs(f-V)?u:f;let T=n*t;const j=a+T,k=c===void 0?j:c(j);k!==j&&(T=k-a);const z=V=>-T*Math.exp(-V/r),F=V=>k+z(V),G=V=>{const ne=z(V),le=F(V);d.done=Math.abs(ne)<=m,d.value=d.done?k:le};let X,J;const W=V=>{g(d.value)&&(X=V,J=ao({keyframes:[d.value,_(d.value)],velocity:xd(F,V,d.value),damping:i,stiffness:l,restDelta:m,restSpeed:y}))};return W(0),{calculatedDuration:null,next:V=>{let ne=!1;return!J&&X===void 0&&(ne=!0,G(V),W(V)),X!==void 0&&V>=X?J.next(V-X):(!ne&&G(V),d)}}}function z0(e,t,n){const r=[],i=n||sn.mix||gd,l=e.length-1;for(let c=0;c<l;c++){let u=i(e[c],e[c+1]);if(t){const f=Array.isArray(t)?t[c]||Vt:t;u=ni(f,u)}r.push(u)}return r}function F0(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const l=e.length;if(Ss(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const u=z0(t,r,i),f=u.length,m=y=>{if(c&&y<e[0])return t[0];let a=0;if(f>1)for(;a<e.length-2&&!(y<e[a+1]);a++);const d=Hr(e[a],e[a+1],y);return u[a](d)};return n?y=>m(an(e[0],e[l-1],y)):m}function $0(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Hr(0,t,r);e.push(Ye(n,1,i))}}function L0(e){const t=[0];return $0(t,e.length-1),t}function B0(e,t){return e.map(n=>n*t)}function V0(e,t){return e.map(()=>t||sd).splice(0,e.length-1)}function zr({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=Jb(r)?r.map(jl):jl(r),l={done:!1,value:t[0]},c=B0(n&&n.length===t.length?n:L0(t),e),u=F0(c,t,{ease:Array.isArray(i)?i:V0(t,i)});return{calculatedDuration:e,next:f=>(l.value=u(f),l.done=f>=e,l)}}const U0=e=>e!==null;function Rs(e,{repeat:t,repeatType:n="loop"},r,i=1){const l=e.filter(U0),u=i<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!u||r===void 0?l[u]:r}const K0={decay:Ba,inertia:Ba,tween:zr,keyframes:zr,spring:ao};function bd(e){typeof e.type=="string"&&(e.type=K0[e.type])}class zs{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Z0=e=>e/100;class Fs extends zs{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==jt.now()&&this.tick(jt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;bd(t);const{type:n=zr,repeat:r=0,repeatDelay:i=0,repeatType:l,velocity:c=0}=t;let{keyframes:u}=t;const f=n||zr;f!==zr&&typeof u[0]!="number"&&(this.mixKeyframes=ni(Z0,gd(u[0],u[1])),u=[0,100]);const m=f({...t,keyframes:u});l==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...u].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=Is(m));const{calculatedDuration:y}=m;this.calculatedDuration=y,this.resolvedDuration=y+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=m}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:y,repeat:a,repeatType:d,repeatDelay:g,type:_,onUpdate:T,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const k=this.currentTime-m*(this.playbackSpeed>=0?1:-1),z=this.playbackSpeed>=0?k<0:k>i;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let F=this.currentTime,G=r;if(a){const V=Math.min(this.currentTime,i)/u;let ne=Math.floor(V),le=V%1;!le&&V>=1&&(le=1),le===1&&ne--,ne=Math.min(ne,a+1),!!(ne%2)&&(d==="reverse"?(le=1-le,g&&(le-=g/u)):d==="mirror"&&(G=c)),F=an(0,1,le)*u}const X=z?{done:!1,value:y[0]}:G.next(F);l&&(X.value=l(X.value));let{done:J}=X;!z&&f!==null&&(J=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const W=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&J);return W&&_!==Ba&&(X.value=Rs(y,this.options,j,this.speed)),T&&T(X.value),W&&this.finish(),X}then(t,n){return this.finished.then(t,n)}get duration(){return Bt(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Bt(t)}get time(){return Bt(this.currentTime)}set time(t){var n;t=tn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(jt.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Bt(this.currentTime))}play(){var i,l;if(this.isStopped)return;const{driver:t=P0,startTime:n}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(i=this.options).onPlay)==null||l.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(jt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function q0(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Rn=e=>e*180/Math.PI,Va=e=>{const t=Rn(Math.atan2(e[1],e[0]));return Ua(t)},W0={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Va,rotateZ:Va,skewX:e=>Rn(Math.atan(e[1])),skewY:e=>Rn(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Ua=e=>(e=e%360,e<0&&(e+=360),e),Nl=Va,Ml=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Il=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),H0={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ml,scaleY:Il,scale:e=>(Ml(e)+Il(e))/2,rotateX:e=>Ua(Rn(Math.atan2(e[6],e[5]))),rotateY:e=>Ua(Rn(Math.atan2(-e[2],e[0]))),rotateZ:Nl,rotate:Nl,skewX:e=>Rn(Math.atan(e[4])),skewY:e=>Rn(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Ka(e){return e.includes("scale")?1:0}function Za(e,t){if(!e||e==="none")return Ka(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=H0,i=n;else{const u=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=W0,i=u}if(!i)return Ka(t);const l=r[t],c=i[1].split(",").map(Y0);return typeof l=="function"?l(c):c[l]}const G0=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Za(n,t)};function Y0(e){return parseFloat(e.trim())}const br=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_r=new Set(br),Rl=e=>e===xr||e===ge,X0=new Set(["x","y","z"]),Q0=br.filter(e=>!X0.has(e));function J0(e){const t=[];return Q0.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const zn={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Za(t,"x"),y:(e,{transform:t})=>Za(t,"y")};zn.translateX=zn.x;zn.translateY=zn.y;const Fn=new Set;let qa=!1,Wa=!1,Ha=!1;function _d(){if(Wa){const e=Array.from(Fn).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=J0(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([l,c])=>{var u;(u=r.getValue(l))==null||u.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Wa=!1,qa=!1,Fn.forEach(e=>e.complete(Ha)),Fn.clear()}function wd(){Fn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Wa=!0)})}function e_(){Ha=!0,wd(),_d(),Ha=!1}class $s{constructor(t,n,r,i,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Fn.add(this),qa||(qa=!0,qe.read(wd),qe.resolveKeyframes(_d))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const l=i==null?void 0:i.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(r&&n){const u=r.readValue(n,c);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=c),i&&l===void 0&&i.set(t[0])}q0(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Fn.delete(this)}cancel(){this.state==="scheduled"&&(Fn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const t_=e=>e.startsWith("--");function n_(e,t,n){t_(t)?e.style.setProperty(t,n):e.style[t]=n}const r_=As(()=>window.ScrollTimeline!==void 0),i_={};function o_(e,t){const n=As(e);return()=>i_[t]??n()}const kd=o_(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ir=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,zl={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ir([0,.65,.55,1]),circOut:Ir([.55,0,1,.45]),backIn:Ir([.31,.01,.66,-.59]),backOut:Ir([.33,1.53,.69,.99])};function Td(e,t){if(e)return typeof e=="function"?kd()?yd(e,t):"ease-out":cd(e)?Ir(e):Array.isArray(e)?e.map(n=>Td(n,t)||zl.easeOut):zl[e]}function a_(e,t,n,{delay:r=0,duration:i=300,repeat:l=0,repeatType:c="loop",ease:u="easeOut",times:f}={},m=void 0){const y={[t]:n};f&&(y.offset=f);const a=Td(u,i);Array.isArray(a)&&(y.easing=a);const d={delay:r,duration:i,easing:Array.isArray(a)?"linear":a,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(d.pseudoElement=m),e.animate(y,d)}function Sd(e){return typeof e=="function"&&"applyToOptions"in e}function s_({type:e,...t}){return Sd(e)&&kd()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class c_ extends zs{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:u,onComplete:f}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Ss(typeof t.type!="string");const m=s_(t);this.animation=a_(n,r,i,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Rs(i,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(y):n_(n,r,y),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Bt(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Bt(t)}get time(){return Bt(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=tn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&r_()?(this.animation.timeline=t,Vt):n(this)}}const Ad={anticipate:id,backInOut:rd,circInOut:ad};function l_(e){return e in Ad}function u_(e){typeof e.ease=="string"&&l_(e.ease)&&(e.ease=Ad[e.ease])}const Fl=10;class p_ extends c_{constructor(t){u_(t),bd(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const u=new Fs({...c,autoplay:!1}),f=tn(this.finishedTime??this.time);n.setWithVelocity(u.sample(f-Fl).value,u.sample(f).value,Fl),u.stop()}}const $l=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(_n.test(e)||e==="0")&&!e.startsWith("url("));function d_(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function f_(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=$l(i,t),u=$l(l,t);return!c||!u?!1:d_(e)||(n==="spring"||Sd(n))&&r}function Ga(e){e.duration=0,e.type="keyframes"}const h_=new Set(["opacity","clipPath","filter","transform"]),m_=As(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function v_(e){var y;const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:l,type:c}=e;if(!(((y=t==null?void 0:t.owner)==null?void 0:y.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=t.owner.getProps();return m_()&&n&&h_.has(n)&&(n!=="transform"||!m)&&!f&&!r&&i!=="mirror"&&l!==0&&c!=="inertia"}const g_=40;class y_ extends zs{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:l=0,repeatType:c="loop",keyframes:u,name:f,motionValue:m,element:y,...a}){var _;super(),this.stop=()=>{var T,j;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),(j=this.keyframeResolver)==null||j.cancel()},this.createdAt=jt.now();const d={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:l,repeatType:c,name:f,motionValue:m,element:y,...a},g=(y==null?void 0:y.KeyframeResolver)||$s;this.keyframeResolver=new g(u,(T,j,k)=>this.onKeyframesResolved(T,j,d,!k),f,m,y),(_=this.keyframeResolver)==null||_.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:l,type:c,velocity:u,delay:f,isHandoff:m,onUpdate:y}=r;this.resolvedAt=jt.now(),f_(t,l,c,u)||((sn.instantAnimations||!f)&&(y==null||y(Rs(t,r,n))),t[0]=t[t.length-1],Ga(r),r.repeat=0);const d={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>g_?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},g=!m&&v_(d)?new p_({...d,element:d.motionValue.owner.current}):new Fs(d);g.finished.then(()=>this.notifyFinished()).catch(Vt),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),e_()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const x_=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function b_(e){const t=x_.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function jd(e,t,n=1){const[r,i]=b_(e);if(!r)return;const l=window.getComputedStyle(t).getPropertyValue(r);if(l){const c=l.trim();return Gp(c)?parseFloat(c):c}return Es(i)?jd(i,t,n+1):i}function Ls(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Pd=new Set(["width","height","top","left","right","bottom",...br]),__={test:e=>e==="auto",parse:e=>e},Cd=e=>t=>t.test(e),Dd=[xr,ge,nn,yn,d0,p0,__],Ll=e=>Dd.find(Cd(e));function w_(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Xp(e):!0}const k_=new Set(["brightness","contrast","saturate","opacity"]);function T_(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Os)||[];if(!r)return e;const i=n.replace(r,"");let l=k_.has(t)?1:0;return r!==n&&(l*=100),t+"("+l+i+")"}const S_=/\b([a-z-]*)\(.*?\)/gu,Ya={..._n,getAnimatableNone:e=>{const t=e.match(S_);return t?t.map(T_).join(" "):e}},Bl={...xr,transform:Math.round},A_={rotate:yn,rotateX:yn,rotateY:yn,rotateZ:yn,scale:Fi,scaleX:Fi,scaleY:Fi,scaleZ:Fi,skew:yn,skewX:yn,skewY:yn,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:Gr,originX:Pl,originY:Pl,originZ:ge},Bs={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,radius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,top:ge,right:ge,bottom:ge,left:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,backgroundPositionX:ge,backgroundPositionY:ge,...A_,zIndex:Bl,fillOpacity:Gr,strokeOpacity:Gr,numOctaves:Bl},j_={...Bs,color:at,backgroundColor:at,outlineColor:at,fill:at,stroke:at,borderColor:at,borderTopColor:at,borderRightColor:at,borderBottomColor:at,borderLeftColor:at,filter:Ya,WebkitFilter:Ya},Ed=e=>j_[e];function Od(e,t){let n=Ed(e);return n!==Ya&&(n=_n),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const P_=new Set(["auto","none","0"]);function C_(e,t,n){let r=0,i;for(;r<e.length&&!i;){const l=e[r];typeof l=="string"&&!P_.has(l)&&Yr(l).values.length&&(i=e[r]),r++}if(i&&n)for(const l of t)e[l]=Od(n,i)}class D_ extends $s{constructor(t,n,r,i,l){super(t,n,r,i,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let m=t[f];if(typeof m=="string"&&(m=m.trim(),Es(m))){const y=jd(m,n.current);y!==void 0&&(t[f]=y),f===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!Pd.has(r)||t.length!==2)return;const[i,l]=t,c=Ll(i),u=Ll(l);if(c!==u)if(Rl(c)&&Rl(u))for(let f=0;f<t.length;f++){const m=t[f];typeof m=="string"&&(t[f]=parseFloat(m))}else zn[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||w_(t[i]))&&r.push(i);r.length&&C_(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=zn[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var u;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=zn[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([f,m])=>{t.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function E_(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=(n==null?void 0:n[e])??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const Nd=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function O_(e){return Yp(e)&&"offsetHeight"in e}const Vl=30,N_=e=>!isNaN(parseFloat(e));class M_{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var l;const i=jt.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=jt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=N_(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new js);const r=this.events[t].add(n);return t==="change"?()=>{r(),qe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=jt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Vl)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Vl);return Qp(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vr(e,t){return new M_(e,t)}const{schedule:Vs}=ld(queueMicrotask,!1),qt={x:!1,y:!1};function Md(){return qt.x||qt.y}function I_(e){return e==="x"||e==="y"?qt[e]?null:(qt[e]=!0,()=>{qt[e]=!1}):qt.x||qt.y?null:(qt.x=qt.y=!0,()=>{qt.x=qt.y=!1})}function Id(e,t){const n=E_(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function Ul(e){return!(e.pointerType==="touch"||Md())}function R_(e,t,n={}){const[r,i,l]=Id(e,n),c=u=>{if(!Ul(u))return;const{target:f}=u,m=t(f,u);if(typeof m!="function"||!f)return;const y=a=>{Ul(a)&&(m(a),f.removeEventListener("pointerleave",y))};f.addEventListener("pointerleave",y,i)};return r.forEach(u=>{u.addEventListener("pointerenter",c,i)}),l}const Rd=(e,t)=>t?e===t?!0:Rd(e,t.parentElement):!1,Us=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,z_=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function F_(e){return z_.has(e.tagName)||e.tabIndex!==-1}const Ui=new WeakSet;function Kl(e){return t=>{t.key==="Enter"&&e(t)}}function ua(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const $_=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Kl(()=>{if(Ui.has(n))return;ua(n,"down");const i=Kl(()=>{ua(n,"up")}),l=()=>ua(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Zl(e){return Us(e)&&!Md()}function L_(e,t,n={}){const[r,i,l]=Id(e,n),c=u=>{const f=u.currentTarget;if(!Zl(u))return;Ui.add(f);const m=t(f,u),y=(g,_)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",d),Ui.has(f)&&Ui.delete(f),Zl(g)&&typeof m=="function"&&m(g,{success:_})},a=g=>{y(g,f===window||f===document||n.useGlobalTarget||Rd(f,g.target))},d=g=>{y(g,!1)};window.addEventListener("pointerup",a,i),window.addEventListener("pointercancel",d,i)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",c,i),O_(u)&&(u.addEventListener("focus",m=>$_(m,i)),!F_(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),l}function zd(e){return Yp(e)&&"ownerSVGElement"in e}function B_(e){return zd(e)&&e.tagName==="svg"}const wt=e=>!!(e&&e.getVelocity),V_=[...Dd,at,_n],U_=e=>V_.find(Cd(e)),Fd=L.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function K_(e=!0){const t=L.useContext(ws);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,l=L.useId();L.useEffect(()=>{if(e)return i(l)},[e]);const c=L.useCallback(()=>e&&r&&r(l),[l,r,e]);return!n&&r?[!1,c]:[!0]}const $d=L.createContext({strict:!1}),ql={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gr={};for(const e in ql)gr[e]={isEnabled:t=>ql[e].some(n=>!!t[n])};function Z_(e){for(const t in e)gr[t]={...gr[t],...e[t]}}const q_=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function so(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||q_.has(e)}let Ld=e=>!so(e);function W_(e){typeof e=="function"&&(Ld=t=>t.startsWith("on")?!so(t):e(t))}try{W_(require("@emotion/is-prop-valid").default)}catch{}function H_(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(Ld(i)||n===!0&&so(i)||!t&&!so(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const bo=L.createContext({});function _o(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Xr(e){return typeof e=="string"||Array.isArray(e)}const Ks=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zs=["initial",...Ks];function wo(e){return _o(e.animate)||Zs.some(t=>Xr(e[t]))}function Bd(e){return!!(wo(e)||e.variants)}function G_(e,t){if(wo(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Xr(n)?n:void 0,animate:Xr(r)?r:void 0}}return e.inherit!==!1?t:{}}function Y_(e){const{initial:t,animate:n}=G_(e,L.useContext(bo));return L.useMemo(()=>({initial:t,animate:n}),[Wl(t),Wl(n)])}function Wl(e){return Array.isArray(e)?e.join(" "):e}const Qr={};function X_(e){for(const t in e)Qr[t]=e[t],Ds(t)&&(Qr[t].isCSSVariable=!0)}function Vd(e,{layout:t,layoutId:n}){return _r.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Qr[e]||e==="opacity")}const Q_={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},J_=br.length;function ew(e,t,n){let r="",i=!0;for(let l=0;l<J_;l++){const c=br[l],u=e[c];if(u===void 0)continue;let f=!0;if(typeof u=="number"?f=u===(c.startsWith("scale")?1:0):f=parseFloat(u)===0,!f||n){const m=Nd(u,Bs[c]);if(!f){i=!1;const y=Q_[c]||c;r+=`${y}(${m}) `}n&&(t[c]=m)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function qs(e,t,n){const{style:r,vars:i,transformOrigin:l}=e;let c=!1,u=!1;for(const f in t){const m=t[f];if(_r.has(f)){c=!0;continue}else if(Ds(f)){i[f]=m;continue}else{const y=Nd(m,Bs[f]);f.startsWith("origin")?(u=!0,l[f]=y):r[f]=y}}if(t.transform||(c||n?r.transform=ew(t,e.transform,n):r.transform&&(r.transform="none")),u){const{originX:f="50%",originY:m="50%",originZ:y=0}=l;r.transformOrigin=`${f} ${m} ${y}`}}const Ws=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ud(e,t,n){for(const r in t)!wt(t[r])&&!Vd(r,n)&&(e[r]=t[r])}function tw({transformTemplate:e},t){return L.useMemo(()=>{const n=Ws();return qs(n,t,e),Object.assign({},n.vars,n.style)},[t])}function nw(e,t){const n=e.style||{},r={};return Ud(r,n,e),Object.assign(r,tw(e,t)),r}function rw(e,t){const n={},r=nw(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const iw={offset:"stroke-dashoffset",array:"stroke-dasharray"},ow={offset:"strokeDashoffset",array:"strokeDasharray"};function aw(e,t,n=1,r=0,i=!0){e.pathLength=1;const l=i?iw:ow;e[l.offset]=ge.transform(-r);const c=ge.transform(t),u=ge.transform(n);e[l.array]=`${c} ${u}`}function Kd(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:l=1,pathOffset:c=0,...u},f,m,y){if(qs(e,u,m),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:a,style:d}=e;a.transform&&(d.transform=a.transform,delete a.transform),(d.transform||a.transformOrigin)&&(d.transformOrigin=a.transformOrigin??"50% 50%",delete a.transformOrigin),d.transform&&(d.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete a.transformBox),t!==void 0&&(a.x=t),n!==void 0&&(a.y=n),r!==void 0&&(a.scale=r),i!==void 0&&aw(a,i,l,c,!1)}const Zd=()=>({...Ws(),attrs:{}}),qd=e=>typeof e=="string"&&e.toLowerCase()==="svg";function sw(e,t,n,r){const i=L.useMemo(()=>{const l=Zd();return Kd(l,t,qd(r),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};Ud(l,e.style,e),i.style={...l,...i.style}}return i}const cw=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Hs(e){return typeof e!="string"||e.includes("-")?!1:!!(cw.indexOf(e)>-1||/[A-Z]/u.test(e))}function lw(e,t,n,{latestValues:r},i,l=!1){const u=(Hs(e)?sw:rw)(t,r,i,e),f=H_(t,typeof e=="string",l),m=e!==L.Fragment?{...f,...u,ref:n}:{},{children:y}=t,a=L.useMemo(()=>wt(y)?y.get():y,[y]);return L.createElement(e,{...m,children:a})}function Hl(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Gs(e,t,n,r){if(typeof t=="function"){const[i,l]=Hl(r);t=t(n!==void 0?n:e.custom,i,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,l]=Hl(r);t=t(n!==void 0?n:e.custom,i,l)}return t}function Ki(e){return wt(e)?e.get():e}function uw({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:pw(n,r,i,e),renderState:t()}}function pw(e,t,n,r){const i={},l=r(e,{});for(const d in l)i[d]=Ki(l[d]);let{initial:c,animate:u}=e;const f=wo(e),m=Bd(e);t&&m&&!f&&e.inherit!==!1&&(c===void 0&&(c=t.initial),u===void 0&&(u=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const a=y?u:c;if(a&&typeof a!="boolean"&&!_o(a)){const d=Array.isArray(a)?a:[a];for(let g=0;g<d.length;g++){const _=Gs(e,d[g]);if(_){const{transitionEnd:T,transition:j,...k}=_;for(const z in k){let F=k[z];if(Array.isArray(F)){const G=y?F.length-1:0;F=F[G]}F!==null&&(i[z]=F)}for(const z in T)i[z]=T[z]}}}return i}const Wd=e=>(t,n)=>{const r=L.useContext(bo),i=L.useContext(ws),l=()=>uw(e,t,r,i);return n?l():Zb(l)};function Ys(e,t,n){var l;const{style:r}=e,i={};for(const c in r)(wt(r[c])||t.style&&wt(t.style[c])||Vd(c,e)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(i[c]=r[c]);return i}const dw=Wd({scrapeMotionValuesFromProps:Ys,createRenderState:Ws});function Hd(e,t,n){const r=Ys(e,t,n);for(const i in e)if(wt(e[i])||wt(t[i])){const l=br.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[l]=e[i]}return r}const fw=Wd({scrapeMotionValuesFromProps:Hd,createRenderState:Zd}),hw=Symbol.for("motionComponentSymbol");function ar(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function mw(e,t,n){return L.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):ar(n)&&(n.current=r))},[t])}const Xs=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),vw="framerAppearId",Gd="data-"+Xs(vw),Yd=L.createContext({});function gw(e,t,n,r,i){var T,j;const{visualElement:l}=L.useContext(bo),c=L.useContext($d),u=L.useContext(ws),f=L.useContext(Fd).reducedMotion,m=L.useRef(null);r=r||c.renderer,!m.current&&r&&(m.current=r(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f}));const y=m.current,a=L.useContext(Yd);y&&!y.projection&&i&&(y.type==="html"||y.type==="svg")&&yw(m.current,n,i,a);const d=L.useRef(!1);L.useInsertionEffect(()=>{y&&d.current&&y.update(n,u)});const g=n[Gd],_=L.useRef(!!g&&!((T=window.MotionHandoffIsComplete)!=null&&T.call(window,g))&&((j=window.MotionHasOptimisedAnimation)==null?void 0:j.call(window,g)));return qb(()=>{y&&(d.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),_.current&&y.animationState&&y.animationState.animateChanges())}),L.useEffect(()=>{y&&(!_.current&&y.animationState&&y.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,g)}),_.current=!1),y.enteringChildren=void 0)}),y}function yw(e,t,n,r){const{layoutId:i,layout:l,drag:c,dragConstraints:u,layoutScroll:f,layoutRoot:m,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Xd(e.parent)),e.projection.setOptions({layoutId:i,layout:l,alwaysMeasureLayout:!!c||u&&ar(u),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:f,layoutRoot:m})}function Xd(e){if(e)return e.options.allowProjection!==!1?e.projection:Xd(e.parent)}function pa(e,{forwardMotionProps:t=!1}={},n,r){n&&Z_(n);const i=Hs(e)?fw:dw;function l(u,f){let m;const y={...L.useContext(Fd),...u,layoutId:xw(u)},{isStatic:a}=y,d=Y_(u),g=i(u,a);if(!a&&_s){bw();const _=_w(y);m=_.MeasureLayout,d.visualElement=gw(e,g,y,r,_.ProjectionNode)}return x.jsxs(bo.Provider,{value:d,children:[m&&d.visualElement?x.jsx(m,{visualElement:d.visualElement,...y}):null,lw(e,u,mw(g,d.visualElement,f),g,a,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=L.forwardRef(l);return c[hw]=e,c}function xw({layoutId:e}){const t=L.useContext(Hp).id;return t&&e!==void 0?t+"-"+e:e}function bw(e,t){L.useContext($d).strict}function _w(e){const{drag:t,layout:n}=gr;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function ww(e,t){if(typeof Proxy>"u")return pa;const n=new Map,r=(l,c)=>pa(l,c,e,t),i=(l,c)=>r(l,c);return new Proxy(i,{get:(l,c)=>c==="create"?r:(n.has(c)||n.set(c,pa(c,void 0,e,t)),n.get(c))})}function Qd({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function kw({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Tw(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function da(e){return e===void 0||e===1}function Xa({scale:e,scaleX:t,scaleY:n}){return!da(e)||!da(t)||!da(n)}function Nn(e){return Xa(e)||Jd(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Jd(e){return Gl(e.x)||Gl(e.y)}function Gl(e){return e&&e!=="0%"}function co(e,t,n){const r=e-n,i=t*r;return n+i}function Yl(e,t,n,r,i){return i!==void 0&&(e=co(e,i,r)),co(e,n,r)+t}function Qa(e,t=0,n=1,r,i){e.min=Yl(e.min,t,n,r,i),e.max=Yl(e.max,t,n,r,i)}function ef(e,{x:t,y:n}){Qa(e.x,t.translate,t.scale,t.originPoint),Qa(e.y,n.translate,n.scale,n.originPoint)}const Xl=.999999999999,Ql=1.0000000000001;function Sw(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let l,c;for(let u=0;u<i;u++){l=n[u],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&cr(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,ef(e,c)),r&&Nn(l.latestValues)&&cr(e,l.latestValues))}t.x<Ql&&t.x>Xl&&(t.x=1),t.y<Ql&&t.y>Xl&&(t.y=1)}function sr(e,t){e.min=e.min+t,e.max=e.max+t}function Jl(e,t,n,r,i=.5){const l=Ye(e.min,e.max,i);Qa(e,t,n,l,r)}function cr(e,t){Jl(e.x,t.x,t.scaleX,t.scale,t.originX),Jl(e.y,t.y,t.scaleY,t.scale,t.originY)}function tf(e,t){return Qd(Tw(e.getBoundingClientRect(),t))}function Aw(e,t,n){const r=tf(e,n),{scroll:i}=t;return i&&(sr(r.x,i.offset.x),sr(r.y,i.offset.y)),r}const eu=()=>({translate:0,scale:1,origin:0,originPoint:0}),lr=()=>({x:eu(),y:eu()}),tu=()=>({min:0,max:0}),it=()=>({x:tu(),y:tu()}),Ja={current:null},nf={current:!1};function jw(){if(nf.current=!0,!!_s)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ja.current=e.matches;e.addEventListener("change",t),t()}else Ja.current=!1}const Pw=new WeakMap;function Cw(e,t,n){for(const r in t){const i=t[r],l=n[r];if(wt(i))e.addValue(r,i);else if(wt(l))e.addValue(r,vr(i,{owner:e}));else if(l!==i)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(i):c.hasAnimated||c.set(i)}else{const c=e.getStaticValue(r);e.addValue(r,vr(c!==void 0?c:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const nu=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Dw{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:l,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$s,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=jt.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,qe.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!l,this.isControllingVariants=wo(n),this.isVariantNode=Bd(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...a}=this.scrapeMotionValuesFromProps(n,{},this);for(const d in a){const g=a[d];f[d]!==void 0&&wt(g)&&g.set(f[d])}}mount(t){var n;this.current=t,Pw.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),nf.current||jw(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ja.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),bn(this.notifyUpdate),bn(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=_r.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&qe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in gr){const n=gr[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):it()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<nu.length;r++){const i=nu[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const l="on"+i,c=t[l];c&&(this.propEventSubscriptions[i]=this.on(i,c))}this.prevMotionValues=Cw(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=vr(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Gp(r)||Xp(r))?r=parseFloat(r):!U_(r)&&_n.test(n)&&(r=Od(t,n)),this.setBaseTarget(t,wt(r)?r.get():r)),wt(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=Gs(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(r=c[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!wt(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new js),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Vs.render(this.render)}}class rf extends Dw{constructor(){super(...arguments),this.KeyframeResolver=D_}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;wt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function of(e,{style:t,vars:n},r,i){const l=e.style;let c;for(c in t)l[c]=t[c];i==null||i.applyProjectionStyles(l,r);for(c in n)l.setProperty(c,n[c])}function Ew(e){return window.getComputedStyle(e)}class Ow extends rf{constructor(){super(...arguments),this.type="html",this.renderInstance=of}readValueFromInstance(t,n){var r;if(_r.has(n))return(r=this.projection)!=null&&r.isProjecting?Ka(n):G0(t,n);{const i=Ew(t),l=(Ds(n)?i.getPropertyValue(n):i[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return tf(t,n)}build(t,n,r){qs(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Ys(t,n,r)}}const af=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Nw(e,t,n,r){of(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(af.has(i)?i:Xs(i),t.attrs[i])}class Mw extends rf{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=it}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(_r.has(n)){const r=Ed(n);return r&&r.default||0}return n=af.has(n)?n:Xs(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Hd(t,n,r)}build(t,n,r){Kd(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){Nw(t,n,r,i)}mount(t){this.isSVGTag=qd(t.tagName),super.mount(t)}}const Iw=(e,t)=>Hs(e)?new Mw(t):new Ow(t,{allowProjection:e!==L.Fragment});function pr(e,t,n){const r=e.getProps();return Gs(r,t,n!==void 0?n:r.custom,e)}const es=e=>Array.isArray(e);function Rw(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,vr(n))}function zw(e){return es(e)?e[e.length-1]||0:e}function Fw(e,t){const n=pr(e,t);let{transitionEnd:r={},transition:i={},...l}=n||{};l={...l,...r};for(const c in l){const u=zw(l[c]);Rw(e,c,u)}}function $w(e){return!!(wt(e)&&e.add)}function ts(e,t){const n=e.getValue("willChange");if($w(n))return n.add(t);if(!n&&sn.WillChange){const r=new sn.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function sf(e){return e.props[Gd]}const Lw=e=>e!==null;function Bw(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(Lw),l=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[l]}const Vw={type:"spring",stiffness:500,damping:25,restSpeed:10},Uw=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Kw={type:"keyframes",duration:.8},Zw={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qw=(e,{keyframes:t})=>t.length>2?Kw:_r.has(e)?e.startsWith("scale")?Uw(t[1]):Vw:Zw;function Ww({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:l,repeatType:c,repeatDelay:u,from:f,elapsed:m,...y}){return!!Object.keys(y).length}const Qs=(e,t,n,r={},i,l)=>c=>{const u=Ls(r,e)||{},f=u.delay||r.delay||0;let{elapsed:m=0}=r;m=m-tn(f);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-m,onUpdate:d=>{t.set(d),u.onUpdate&&u.onUpdate(d)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:e,motionValue:t,element:l?void 0:i};Ww(u)||Object.assign(y,qw(e,y)),y.duration&&(y.duration=tn(y.duration)),y.repeatDelay&&(y.repeatDelay=tn(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let a=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Ga(y),y.delay===0&&(a=!0)),(sn.instantAnimations||sn.skipAnimations)&&(a=!0,Ga(y),y.delay=0),y.allowFlatten=!u.type&&!u.ease,a&&!l&&t.get()!==void 0){const d=Bw(y.keyframes,u);if(d!==void 0){qe.update(()=>{y.onUpdate(d),y.onComplete()});return}}return u.isSync?new Fs(y):new y_(y)};function Hw({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function cf(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...u}=t;r&&(l=r);const f=[],m=i&&e.animationState&&e.animationState.getState()[i];for(const y in u){const a=e.getValue(y,e.latestValues[y]??null),d=u[y];if(d===void 0||m&&Hw(m,y))continue;const g={delay:n,...Ls(l||{},y)},_=a.get();if(_!==void 0&&!a.isAnimating&&!Array.isArray(d)&&d===_&&!g.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const k=sf(e);if(k){const z=window.MotionHandoffAnimation(k,y,qe);z!==null&&(g.startTime=z,T=!0)}}ts(e,y),a.start(Qs(y,a,d,e.shouldReduceMotion&&Pd.has(y)?{type:!1}:g,e,T));const j=a.animation;j&&f.push(j)}return c&&Promise.all(f).then(()=>{qe.update(()=>{c&&Fw(e,c)})}),f}function lf(e,t,n,r=0,i=1){const l=Array.from(e).sort((m,y)=>m.sortNodePosition(y)).indexOf(t),c=e.size,u=(c-1)*r;return typeof n=="function"?n(l,c):i===1?l*r:u-l*r}function ns(e,t,n={}){var f;const r=pr(e,t,n.type==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const l=r?()=>Promise.all(cf(e,r,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:y=0,staggerChildren:a,staggerDirection:d}=i;return Gw(e,t,m,y,a,d,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[m,y]=u==="beforeChildren"?[l,c]:[c,l];return m().then(()=>y())}else return Promise.all([l(),c(n.delay)])}function Gw(e,t,n=0,r=0,i=0,l=1,c){const u=[];for(const f of e.variantChildren)f.notify("AnimationStart",t),u.push(ns(f,t,{...c,delay:n+(typeof r=="function"?0:r)+lf(e.variantChildren,f,r,i,l)}).then(()=>f.notify("AnimationComplete",t)));return Promise.all(u)}function Yw(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(l=>ns(e,l,n));r=Promise.all(i)}else if(typeof t=="string")r=ns(e,t,n);else{const i=typeof t=="function"?pr(e,t,n.custom):t;r=Promise.all(cf(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function uf(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Xw=Zs.length;function pf(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?pf(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Xw;n++){const r=Zs[n],i=e.props[r];(Xr(i)||i===!1)&&(t[r]=i)}return t}const Qw=[...Ks].reverse(),Jw=Ks.length;function ek(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Yw(e,n,r)))}function tk(e){let t=ek(e),n=ru(),r=!0;const i=f=>(m,y)=>{var d;const a=pr(e,y,f==="exit"?(d=e.presenceContext)==null?void 0:d.custom:void 0);if(a){const{transition:g,transitionEnd:_,...T}=a;m={...m,...T,..._}}return m};function l(f){t=f(e)}function c(f){const{props:m}=e,y=pf(e.parent)||{},a=[],d=new Set;let g={},_=1/0;for(let j=0;j<Jw;j++){const k=Qw[j],z=n[k],F=m[k]!==void 0?m[k]:y[k],G=Xr(F),X=k===f?z.isActive:null;X===!1&&(_=j);let J=F===y[k]&&F!==m[k]&&G;if(J&&r&&e.manuallyAnimateOnMount&&(J=!1),z.protectedKeys={...g},!z.isActive&&X===null||!F&&!z.prevProp||_o(F)||typeof F=="boolean")continue;const W=nk(z.prevProp,F);let V=W||k===f&&z.isActive&&!J&&G||j>_&&G,ne=!1;const le=Array.isArray(F)?F:[F];let ve=le.reduce(i(k),{});X===!1&&(ve={});const{prevResolvedValues:Pe={}}=z,Ae={...Pe,...ve},ye=Ee=>{V=!0,d.has(Ee)&&(ne=!0,d.delete(Ee)),z.needsAnimating[Ee]=!0;const fe=e.getValue(Ee);fe&&(fe.liveStyle=!1)};for(const Ee in Ae){const fe=ve[Ee],Se=Pe[Ee];if(g.hasOwnProperty(Ee))continue;let U=!1;es(fe)&&es(Se)?U=!uf(fe,Se):U=fe!==Se,U?fe!=null?ye(Ee):d.add(Ee):fe!==void 0&&d.has(Ee)?ye(Ee):z.protectedKeys[Ee]=!0}z.prevProp=F,z.prevResolvedValues=ve,z.isActive&&(g={...g,...ve}),r&&e.blockInitialAnimation&&(V=!1);const Ie=J&&W;V&&(!Ie||ne)&&a.push(...le.map(Ee=>{const fe={type:k};if(typeof Ee=="string"&&r&&!Ie&&e.manuallyAnimateOnMount&&e.parent){const{parent:Se}=e,U=pr(Se,Ee);if(Se.enteringChildren&&U){const{delayChildren:ue}=U.transition||{};fe.delay=lf(Se.enteringChildren,e,ue)}}return{animation:Ee,options:fe}}))}if(d.size){const j={};if(typeof m.initial!="boolean"){const k=pr(e,Array.isArray(m.initial)?m.initial[0]:m.initial);k&&k.transition&&(j.transition=k.transition)}d.forEach(k=>{const z=e.getBaseTarget(k),F=e.getValue(k);F&&(F.liveStyle=!0),j[k]=z??null}),a.push({animation:j})}let T=!!a.length;return r&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(T=!1),r=!1,T?t(a):Promise.resolve()}function u(f,m){var a;if(n[f].isActive===m)return Promise.resolve();(a=e.variantChildren)==null||a.forEach(d=>{var g;return(g=d.animationState)==null?void 0:g.setActive(f,m)}),n[f].isActive=m;const y=c(f);for(const d in n)n[d].protectedKeys={};return y}return{animateChanges:c,setActive:u,setAnimateFunction:l,getState:()=>n,reset:()=>{n=ru()}}}function nk(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!uf(t,e):!1}function En(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ru(){return{animate:En(!0),whileInView:En(),whileHover:En(),whileTap:En(),whileDrag:En(),whileFocus:En(),exit:En()}}class kn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class rk extends kn{constructor(t){super(t),t.animationState||(t.animationState=tk(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();_o(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let ik=0;class ok extends kn{constructor(){super(...arguments),this.id=ik++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const ak={animation:{Feature:rk},exit:{Feature:ok}};function Jr(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function oi(e){return{point:{x:e.pageX,y:e.pageY}}}const sk=e=>t=>Us(t)&&e(t,oi(t));function Fr(e,t,n,r){return Jr(e,t,sk(n),r)}const df=1e-4,ck=1-df,lk=1+df,ff=.01,uk=0-ff,pk=0+ff;function St(e){return e.max-e.min}function dk(e,t,n){return Math.abs(e-t)<=n}function iu(e,t,n,r=.5){e.origin=r,e.originPoint=Ye(t.min,t.max,e.origin),e.scale=St(n)/St(t),e.translate=Ye(n.min,n.max,e.origin)-e.originPoint,(e.scale>=ck&&e.scale<=lk||isNaN(e.scale))&&(e.scale=1),(e.translate>=uk&&e.translate<=pk||isNaN(e.translate))&&(e.translate=0)}function $r(e,t,n,r){iu(e.x,t.x,n.x,r?r.originX:void 0),iu(e.y,t.y,n.y,r?r.originY:void 0)}function ou(e,t,n){e.min=n.min+t.min,e.max=e.min+St(t)}function fk(e,t,n){ou(e.x,t.x,n.x),ou(e.y,t.y,n.y)}function au(e,t,n){e.min=t.min-n.min,e.max=e.min+St(t)}function Lr(e,t,n){au(e.x,t.x,n.x),au(e.y,t.y,n.y)}function Lt(e){return[e("x"),e("y")]}const hf=({current:e})=>e?e.ownerDocument.defaultView:null,su=(e,t)=>Math.abs(e-t);function hk(e,t){const n=su(e.x,t.x),r=su(e.y,t.y);return Math.sqrt(n**2+r**2)}class mf{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=ha(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,_=hk(d.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!_)return;const{point:T}=d,{timestamp:j}=ht;this.history.push({...T,timestamp:j});const{onStart:k,onMove:z}=this.handlers;g||(k&&k(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),z&&z(this.lastMoveEvent,d)},this.handlePointerMove=(d,g)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=fa(g,this.transformPagePoint),qe.update(this.updatePoint,!0)},this.handlePointerUp=(d,g)=>{this.end();const{onEnd:_,onSessionEnd:T,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=ha(d.type==="pointercancel"?this.lastMoveEventInfo:fa(g,this.transformPagePoint),this.history);this.startEvent&&_&&_(d,k),T&&T(d,k)},!Us(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=i||window;const u=oi(t),f=fa(u,this.transformPagePoint),{point:m}=f,{timestamp:y}=ht;this.history=[{...m,timestamp:y}];const{onSessionStart:a}=n;a&&a(t,ha(f,this.history)),this.removeListeners=ni(Fr(this.contextWindow,"pointermove",this.handlePointerMove),Fr(this.contextWindow,"pointerup",this.handlePointerUp),Fr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),bn(this.updatePoint)}}function fa(e,t){return t?{point:t(e.point)}:e}function cu(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ha({point:e},t){return{point:e,delta:cu(e,vf(t)),offset:cu(e,mk(t)),velocity:vk(t,.1)}}function mk(e){return e[0]}function vf(e){return e[e.length-1]}function vk(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=vf(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>tn(t)));)n--;if(!r)return{x:0,y:0};const l=Bt(i.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(i.x-r.x)/l,y:(i.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function gk(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ye(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ye(n,e,r.max):Math.min(e,n)),e}function lu(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function yk(e,{top:t,left:n,bottom:r,right:i}){return{x:lu(e.x,n,i),y:lu(e.y,t,r)}}function uu(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function xk(e,t){return{x:uu(e.x,t.x),y:uu(e.y,t.y)}}function bk(e,t){let n=.5;const r=St(e),i=St(t);return i>r?n=Hr(t.min,t.max-r,e.min):r>i&&(n=Hr(e.min,e.max-i,t.min)),an(0,1,n)}function _k(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const rs=.35;function wk(e=rs){return e===!1?e=0:e===!0&&(e=rs),{x:pu(e,"left","right"),y:pu(e,"top","bottom")}}function pu(e,t,n){return{min:du(e,t),max:du(e,n)}}function du(e,t){return typeof e=="number"?e:e[t]||0}const kk=new WeakMap;class Tk{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=it(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const l=a=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(oi(a).point)},c=(a,d)=>{const{drag:g,dragPropagation:_,onDragStart:T}=this.getProps();if(g&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=I_(g),!this.openDragLock))return;this.latestPointerEvent=a,this.latestPanInfo=d,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Lt(k=>{let z=this.getAxisMotionValue(k).get()||0;if(nn.test(z)){const{projection:F}=this.visualElement;if(F&&F.layout){const G=F.layout.layoutBox[k];G&&(z=St(G)*(parseFloat(z)/100))}}this.originPoint[k]=z}),T&&qe.postRender(()=>T(a,d)),ts(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},u=(a,d)=>{this.latestPointerEvent=a,this.latestPanInfo=d;const{dragPropagation:g,dragDirectionLock:_,onDirectionLock:T,onDrag:j}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:k}=d;if(_&&this.currentDirection===null){this.currentDirection=Sk(k),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",d.point,k),this.updateAxis("y",d.point,k),this.visualElement.render(),j&&j(a,d)},f=(a,d)=>{this.latestPointerEvent=a,this.latestPanInfo=d,this.stop(a,d),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>Lt(a=>{var d;return this.getAnimationState(a)==="paused"&&((d=this.getAxisMotionValue(a).animation)==null?void 0:d.play())}),{dragSnapToOrigin:y}=this.getProps();this.panSession=new mf(t,{onSessionStart:l,onStart:c,onMove:u,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:hf(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!i||!r)return;const{velocity:c}=i;this.startAnimation(c);const{onDragEnd:u}=this.getProps();u&&qe.postRender(()=>u(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!$i(t,i,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=gk(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,i=this.constraints;t&&ar(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=yk(r.layoutBox,t):this.constraints=!1,this.elastic=wk(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Lt(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=_k(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ar(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const l=Aw(r,i.root,this.visualElement.getTransformPagePoint());let c=xk(i.layout.layoutBox,l);if(n){const u=n(kw(c));this.hasMutatedConstraints=!!u,u&&(c=Qd(u))}return c}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},m=Lt(y=>{if(!$i(y,n,this.currentDirection))return;let a=f&&f[y]||{};c&&(a={min:0,max:0});const d=i?200:1e6,g=i?40:1e7,_={type:"inertia",velocity:r?t[y]:0,bounceStiffness:d,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...l,...a};return this.startAxisValueAnimation(y,_)});return Promise.all(m).then(u)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return ts(this.visualElement,t),r.start(Qs(t,r,0,n,this.visualElement,!1))}stopAnimation(){Lt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Lt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Lt(n=>{const{drag:r}=this.getProps();if(!$i(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,l=this.getAxisMotionValue(n);if(i&&i.layout){const{min:c,max:u}=i.layout.layoutBox[n];l.set(t[n]-Ye(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ar(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Lt(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const f=u.get();i[c]=bk({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Lt(c=>{if(!$i(c,t,null))return;const u=this.getAxisMotionValue(c),{min:f,max:m}=this.constraints[c];u.set(Ye(f,m,i[c]))})}addListeners(){if(!this.visualElement.current)return;kk.set(this.visualElement,this);const t=this.visualElement.current,n=Fr(t,"pointerdown",f=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();ar(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,l=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),qe.read(r);const c=Jr(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(Lt(y=>{const a=this.getAxisMotionValue(y);a&&(this.originPoint[y]+=f[y].translate,a.set(a.get()+f[y].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:l=!1,dragElastic:c=rs,dragMomentum:u=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:l,dragElastic:c,dragMomentum:u}}}function $i(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Sk(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Ak extends kn{constructor(t){super(t),this.removeGroupControls=Vt,this.removeListeners=Vt,this.controls=new Tk(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vt}unmount(){this.removeGroupControls(),this.removeListeners()}}const fu=e=>(t,n)=>{e&&qe.postRender(()=>e(t,n))};class jk extends kn{constructor(){super(...arguments),this.removePointerDownListener=Vt}onPointerDown(t){this.session=new mf(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hf(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:fu(t),onStart:fu(n),onMove:r,onEnd:(l,c)=>{delete this.session,i&&qe.postRender(()=>i(l,c))}}}mount(){this.removePointerDownListener=Fr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Zi={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function hu(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Nr={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ge.test(e))e=parseFloat(e);else return e;const n=hu(e,t.target.x),r=hu(e,t.target.y);return`${n}% ${r}%`}},Pk={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=_n.parse(e);if(i.length>5)return r;const l=_n.createTransformer(e),c=typeof i[0]!="number"?1:0,u=n.x.scale*t.x,f=n.y.scale*t.y;i[0+c]/=u,i[1+c]/=f;const m=Ye(u,f,.5);return typeof i[2+c]=="number"&&(i[2+c]/=m),typeof i[3+c]=="number"&&(i[3+c]/=m),l(i)}};let ma=!1;class Ck extends L.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:l}=t;X_(Dk),l&&(n.group&&n.group.add(l),r&&r.register&&i&&r.register(l),ma&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Zi.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:l}=this.props,{projection:c}=r;return c&&(c.isPresent=l,ma=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||qe.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Vs.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;ma=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function gf(e){const[t,n]=K_(),r=L.useContext(Hp);return x.jsx(Ck,{...e,layoutGroup:r,switchLayoutGroup:L.useContext(Yd),isPresent:t,safeToRemove:n})}const Dk={borderRadius:{...Nr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nr,borderTopRightRadius:Nr,borderBottomLeftRadius:Nr,borderBottomRightRadius:Nr,boxShadow:Pk};function Ek(e,t,n){const r=wt(e)?e:vr(e);return r.start(Qs("",r,t,n)),r.animation}const Ok=(e,t)=>e.depth-t.depth;class Nk{constructor(){this.children=[],this.isDirty=!1}add(t){ks(this.children,t),this.isDirty=!0}remove(t){Ts(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Ok),this.isDirty=!1,this.children.forEach(t)}}function Mk(e,t){const n=jt.now(),r=({timestamp:i})=>{const l=i-n;l>=t&&(bn(r),e(l-t))};return qe.setup(r,!0),()=>bn(r)}const yf=["TopLeft","TopRight","BottomLeft","BottomRight"],Ik=yf.length,mu=e=>typeof e=="string"?parseFloat(e):e,vu=e=>typeof e=="number"||ge.test(e);function Rk(e,t,n,r,i,l){i?(e.opacity=Ye(0,n.opacity??1,zk(r)),e.opacityExit=Ye(t.opacity??1,0,Fk(r))):l&&(e.opacity=Ye(t.opacity??1,n.opacity??1,r));for(let c=0;c<Ik;c++){const u=`border${yf[c]}Radius`;let f=gu(t,u),m=gu(n,u);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||vu(f)===vu(m)?(e[u]=Math.max(Ye(mu(f),mu(m),r),0),(nn.test(m)||nn.test(f))&&(e[u]+="%")):e[u]=m}(t.rotate||n.rotate)&&(e.rotate=Ye(t.rotate||0,n.rotate||0,r))}function gu(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const zk=xf(0,.5,od),Fk=xf(.5,.95,Vt);function xf(e,t,n){return r=>r<e?0:r>t?1:n(Hr(e,t,r))}function yu(e,t){e.min=t.min,e.max=t.max}function $t(e,t){yu(e.x,t.x),yu(e.y,t.y)}function xu(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function bu(e,t,n,r,i){return e-=t,e=co(e,1/n,r),i!==void 0&&(e=co(e,1/i,r)),e}function $k(e,t=0,n=1,r=.5,i,l=e,c=e){if(nn.test(t)&&(t=parseFloat(t),t=Ye(c.min,c.max,t/100)-c.min),typeof t!="number")return;let u=Ye(l.min,l.max,r);e===l&&(u-=t),e.min=bu(e.min,t,n,u,i),e.max=bu(e.max,t,n,u,i)}function _u(e,t,[n,r,i],l,c){$k(e,t[n],t[r],t[i],t.scale,l,c)}const Lk=["x","scaleX","originX"],Bk=["y","scaleY","originY"];function wu(e,t,n,r){_u(e.x,t,Lk,n?n.x:void 0,r?r.x:void 0),_u(e.y,t,Bk,n?n.y:void 0,r?r.y:void 0)}function ku(e){return e.translate===0&&e.scale===1}function bf(e){return ku(e.x)&&ku(e.y)}function Tu(e,t){return e.min===t.min&&e.max===t.max}function Vk(e,t){return Tu(e.x,t.x)&&Tu(e.y,t.y)}function Su(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function _f(e,t){return Su(e.x,t.x)&&Su(e.y,t.y)}function Au(e){return St(e.x)/St(e.y)}function ju(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Uk{constructor(){this.members=[]}add(t){ks(this.members,t),t.scheduleRender()}remove(t){if(Ts(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const l=this.members[i];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Kk(e,t,n){let r="";const i=e.x.translate/t.x,l=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((i||l||c)&&(r=`translate3d(${i}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:m,rotate:y,rotateX:a,rotateY:d,skewX:g,skewY:_}=n;m&&(r=`perspective(${m}px) ${r}`),y&&(r+=`rotate(${y}deg) `),a&&(r+=`rotateX(${a}deg) `),d&&(r+=`rotateY(${d}deg) `),g&&(r+=`skewX(${g}deg) `),_&&(r+=`skewY(${_}deg) `)}const u=e.x.scale*t.x,f=e.y.scale*t.y;return(u!==1||f!==1)&&(r+=`scale(${u}, ${f})`),r||"none"}const va=["","X","Y","Z"],Zk=1e3;let qk=0;function ga(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function wf(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=sf(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",qe,!(i||l))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&wf(r)}function kf({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(c={},u=t==null?void 0:t()){this.id=qk++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Gk),this.nodes.forEach(Jk),this.nodes.forEach(eT),this.nodes.forEach(Yk)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new Nk)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new js),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const f=this.eventHandlers.get(c);f&&f.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=zd(c)&&!B_(c),this.instance=c;const{layoutId:u,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||u)&&(this.isLayoutDirty=!0),e){let y,a=0;const d=()=>this.root.updateBlockedByResize=!1;qe.read(()=>{a=window.innerWidth}),e(c,()=>{const g=window.innerWidth;g!==a&&(a=g,this.root.updateBlockedByResize=!0,y&&y(),y=Mk(d,250),Zi.hasAnimatedSinceResize&&(Zi.hasAnimatedSinceResize=!1,this.nodes.forEach(Du)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&m&&(u||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:a,hasRelativeLayoutChanged:d,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||m.getDefaultTransition()||oT,{onLayoutAnimationStart:T,onLayoutAnimationComplete:j}=m.getProps(),k=!this.targetLayout||!_f(this.targetLayout,g),z=!a&&d;if(this.options.layoutRoot||this.resumeFrom||z||a&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...Ls(_,"layout"),onPlay:T,onComplete:j};(m.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(y,z)}else a||Du(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),bn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tT),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&wf(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const a=this.path[y];a.shouldResetTransform=!0,a.updateScroll("snapshot"),a.options.layoutRoot&&a.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Pu);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Cu);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Qk),this.nodes.forEach(Wk),this.nodes.forEach(Hk)):this.nodes.forEach(Cu),this.clearAllSnapshots();const u=jt.now();ht.delta=an(0,1e3/60,u-ht.timestamp),ht.timestamp=u,ht.isProcessing=!0,oa.update.process(ht),oa.preRender.process(ht),oa.render.process(ht),ht.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Vs.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Xk),this.sharedNodes.forEach(nT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!St(this.snapshot.measuredBox.x)&&!St(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=it(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!bf(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;c&&this.instance&&(u||Nn(this.latestValues)||y)&&(i(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return c&&(f=this.removeTransform(f)),aT(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:c}=this.options;if(!c)return it();const u=c.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(sT))){const{scroll:y}=this.root;y&&(sr(u.x,y.offset.x),sr(u.y,y.offset.y))}return u}removeElementScroll(c){var f;const u=it();if($t(u,c),(f=this.scroll)!=null&&f.wasRoot)return u;for(let m=0;m<this.path.length;m++){const y=this.path[m],{scroll:a,options:d}=y;y!==this.root&&a&&d.layoutScroll&&(a.wasRoot&&$t(u,c),sr(u.x,a.offset.x),sr(u.y,a.offset.y))}return u}applyTransform(c,u=!1){const f=it();$t(f,c);for(let m=0;m<this.path.length;m++){const y=this.path[m];!u&&y.options.layoutScroll&&y.scroll&&y!==y.root&&cr(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Nn(y.latestValues)&&cr(f,y.latestValues)}return Nn(this.latestValues)&&cr(f,this.latestValues),f}removeTransform(c){const u=it();$t(u,c);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!Nn(m.latestValues))continue;Xa(m.latestValues)&&m.updateSnapshot();const y=it(),a=m.measurePageBox();$t(y,a),wu(u,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return Nn(this.latestValues)&&wu(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ht.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var d;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==u;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(d=this.parent)!=null&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:a}=this.options;if(!(!this.layout||!(y||a))){if(this.resolvedRelativeTargetAt=ht.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),Lr(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),$t(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=it(),this.targetWithTransforms=it()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),fk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$t(this.target,this.layout.layoutBox),ef(this.target,this.targetDelta)):$t(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),Lr(this.relativeTargetOrigin,this.target,g.target),$t(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Xa(this.parent.latestValues)||Jd(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var _;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty)&&(f=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===ht.timestamp&&(f=!1),f)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;$t(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,d=this.treeScale.y;Sw(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=it());const{target:g}=c;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xu(this.prevProjectionDelta.x,this.projectionDelta.x),xu(this.prevProjectionDelta.y,this.projectionDelta.y)),$r(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==a||this.treeScale.y!==d||!ju(this.projectionDelta.x,this.prevProjectionDelta.x)||!ju(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=lr(),this.projectionDelta=lr(),this.projectionDeltaWithTransform=lr()}setAnimationOrigin(c,u=!1){const f=this.snapshot,m=f?f.latestValues:{},y={...this.latestValues},a=lr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const d=it(),g=f?f.source:void 0,_=this.layout?this.layout.source:void 0,T=g!==_,j=this.getStack(),k=!j||j.members.length<=1,z=!!(T&&!k&&this.options.crossfade===!0&&!this.path.some(iT));this.animationProgress=0;let F;this.mixTargetDelta=G=>{const X=G/1e3;Eu(a.x,c.x,X),Eu(a.y,c.y,X),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Lr(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rT(this.relativeTarget,this.relativeTargetOrigin,d,X),F&&Vk(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=it()),$t(F,this.relativeTarget)),T&&(this.animationValues=y,Rk(y,m,this.latestValues,X,z,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var u,f,m;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(m=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||m.stop(),this.pendingAnimation&&(bn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qe.update(()=>{Zi.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=vr(0)),this.currentAnimation=Ek(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),c.onUpdate&&c.onUpdate(y)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Zk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:f,layout:m,latestValues:y}=c;if(!(!u||!f||!m)){if(this!==c&&this.layout&&m&&Tf(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||it();const a=St(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+a;const d=St(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+d}$t(u,f),cr(u,y),$r(this.projectionDeltaWithTransform,this.layoutCorrected,u,y)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new Uk),this.sharedNodes.get(c).add(u);const m=u.options.initialPromotionConfig;u.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var u;const{layoutId:c}=this.options;return c?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:c}=this.options;return c?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const m={};f.z&&ga("z",c,m,this.animationValues);for(let y=0;y<va.length;y++)ga(`rotate${va[y]}`,c,m,this.animationValues),ga(`skew${va[y]}`,c,m,this.animationValues);c.render();for(const y in m)c.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);c.scheduleRender()}applyProjectionStyles(c,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Ki(u==null?void 0:u.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Ki(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Nn(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=m.animationValues||m.latestValues;this.applyTransformsToTarget();let a=Kk(this.projectionDeltaWithTransform,this.treeScale,y);f&&(a=f(y,a)),c.transform=a;const{x:d,y:g}=this.projectionDelta;c.transformOrigin=`${d.origin*100}% ${g.origin*100}% 0`,m.animationValues?c.opacity=m===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const _ in Qr){if(y[_]===void 0)continue;const{correct:T,applyTo:j,isCSSVariable:k}=Qr[_],z=a==="none"?y[_]:T(y[_],m);if(j){const F=j.length;for(let G=0;G<F;G++)c[j[G]]=z}else k?this.options.visualElement.renderState.vars[_]=z:c[_]=z}this.options.layoutId&&(c.pointerEvents=m===this?Ki(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(Pu),this.root.sharedNodes.clear()}}}function Wk(e){e.updateLayout()}function Hk(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?Lt(a=>{const d=c?t.measuredBox[a]:t.layoutBox[a],g=St(d);d.min=r[a].min,d.max=d.min+g}):Tf(l,t.layoutBox,r)&&Lt(a=>{const d=c?t.measuredBox[a]:t.layoutBox[a],g=St(r[a]);d.max=d.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[a].max=e.relativeTarget[a].min+g)});const u=lr();$r(u,r,t.layoutBox);const f=lr();c?$r(f,e.applyTransform(i,!0),t.measuredBox):$r(f,r,t.layoutBox);const m=!bf(u);let y=!1;if(!e.resumeFrom){const a=e.getClosestProjectingParent();if(a&&!a.resumeFrom){const{snapshot:d,layout:g}=a;if(d&&g){const _=it();Lr(_,t.layoutBox,d.layoutBox);const T=it();Lr(T,r,g.layoutBox),_f(_,T)||(y=!0),a.options.layoutRoot&&(e.relativeTarget=T,e.relativeTargetOrigin=_,e.relativeParent=a)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:f,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:y})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Gk(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Yk(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Xk(e){e.clearSnapshot()}function Pu(e){e.clearMeasurements()}function Cu(e){e.isLayoutDirty=!1}function Qk(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Du(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Jk(e){e.resolveTargetDelta()}function eT(e){e.calcProjection()}function tT(e){e.resetSkewAndRotation()}function nT(e){e.removeLeadSnapshot()}function Eu(e,t,n){e.translate=Ye(t.translate,0,n),e.scale=Ye(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Ou(e,t,n,r){e.min=Ye(t.min,n.min,r),e.max=Ye(t.max,n.max,r)}function rT(e,t,n,r){Ou(e.x,t.x,n.x,r),Ou(e.y,t.y,n.y,r)}function iT(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const oT={duration:.45,ease:[.4,0,.1,1]},Nu=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Mu=Nu("applewebkit/")&&!Nu("chrome/")?Math.round:Vt;function Iu(e){e.min=Mu(e.min),e.max=Mu(e.max)}function aT(e){Iu(e.x),Iu(e.y)}function Tf(e,t,n){return e==="position"||e==="preserve-aspect"&&!dk(Au(t),Au(n),.2)}function sT(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const cT=kf({attachResizeListener:(e,t)=>Jr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ya={current:void 0},Sf=kf({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ya.current){const e=new cT({});e.mount(window),e.setOptions({layoutScroll:!0}),ya.current=e}return ya.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),lT={pan:{Feature:jk},drag:{Feature:Ak,ProjectionNode:Sf,MeasureLayout:gf}};function Ru(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,l=r[i];l&&qe.postRender(()=>l(t,oi(t)))}class uT extends kn{mount(){const{current:t}=this.node;t&&(this.unmount=R_(t,(n,r)=>(Ru(this.node,r,"Start"),i=>Ru(this.node,i,"End"))))}unmount(){}}class pT extends kn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ni(Jr(this.node.current,"focus",()=>this.onFocus()),Jr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function zu(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),l=r[i];l&&qe.postRender(()=>l(t,oi(t)))}class dT extends kn{mount(){const{current:t}=this.node;t&&(this.unmount=L_(t,(n,r)=>(zu(this.node,r,"Start"),(i,{success:l})=>zu(this.node,i,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const is=new WeakMap,xa=new WeakMap,fT=e=>{const t=is.get(e.target);t&&t(e)},hT=e=>{e.forEach(fT)};function mT({root:e,...t}){const n=e||document;xa.has(n)||xa.set(n,{});const r=xa.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(hT,{root:e,...t})),r[i]}function vT(e,t,n){const r=mT(t);return is.set(e,n),r.observe(e),()=>{is.delete(e),r.unobserve(e)}}const gT={some:0,all:1};class yT extends kn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:gT[i]},u=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:a}=this.node.getProps(),d=m?y:a;d&&d(f)};return vT(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(xT(t,n))&&this.startObserver()}unmount(){}}function xT({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const bT={inView:{Feature:yT},tap:{Feature:dT},focus:{Feature:pT},hover:{Feature:uT}},_T={layout:{ProjectionNode:Sf,MeasureLayout:gf}},wT={...ak,...bT,...lT,..._T},kT=ww(wT,Iw),TT=({color:e,label:t,isActive:n,onClick:r})=>x.jsx("button",{type:"button",onClick:r,"aria-label":`Switch to ${t}`,className:`h-9 w-9 rounded-full border-2 transition duration-200 ease-out focus:outline-none ${n?"scale-110":"hover:scale-105"}`,style:{backgroundColor:e,borderColor:n?"rgb(var(--accent-400))":"rgba(0,0,0,0.05)",boxShadow:n?"0 0 0 4px rgba(255,255,255,0.8), 0 10px 18px rgba(0,0,0,0.12)":"0 6px 14px rgba(0,0,0,0.08)"}}),ST=[{id:"white",label:"White",swatch:"#ffffff"},{id:"green",label:"Mint green",swatch:"#bbf7d0"},{id:"blue",label:"Sky blue",swatch:"#bae6fd"},{id:"yellow",label:"Butter yellow",swatch:"#fef08a"},{id:"purple",label:"Lavender",swatch:"#ddd6fe"},{id:"pink",label:"Blush pink",swatch:"#fecdd3"},{id:"dark",label:"Dark",swatch:"#202024"}],AT=({theme:e,onChange:t})=>x.jsx("div",{className:"fixed bottom-4 left-1/2 z-30 -translate-x-1/2",children:x.jsx(kT.div,{drag:!0,dragMomentum:!1,dragElastic:.12,whileTap:{scale:.97},onPointerDown:n=>{const r=n.target;r&&r.closest("button")&&n.stopPropagation()},className:"theme-bar flex items-center gap-2 rounded-full border px-3 py-2 cursor-grab active:cursor-grabbing select-none",children:ST.map(n=>x.jsx(TT,{color:n.swatch,label:n.label,isActive:n.id===e,onClick:()=>t(n.id)},n.id))})}),ba=(e,t)=>({id:Nt(),type:"wait",amount:e,unit:t}),Fu=(e,t)=>({id:Nt(),type:"waitUntil",time:e,ampm:t}),Mr=(e,t="",n=1e4,r=.2)=>({id:Nt(),type:"notifyUntil",title:e,body:t,label:"Beep",timeoutMs:n,soundType:"default",interval:r}),_a=(e,t)=>({id:Nt(),type:"loop",repeat:e,children:t}),Li=(e,t,n,r)=>({...e,name:t,mode:n,blocks:r}),jT=e=>os(e,"MM/dd/yy hh:mm:ss a"),PT=()=>{const{timers:e,createTimer:t,updateTimer:n,deleteTimer:r,ready:i}=Uy(),[l,c]=L.useState("grid"),[u,f]=L.useState(null),[m,y]=L.useState(null),[a,d]=L.useState(null),[g,_]=L.useState(null),[T,j]=L.useState(!1),[k,z]=L.useState("timer"),[F,G]=L.useState(5),[X,J]=L.useState(0),[W,V]=L.useState(25),[ne,le]=L.useState(5),[ve,Pe]=L.useState("07:00"),[Ae,ye]=L.useState("AM"),[Ie,ot]=L.useState(""),[Ee,fe]=L.useState(null),[Se,U]=L.useState({}),[ue,Z]=L.useState(()=>typeof window<"u"&&localStorage.getItem("alarm-theme")||"dark"),{isRunning:se,getActiveBlockId:be,getRemainingMs:Re,getElapsedMs:we,start:Oe,pause:vt,stop:de,resetStopwatch:Kt}=rx();L.useEffect(()=>(T||g?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[T,g]);const Fe=e.find(Y=>Y.id===u),pt=e.find(Y=>Y.id===m)??((Ee==null?void 0:Ee.id)===m?Ee:Ee??void 0),_e=()=>{Fe&&(U(Y=>({...Y,[Fe.id]:!0})),Oe(Fe))},He=()=>{Fe&&vt(Fe)},gt=()=>{Fe&&(Fe.mode==="simpleStopwatch"?(Kt(Fe.id),de(Fe.id),U(Y=>({...Y,[Fe.id]:!1}))):(de(Fe.id),U(Y=>({...Y,[Fe.id]:!1}))))},$e=()=>{if(!Fe||Fe.mode!=="simpleStopwatch")return;const Y=we(Fe.id)??0,H=Date.now(),xe={id:Nt(),name:jT(H),elapsedMs:Y,loggedAt:H},Ne={...Fe,logs:[...Fe.logs??[],xe]};n(Ne)},kt=Y=>{const H=Y.split(/\r?\n/).map(yt=>yt.trim()).filter(Boolean);if(!H.length)return[];const xe=H[0].split(",").map(yt=>yt.trim().toLowerCase()),Ne=xe.indexOf("name"),Je=xe.indexOf("time"),ee=xe.indexOf("ampm"),ft=xe.indexOf("repeat"),At=[];for(let yt=1;yt<H.length;yt++){const zt=H[yt].split(",").map(kr=>kr.trim());if(Je===-1||zt.length<=Je)continue;const wr=zt[Je]||"",ko=rr(wr,"07:00"),To=ee!==-1&&zt[ee]&&zt[ee].toUpperCase()==="PM"?"PM":"AM",cn=ft!==-1&&zt[ft].toLowerCase()==="daily"?"daily":"once",ln=Ne!==-1&&zt[Ne]?zt[Ne]:`Imported Alarm ${At.length+1}`;At.push({name:ln,time:ko,ampm:To,repeat:cn})}return At},Zt=()=>{const Y=kt(Ie);if(!Y.length){alert("No alarms found in CSV. Expected headers: name,time,ampm,repeat.");return}Y.forEach(({name:H,time:xe,ampm:Ne,repeat:Je})=>{const ee=t();if(!ee)return;const ft=Fu(xe,Ne),At=Mr(Je==="daily"?"Daily alarm":"Alarm","Alarm is about to play.",6e4),yt=Je==="daily"?[_a(-1,[ft,At])]:[ft,At],zt=Li(ee,H,"alarm",yt);n(zt)}),ot(""),d(null),y(null),fe(null),z("timer"),j(!1),c("grid")},It=Y=>{Y.locked||(se(Y.id)&&de(Y.id),d(null),y(Y.id),c("editor"))},dt=Y=>{var H;try{const xe=nr.parse(Y);n(xe),d(Ne=>Ne===Y.id?null:Ne),y(null),fe(null),c("grid")}catch(xe){const Ne=((H=xe==null?void 0:xe.errors)==null?void 0:H.map(Je=>Je.message).join("; "))||"Please check your timer inputs.";alert(`Validation failed: ${Ne}`)}},Tn=Y=>{se(Y.id)&&de(Y.id),u===Y.id&&f(null),r(Y.id),_(null),U(H=>{const xe={...H};return delete xe[Y.id],xe})},Ht=()=>{m&&a===m&&(r(m),u===m&&f(null)),d(null),y(null),fe(null),c("grid")},ce=()=>{const Y=Math.max(0,Math.min(59,Math.floor(Number(F)||0))),H=Math.max(0,Math.min(59,Math.floor(Number(X)||0)));let xe=Y*60+H;xe===0&&(xe=60,G(1),J(0));const Ne=t();if(!Ne)return;const Je=H===0?"minutes":"seconds",ee=H===0?Math.max(1,Y):Y===0?H:xe,ft=[ba(ee,Je),Mr("Timer complete","")],At=Li(Ne,"Quick Timer","stopwatch",ft);n(At),d(null),y(null),fe(null),f(At.id),j(!1),z("timer"),c("grid")},he=()=>{const Y=t();if(!Y)return;const H={...Y,name:"Stopwatch",mode:"simpleStopwatch",blocks:[],locked:!1,logs:[]};n(H),d(null),y(null),fe(null),f(H.id),j(!1),z("timer"),c("grid")},Be=()=>{const Y=t();if(!Y)return;const H=Math.max(1,Math.min(180,Math.floor(Number(W)||25))),xe=Math.max(1,Math.min(120,Math.floor(Number(ne)||5))),Ne=ba(H,"minutes"),Je=ba(xe,"minutes"),ee=_a(4,[Ne,Mr("Work complete","A chime will play now.",5e3),Je,Mr("Break complete","A chime will play now.",5e3)]),ft=Li(Y,"Pomodoro","stopwatch",[ee]);n(ft),d(null),y(null),fe(null),f(ft.id),j(!1),z("timer"),c("grid")},Ve=Y=>{const H=rr(ve,"07:00"),[xe,Ne]=H.split(":"),Je=t();if(!Je)return;const ee=Fu(`${xe}:${Ne}`,Ae),ft=Mr(Y?"Daily alarm":"Alarm","Alarm is about to play.",6e4),At=Y?[_a(-1,[ee,ft])]:[ee,ft],yt=Li(Je,Y?"Daily Alarm":"Quick Alarm","alarm",At);n(yt),d(null),y(null),fe(null),f(yt.id),j(!1),z("timer"),c("grid")},st=()=>{const Y=t();Y&&(fe(Y),d(Y.id),y(Y.id),j(!1),z("timer"),c("editor"))},Ct=()=>{k==="timer"?ce():k==="alarm"?Ve(!1):k==="daily"?Ve(!0):k==="pomodoro"?Be():k==="stopwatch"?he():k==="import"?Zt():k==="custom"&&st()};L.useEffect(()=>{l==="editor"&&(j(!1),z("timer"))},[l]),L.useEffect(()=>{document.documentElement.setAttribute("data-theme",ue),typeof window<"u"&&(localStorage.setItem("alarm-theme",ue),document.title="Universal Timer")},[ue]);const Rt=rr(ve,"07:00"),[Gt,Dt]=Rt.split(":"),Yt=Array.from({length:12},(Y,H)=>(H+1).toString()),Xt=Array.from({length:60},(Y,H)=>H.toString().padStart(2,"0"));return x.jsxs(x.Fragment,{children:[!i&&x.jsx("div",{className:"app-shell animate-fade-in-up",children:x.jsx("div",{className:"w-full max-w-4xl pastel-card pastel-hover p-6 text-center",children:x.jsx("p",{className:"text-sm text-accent-400",children:"Loading timersâ¦"})})}),i&&l==="grid"&&x.jsxs("div",{className:"app-shell animate-fade-in-up",children:[x.jsxs("div",{className:"w-full max-w-4xl mb-4 text-center",children:[x.jsx("h1",{className:"text-2xl sm:text-3xl font-semibold text-accent-600 mb-1",children:"Universal Timer"}),x.jsx("p",{className:"text-xs sm:text-sm text-accent-400",children:"Build flexible, sequence-based timers. Infinitely customizable!"})]}),x.jsx(hx,{timer:Fe??e[0]??{id:"",name:"",blocks:[]},isVisible:!!Fe,activeBlockId:be(u),isRunning:se(u),remainingMs:u?Re(u):null,elapsedMs:u?we(u):null,hasStarted:u?!!Se[u]:!1,onClose:()=>f(null),onPlay:_e,onPause:He,onRestart:gt,onLog:$e}),x.jsx(ox,{timers:e,activeTimerId:u??void 0,onSelectTimer:Y=>f(Y.id),onEditTimer:It,onDeleteTimer:(Y,H)=>{if(H==null?void 0:H.skipConfirm){Tn(Y);return}_(Y)},onCreateTimer:()=>{z("timer"),j(!0)},isTimerRunning:se})]}),i&&l==="editor"&&pt&&(pt.mode==="simpleStopwatch"?x.jsx(Kb,{timer:pt,onBack:Ht,onSave:dt}):x.jsx(Bb,{timer:pt,onBack:Ht,onSave:dt})),x.jsx(AT,{theme:ue,onChange:Z}),x.jsx("footer",{className:"fixed bottom-3 right-4 z-20",children:x.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-accent-50-90 border border-accent-100 px-3 py-1 text-[11px] sm:text-xs text-accent-400 shadow-accent-faint backdrop-blur",children:[x.jsx("a",{href:"https://github.com/theuniversaltimer/theuniversaltimer.github.io",className:"font-medium text-accent-500 hover:text-accent-600",target:"_blank",rel:"noreferrer",children:"GitHub repo"}),x.jsx("span",{className:"text-accent-300",children:"â¢"}),x.jsx("a",{href:"https://github.com/theuniversaltimer/theuniversaltimer.github.io/blob/main/LICENSE",className:"hover:text-accent-500",target:"_blank",rel:"noreferrer",children:"MIT License"})]})}),l==="grid"&&T&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 z-40 bg-slate-900/20 backdrop-blur-sm pointer-events-none"}),x.jsx("div",{className:"fixed inset-0 z-40 overflow-y-scroll",children:x.jsx("div",{className:"min-h-screen flex items-start justify-center px-4 py-6 sm:py-12",children:x.jsxs("div",{className:"pastel-card w-full max-w-4xl shadow-accent-soft p-6",children:[x.jsxs("div",{className:"flex items-start justify-between mb-4",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs uppercase tracking-wide text-accent-300",children:"Choose a template"}),x.jsx("p",{className:"text-base font-semibold text-accent-600",children:"Start quickly with a preset or build your own."})]}),x.jsx("button",{type:"button",onClick:()=>{j(!1),z("timer")},className:"soft-button bg-accent-50 hover:bg-accent-100 text-xs px-2 py-1",children:"â"})]}),x.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3 md:gap-4 items-start",children:[x.jsxs("button",{type:"button",className:`pastel-card pastel-hover text-left p-4 h-full items-start min-w-[140px] ${k==="alarm"?"soft-glow":""}`,onClick:()=>z("alarm"),children:[x.jsx("p",{className:"text-sm font-semibold text-accent-600 mb-1 whitespace-nowrap",children:"Quick Alarm"}),x.jsx("p",{className:"text-xs text-accent-400 min-h-[32px] leading-tight",children:"Rings at a set time."})]}),x.jsxs("button",{type:"button",className:`pastel-card pastel-hover text-left p-4 h-full items-start min-w-[140px] ${k==="timer"?"soft-glow":""}`,onClick:()=>z("timer"),children:[x.jsx("p",{className:"text-sm font-semibold text-accent-600 mb-1 whitespace-nowrap",children:"Quick Timer"}),x.jsx("p",{className:"text-xs text-accent-400 min-h-[32px] leading-tight",children:"Runs for a set time."})]}),x.jsxs("button",{type:"button",className:`pastel-card pastel-hover text-left p-4 h-full items-start min-w-[140px] ${k==="stopwatch"?"soft-glow":""}`,onClick:()=>z("stopwatch"),children:[x.jsx("p",{className:"text-sm font-semibold text-accent-600 mb-1 whitespace-nowrap",children:"Stopwatch"}),x.jsx("p",{className:"text-xs text-accent-400 min-h-[32px] leading-tight",children:"Counts up from zero."})]}),x.jsxs("button",{type:"button",className:`pastel-card pastel-hover text-left p-4 h-full items-start min-w-[140px] ${k==="daily"?"soft-glow":""}`,onClick:()=>z("daily"),children:[x.jsx("p",{className:"text-sm font-semibold text-accent-600 mb-1 whitespace-nowrap",children:"Daily Alarm"}),x.jsx("p",{className:"text-xs text-accent-400 min-h-[32px] leading-tight",children:"Rings daily at a set time."})]}),x.jsxs("button",{type:"button",className:`pastel-card pastel-hover text-left p-4 h-full items-start min-w-[140px] ${k==="pomodoro"?"soft-glow":""}`,onClick:()=>z("pomodoro"),children:[x.jsx("p",{className:"text-sm font-semibold text-accent-600 mb-1 whitespace-nowrap",children:"Pomodoro Timer"}),x.jsx("p",{className:"text-xs text-accent-400 min-h-[32px] leading-tight",children:"Work/break cycles for focused sessions."})]}),x.jsxs("button",{type:"button",className:`pastel-card pastel-hover text-left p-4 h-full items-start min-w-[140px] ${k==="import"?"soft-glow":""}`,onClick:()=>z("import"),children:[x.jsx("p",{className:"text-sm font-semibold text-accent-600 mb-1 whitespace-nowrap",children:"Import Alarms"}),x.jsx("p",{className:"text-xs text-accent-400 min-h-[32px] leading-tight",children:"Upload a CSV with multiple alarms."})]}),x.jsxs("button",{type:"button",className:`pastel-card pastel-hover text-left p-4 h-full items-start min-w-[140px] ${k==="custom"?"soft-glow":""}`,onClick:()=>z("custom"),children:[x.jsx("p",{className:"text-sm font-semibold text-accent-600 mb-1 whitespace-nowrap",children:"Custom Timer"}),x.jsx("p",{className:"text-xs text-accent-400 min-h-[32px] leading-tight",children:"Open the editor to build your own timer or import CSV."})]})]}),x.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row flex-wrap gap-3 items-stretch",children:[k==="timer"&&x.jsxs("div",{className:"pastel-card p-3 flex-1 min-w-[260px]",children:[x.jsx("p",{className:"text-xs uppercase tracking-wide text-accent-300 mb-1",children:"Duration"}),x.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[x.jsxs("div",{className:"flex flex-col gap-1 flex-1 min-w-[160px]",children:[x.jsx("span",{className:"text-[11px] uppercase tracking-wide text-accent-300",children:"Minutes"}),x.jsx("input",{type:"number",min:0,max:59,className:"soft-input w-full",value:F,onChange:Y=>G(Math.max(0,Math.min(59,Math.floor(Number(Y.target.value)||0))))})]}),x.jsxs("div",{className:"flex flex-col gap-1 flex-1 min-w-[160px]",children:[x.jsx("span",{className:"text-[11px] uppercase tracking-wide text-accent-300",children:"Seconds"}),x.jsx("input",{type:"number",min:0,max:59,className:"soft-input w-full",value:X,onChange:Y=>J(Math.max(0,Math.min(59,Math.floor(Number(Y.target.value)||0))))})]})]})]}),(k==="alarm"||k==="daily")&&x.jsxs("div",{className:"pastel-card p-3 flex-1 min-w-[260px]",children:[x.jsx("p",{className:"text-xs uppercase tracking-wide text-accent-300 mb-1",children:"Alarm time"}),x.jsxs("div",{className:"flex items-end gap-3 flex-wrap",children:[x.jsx("div",{className:"flex-1 min-w-[120px]",children:x.jsx("select",{className:"soft-input w-full",value:Gt,onChange:Y=>Pe(H=>{const[,xe]=rr(H,"07:00").split(":");return`${Y.target.value}:${xe}`}),children:Yt.map(Y=>x.jsx("option",{value:Y,children:Y},Y))})}),x.jsx("span",{className:"text-accent-400 pb-2",children:":"}),x.jsx("div",{className:"flex-1 min-w-[120px]",children:x.jsx("select",{className:"soft-input w-full",value:Dt,onChange:Y=>Pe(H=>{const[xe]=rr(H,"07:00").split(":");return`${xe}:${Y.target.value}`}),children:Xt.map(Y=>x.jsx("option",{value:Y,children:Y},Y))})}),x.jsx("div",{className:"flex-1 min-w-[120px]",children:x.jsxs("select",{className:"soft-input w-full",value:Ae,onChange:Y=>ye(Y.target.value),children:[x.jsx("option",{value:"AM",children:"AM"}),x.jsx("option",{value:"PM",children:"PM"})]})})]})]}),k==="import"&&x.jsxs("div",{className:"pastel-card p-3 flex-1 min-w-[260px]",children:[x.jsx("p",{className:"text-xs uppercase tracking-wide text-accent-300 mb-1",children:"Upload CSV"}),x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsxs("label",{className:"soft-input text-center cursor-pointer",onDragOver:Y=>Y.preventDefault(),onDrop:Y=>{var xe;Y.preventDefault();const H=(xe=Y.dataTransfer.files)==null?void 0:xe[0];H&&H.text().then(Ne=>ot(Ne))},children:[x.jsx("input",{type:"file",accept:".csv,text/csv",className:"hidden",onChange:Y=>{var xe;const H=(xe=Y.target.files)==null?void 0:xe[0];H&&H.text().then(Ne=>ot(Ne))}}),"Drag or click to upload CSV"]}),x.jsx("textarea",{className:"soft-input min-h-[120px]",value:Ie,onChange:Y=>ot(Y.target.value),placeholder:`name,time,ampm,repeat
Morning Alarm,07:00,AM,daily`}),x.jsx("p",{className:"text-[11px] text-accent-400",children:'Headers: name,time,ampm,repeat. Repeat supports "daily" or "once".'})]})]}),k==="pomodoro"&&x.jsxs("div",{className:"pastel-card p-3 flex-1 min-w-[260px]",children:[x.jsx("p",{className:"text-xs uppercase tracking-wide text-accent-300 mb-1",children:"Pomodoro settings"}),x.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[x.jsxs("div",{className:"flex flex-col gap-1 flex-1 min-w-[160px]",children:[x.jsx("span",{className:"text-[11px] uppercase tracking-wide text-accent-300",children:"Work (minutes)"}),x.jsx("input",{type:"number",min:1,max:180,className:"soft-input w-full",value:W,onChange:Y=>V(Math.max(1,Math.min(180,Math.floor(Number(Y.target.value)||0))))})]}),x.jsxs("div",{className:"flex flex-col gap-1 flex-1 min-w-[160px]",children:[x.jsx("span",{className:"text-[11px] uppercase tracking-wide text-accent-300",children:"Break (minutes)"}),x.jsx("input",{type:"number",min:1,max:120,className:"soft-input w-full",value:ne,onChange:Y=>le(Math.max(1,Math.min(120,Math.floor(Number(Y.target.value)||0))))})]})]})]}),x.jsxs("div",{className:"w-full flex justify-end items-end gap-2",children:[x.jsx("button",{type:"button",className:"soft-button bg-accent-50 hover:bg-accent-100 text-accent-500",onClick:()=>{z("timer"),j(!1)},children:"Cancel"}),x.jsxs("button",{type:"button",className:"soft-button-primary",disabled:!k,onClick:Ct,children:[k==="timer"&&"Create Quick Timer",k==="stopwatch"&&"Create Stopwatch",k==="import"&&"Import Alarms",k==="alarm"&&"Create Quick Alarm",k==="daily"&&"Create Daily Alarm",k==="pomodoro"&&"Create Pomodoro Timer",k==="custom"&&"Create Custom Timer"]})]})]})]})})})]}),g&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 z-40 bg-slate-900/20 backdrop-blur-sm pointer-events-none"}),x.jsx("div",{className:"fixed inset-0 z-40 overflow-y-scroll",children:x.jsx("div",{className:"min-h-screen flex items-start justify-center px-4 py-6 sm:py-12",children:x.jsxs("div",{className:"pastel-card w-full max-w-sm shadow-accent-soft p-5",children:[x.jsxs("div",{className:"flex items-start justify-between gap-3 mb-4",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs uppercase tracking-wide text-accent-300",children:"Confirm delete"}),x.jsxs("p",{className:"text-base font-semibold text-accent-600",children:["Delete â",g.name||"Untitled Timer","â?"]})]}),x.jsx("button",{type:"button",onClick:()=>_(null),className:"soft-button bg-accent-50 hover:bg-accent-100 text-xs px-2 py-1",children:"â"})]}),x.jsx("p",{className:"text-sm text-accent-400 mb-5",children:"This will remove the timer and all its blocks. This can't be undone."}),x.jsxs("div",{className:"flex items-start justify-between gap-3",children:[x.jsx("p",{className:"text-xs text-accent-300 -mt-1",children:"Tip: hold Shift while deleting to skip this warning."}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{type:"button",onClick:()=>_(null),className:"soft-button bg-accent-50 hover:bg-accent-100 text-accent-500",children:"Cancel"}),x.jsx("button",{type:"button",onClick:()=>Tn(g),className:"soft-button-primary",children:"Delete"})]})]})]})})})]})]})};wa.createRoot(document.getElementById("root")).render(x.jsx(ct.StrictMode,{children:x.jsx(PT,{})}));
