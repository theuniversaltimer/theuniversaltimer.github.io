var Gf=Object.defineProperty;var Yf=(e,t,n)=>t in e?Gf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Mc=(e,t,n)=>Yf(e,typeof t!="symbol"?t+"":t,n);import{r as z,a as Xf,c as wn,g as vo,R as ut}from"./react-KfUPlHYY.js";import{p as Ic,i as Rc,s as Qf,a as Jf,b as eh,d as ri,f as ls}from"./time-DhmfmXrz.js";import{u as Vu,a as Uu,D as th,C as nh,b as rh,c as zc,d as ih,p as oh,P as ah,T as sh}from"./dnd-BfVGLKFP.js";function ch(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const c=Object.getOwnPropertyDescriptor(r,i);c&&Object.defineProperty(e,i,c.get?c:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(i){if(i.ep)return;i.ep=!0;const c=n(i);fetch(i.href,c)}})();var Ku={exports:{}},go={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lh=z,uh=Symbol.for("react.element"),dh=Symbol.for("react.fragment"),ph=Object.prototype.hasOwnProperty,fh=lh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hh={key:!0,ref:!0,__self:!0,__source:!0};function Zu(e,t,n){var r,i={},c=null,l=null;n!==void 0&&(c=""+n),t.key!==void 0&&(c=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)ph.call(t,r)&&!hh.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:uh,type:e,key:c,ref:l,props:i,_owner:fh.current}}go.Fragment=dh;go.jsx=Zu;go.jsxs=Zu;Ku.exports=go;var y=Ku.exports,Aa={},Fc=Xf;Aa.createRoot=Fc.createRoot,Aa.hydrateRoot=Fc.hydrateRoot;function Ot(){return"blk_"+Math.random().toString(36).slice(2,8)+"_"+Date.now().toString(36)}var qu={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(wn,function(){var n=function(o,s){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(d[v]=h[v])})(o,s)},r=function(){return(r=Object.assign||function(o){for(var s,d=1,h=arguments.length;d<h;d++)for(var v in s=arguments[d])Object.prototype.hasOwnProperty.call(s,v)&&(o[v]=s[v]);return o}).apply(this,arguments)};function i(o,s,d){for(var h,v=0,b=s.length;v<b;v++)!h&&v in s||((h=h||Array.prototype.slice.call(s,0,v))[v]=s[v]);return o.concat(h||Array.prototype.slice.call(s))}var c=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:wn,l=Object.keys,u=Array.isArray;function f(o,s){return typeof s!="object"||l(s).forEach(function(d){o[d]=s[d]}),o}typeof Promise>"u"||c.Promise||(c.Promise=Promise);var m=Object.getPrototypeOf,x={}.hasOwnProperty;function a(o,s){return x.call(o,s)}function p(o,s){typeof s=="function"&&(s=s(m(o))),(typeof Reflect>"u"?l:Reflect.ownKeys)(s).forEach(function(d){_(o,d,s[d])})}var g=Object.defineProperty;function _(o,s,d,h){g(o,s,f(d&&a(d,"get")&&typeof d.get=="function"?{get:d.get,set:d.set,configurable:!0}:{value:d,configurable:!0,writable:!0},h))}function T(o){return{from:function(s){return o.prototype=Object.create(s.prototype),_(o.prototype,"constructor",o),{extend:p.bind(null,o.prototype)}}}}var j=Object.getOwnPropertyDescriptor,k=[].slice;function F(o,s,d){return k.call(o,s,d)}function $(o,s){return s(o)}function Y(o){if(!o)throw new Error("Assertion Failed")}function X(o){c.setImmediate?setImmediate(o):setTimeout(o,0)}function Q(o,s){if(typeof s=="string"&&a(o,s))return o[s];if(!s)return o;if(typeof s!="string"){for(var d=[],h=0,v=s.length;h<v;++h){var b=Q(o,s[h]);d.push(b)}return d}var w=s.indexOf(".");if(w!==-1){var S=o[s.substr(0,w)];return S==null?void 0:Q(S,s.substr(w+1))}}function q(o,s,d){if(o&&s!==void 0&&!("isFrozen"in Object&&Object.isFrozen(o)))if(typeof s!="string"&&"length"in s){Y(typeof d!="string"&&"length"in d);for(var h=0,v=s.length;h<v;++h)q(o,s[h],d[h])}else{var b,w,S=s.indexOf(".");S!==-1?(b=s.substr(0,S),(w=s.substr(S+1))===""?d===void 0?u(o)&&!isNaN(parseInt(b))?o.splice(b,1):delete o[b]:o[b]=d:q(S=!(S=o[b])||!a(o,b)?o[b]={}:S,w,d)):d===void 0?u(o)&&!isNaN(parseInt(s))?o.splice(s,1):delete o[s]:o[s]=d}}function V(o){var s,d={};for(s in o)a(o,s)&&(d[s]=o[s]);return d}var ne=[].concat;function ce(o){return ne.apply([],o)}var ue="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ce([8,16,32,64].map(function(o){return["Int","Uint","Float"].map(function(s){return s+o+"Array"})}))).filter(function(o){return c[o]}),xe=new Set(ue.map(function(o){return c[o]})),Oe=null;function Pe(o){return Oe=new WeakMap,o=function s(d){if(!d||typeof d!="object")return d;var h=Oe.get(d);if(h)return h;if(u(d)){h=[],Oe.set(d,h);for(var v=0,b=d.length;v<b;++v)h.push(s(d[v]))}else if(xe.has(d.constructor))h=d;else{var w,S=m(d);for(w in h=S===Object.prototype?{}:Object.create(S),Oe.set(d,h),d)a(d,w)&&(h[w]=s(d[w]))}return h}(o),Oe=null,o}var we={}.toString;function $e(o){return we.call(o).slice(8,-1)}var pt=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ee=typeof pt=="symbol"?function(o){var s;return o!=null&&(s=o[pt])&&s.apply(o)}:function(){return null};function me(o,s){return s=o.indexOf(s),0<=s&&o.splice(s,1),0<=s}var De={};function U(o){var s,d,h,v;if(arguments.length===1){if(u(o))return o.slice();if(this===De&&typeof o=="string")return[o];if(v=Ee(o)){for(d=[];!(h=v.next()).done;)d.push(h.value);return d}if(o==null)return[o];if(typeof(s=o.length)!="number")return[o];for(d=new Array(s);s--;)d[s]=o[s];return d}for(s=arguments.length,d=new Array(s);s--;)d[s]=arguments[s];return d}var pe=typeof Symbol<"u"?function(o){return o[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},fe=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ut=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(fe),ge={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ke(o,s){this.name=o,this.message=s}function Ze(o,s){return o+". Errors: "+Object.keys(s).map(function(d){return s[d].toString()}).filter(function(d,h,v){return v.indexOf(d)===h}).join(`
`)}function yt(o,s,d,h){this.failures=s,this.failedKeys=h,this.successCount=d,this.message=Ze(o,s)}function Ae(o,s){this.name="BulkError",this.failures=Object.keys(s).map(function(d){return s[d]}),this.failuresByPos=s,this.message=Ze(o,this.failures)}T(ke).from(Error).extend({toString:function(){return this.name+": "+this.message}}),T(yt).from(ke),T(Ae).from(ke);var Le=Ut.reduce(function(o,s){return o[s]=s+"Error",o},{}),Rt=ke,le=Ut.reduce(function(o,s){var d=s+"Error";function h(v,b){this.name=d,v?typeof v=="string"?(this.message="".concat(v).concat(b?`
 `+b:""),this.inner=b||null):typeof v=="object"&&(this.message="".concat(v.name," ").concat(v.message),this.inner=v):(this.message=ge[s]||d,this.inner=null)}return T(h).from(Rt),o[s]=h,o},{});le.Syntax=SyntaxError,le.Type=TypeError,le.Range=RangeError;var Yt=fe.reduce(function(o,s){return o[s+"Error"]=le[s],o},{}),Ue=Ut.reduce(function(o,s){return["Syntax","Type","Range"].indexOf(s)===-1&&(o[s+"Error"]=le[s]),o},{});function Me(){}function H(o){return o}function he(o,s){return o==null||o===H?s:function(d){return s(o(d))}}function ye(o,s){return function(){o.apply(this,arguments),s.apply(this,arguments)}}function Be(o,s){return o===Me?s:function(){var d=o.apply(this,arguments);d!==void 0&&(arguments[0]=d);var h=this.onsuccess,v=this.onerror;this.onsuccess=null,this.onerror=null;var b=s.apply(this,arguments);return h&&(this.onsuccess=this.onsuccess?ye(h,this.onsuccess):h),v&&(this.onerror=this.onerror?ye(v,this.onerror):v),b!==void 0?b:d}}function at(o,s){return o===Me?s:function(){o.apply(this,arguments);var d=this.onsuccess,h=this.onerror;this.onsuccess=this.onerror=null,s.apply(this,arguments),d&&(this.onsuccess=this.onsuccess?ye(d,this.onsuccess):d),h&&(this.onerror=this.onerror?ye(h,this.onerror):h)}}function ht(o,s){return o===Me?s:function(d){var h=o.apply(this,arguments);f(d,h);var v=this.onsuccess,b=this.onerror;return this.onsuccess=null,this.onerror=null,d=s.apply(this,arguments),v&&(this.onsuccess=this.onsuccess?ye(v,this.onsuccess):v),b&&(this.onerror=this.onerror?ye(b,this.onerror):b),h===void 0?d===void 0?void 0:d:f(h,d)}}function Pt(o,s){return o===Me?s:function(){return s.apply(this,arguments)!==!1&&o.apply(this,arguments)}}function Lt(o,s){return o===Me?s:function(){var d=o.apply(this,arguments);if(d&&typeof d.then=="function"){for(var h=this,v=arguments.length,b=new Array(v);v--;)b[v]=arguments[v];return d.then(function(){return s.apply(h,b)})}return s.apply(this,arguments)}}Ue.ModifyError=yt,Ue.DexieError=ke,Ue.BulkError=Ae;var xt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function on(o){xt=o}var ft={},se=100,ue=typeof Promise>"u"?[]:function(){var o=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[o,m(o),o];var s=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[s,m(s),o]}(),fe=ue[0],Ut=ue[1],ue=ue[2],Ut=Ut&&Ut.then,Te=fe&&fe.constructor,ze=!!ue,Ne=function(o,s){be.push([o,s]),Je&&(queueMicrotask(Do),Je=!1)},Ge=!0,Je=!0,mt=[],Et=[],Bt=H,G={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Me,pgp:!1,env:{},finalize:Me},W=G,be=[],Re=0,qe=[];function J(o){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var s=this._PSD=W;if(typeof o!="function"){if(o!==ft)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&kt(this,this._value))}this._state=null,this._value=null,++s.ref,function d(h,v){try{v(function(b){if(h._state===null){if(b===h)throw new TypeError("A promise cannot be resolved with itself.");var w=h._lib&&dn();b&&typeof b.then=="function"?d(h,function(S,P){b instanceof J?b._then(S,P):b.then(S,P)}):(h._state=!0,h._value=b,Vt(h)),w&&pn()}},kt.bind(null,h))}catch(b){kt(h,b)}}(this,o)}var bt={get:function(){var o=W,s=pi;function d(h,v){var b=this,w=!o.global&&(o!==W||s!==pi),S=w&&!hn(),P=new J(function(D,O){kr(b,new Nt(ic(h,o,w,S),ic(v,o,w,S),D,O,o))});return this._consoleTask&&(P._consoleTask=this._consoleTask),P}return d.prototype=ft,d},set:function(o){_(this,"then",o&&o.prototype===ft?bt:{get:function(){return o},set:bt.set})}};function Nt(o,s,d,h,v){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof s=="function"?s:null,this.resolve=d,this.reject=h,this.psd=v}function kt(o,s){var d,h;Et.push(s),o._state===null&&(d=o._lib&&dn(),s=Bt(s),o._state=!1,o._value=s,h=o,mt.some(function(v){return v._value===h._value})||mt.push(h),Vt(o),d&&pn())}function Vt(o){var s=o._listeners;o._listeners=[];for(var d=0,h=s.length;d<h;++d)kr(o,s[d]);var v=o._PSD;--v.ref||v.finalize(),Re===0&&(++Re,Ne(function(){--Re==0&&Tr()},[]))}function kr(o,s){if(o._state!==null){var d=o._state?s.onFulfilled:s.onRejected;if(d===null)return(o._state?s.resolve:s.reject)(o._value);++s.psd.ref,++Re,Ne(Po,[d,o,s])}else o._listeners.push(s)}function Po(o,s,d){try{var h,v=s._value;!s._state&&Et.length&&(Et=[]),h=xt&&s._consoleTask?s._consoleTask.run(function(){return o(v)}):o(v),s._state||Et.indexOf(v)!==-1||function(b){for(var w=mt.length;w;)if(mt[--w]._value===b._value)return mt.splice(w,1)}(s),d.resolve(h)}catch(b){d.reject(b)}finally{--Re==0&&Tr(),--d.psd.ref||d.psd.finalize()}}function Do(){jn(G,function(){dn()&&pn()})}function dn(){var o=Ge;return Je=Ge=!1,o}function pn(){var o,s,d;do for(;0<be.length;)for(o=be,be=[],d=o.length,s=0;s<d;++s){var h=o[s];h[0].apply(null,h[1])}while(0<be.length);Je=Ge=!0}function Tr(){var o=mt;mt=[],o.forEach(function(h){h._PSD.onunhandled.call(null,h._value,h)});for(var s=qe.slice(0),d=s.length;d;)s[--d]()}function li(o){return new J(ft,!1,o)}function Ye(o,s){var d=W;return function(){var h=dn(),v=W;try{return mn(d,!0),o.apply(this,arguments)}catch(b){s&&s(b)}finally{mn(v,!1),h&&pn()}}}p(J.prototype,{then:bt,_then:function(o,s){kr(this,new Nt(null,null,o,s,W))},catch:function(o){if(arguments.length===1)return this.then(null,o);var s=o,d=arguments[1];return typeof s=="function"?this.then(null,function(h){return(h instanceof s?d:li)(h)}):this.then(null,function(h){return(h&&h.name===s?d:li)(h)})},finally:function(o){return this.then(function(s){return J.resolve(o()).then(function(){return s})},function(s){return J.resolve(o()).then(function(){return li(s)})})},timeout:function(o,s){var d=this;return o<1/0?new J(function(h,v){var b=setTimeout(function(){return v(new le.Timeout(s))},o);d.then(h,v).finally(clearTimeout.bind(null,b))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&_(J.prototype,Symbol.toStringTag,"Dexie.Promise"),G.env=rc(),p(J,{all:function(){var o=U.apply(null,arguments).map(fi);return new J(function(s,d){o.length===0&&s([]);var h=o.length;o.forEach(function(v,b){return J.resolve(v).then(function(w){o[b]=w,--h||s(o)},d)})})},resolve:function(o){return o instanceof J?o:o&&typeof o.then=="function"?new J(function(s,d){o.then(s,d)}):new J(ft,!0,o)},reject:li,race:function(){var o=U.apply(null,arguments).map(fi);return new J(function(s,d){o.map(function(h){return J.resolve(h).then(s,d)})})},PSD:{get:function(){return W},set:function(o){return W=o}},totalEchoes:{get:function(){return pi}},newPSD:fn,usePSD:jn,scheduler:{get:function(){return Ne},set:function(o){Ne=o}},rejectionMapper:{get:function(){return Bt},set:function(o){Bt=o}},follow:function(o,s){return new J(function(d,h){return fn(function(v,b){var w=W;w.unhandleds=[],w.onunhandled=b,w.finalize=ye(function(){var S,P=this;S=function(){P.unhandleds.length===0?v():b(P.unhandleds[0])},qe.push(function D(){S(),qe.splice(qe.indexOf(D),1)}),++Re,Ne(function(){--Re==0&&Tr()},[])},w.finalize),o()},s,d,h)})}}),Te&&(Te.allSettled&&_(J,"allSettled",function(){var o=U.apply(null,arguments).map(fi);return new J(function(s){o.length===0&&s([]);var d=o.length,h=new Array(d);o.forEach(function(v,b){return J.resolve(v).then(function(w){return h[b]={status:"fulfilled",value:w}},function(w){return h[b]={status:"rejected",reason:w}}).then(function(){return--d||s(h)})})})}),Te.any&&typeof AggregateError<"u"&&_(J,"any",function(){var o=U.apply(null,arguments).map(fi);return new J(function(s,d){o.length===0&&d(new AggregateError([]));var h=o.length,v=new Array(h);o.forEach(function(b,w){return J.resolve(b).then(function(S){return s(S)},function(S){v[w]=S,--h||d(new AggregateError(v))})})})}),Te.withResolvers&&(J.withResolvers=Te.withResolvers));var vt={awaits:0,echoes:0,id:0},Af=0,ui=[],di=0,pi=0,jf=0;function fn(o,s,d,h){var v=W,b=Object.create(v);return b.parent=v,b.ref=0,b.global=!1,b.id=++jf,G.env,b.env=ze?{Promise:J,PromiseProp:{value:J,configurable:!0,writable:!0},all:J.all,race:J.race,allSettled:J.allSettled,any:J.any,resolve:J.resolve,reject:J.reject}:{},s&&f(b,s),++v.ref,b.finalize=function(){--this.parent.ref||this.parent.finalize()},h=jn(b,o,d,h),b.ref===0&&b.finalize(),h}function Xn(){return vt.id||(vt.id=++Af),++vt.awaits,vt.echoes+=se,vt.id}function hn(){return!!vt.awaits&&(--vt.awaits==0&&(vt.id=0),vt.echoes=vt.awaits*se,!0)}function fi(o){return vt.echoes&&o&&o.constructor===Te?(Xn(),o.then(function(s){return hn(),s},function(s){return hn(),st(s)})):o}function Pf(){var o=ui[ui.length-1];ui.pop(),mn(o,!1)}function mn(o,s){var d,h=W;(s?!vt.echoes||di++&&o===W:!di||--di&&o===W)||queueMicrotask(s?(function(v){++pi,vt.echoes&&--vt.echoes!=0||(vt.echoes=vt.awaits=vt.id=0),ui.push(W),mn(v,!0)}).bind(null,o):Pf),o!==W&&(W=o,h===G&&(G.env=rc()),ze&&(d=G.env.Promise,s=o.env,(h.global||o.global)&&(Object.defineProperty(c,"Promise",s.PromiseProp),d.all=s.all,d.race=s.race,d.resolve=s.resolve,d.reject=s.reject,s.allSettled&&(d.allSettled=s.allSettled),s.any&&(d.any=s.any))))}function rc(){var o=c.Promise;return ze?{Promise:o,PromiseProp:Object.getOwnPropertyDescriptor(c,"Promise"),all:o.all,race:o.race,allSettled:o.allSettled,any:o.any,resolve:o.resolve,reject:o.reject}:{}}function jn(o,s,d,h,v){var b=W;try{return mn(o,!0),s(d,h,v)}finally{mn(b,!1)}}function ic(o,s,d,h){return typeof o!="function"?o:function(){var v=W;d&&Xn(),mn(s,!0);try{return o.apply(this,arguments)}finally{mn(v,!1),h&&queueMicrotask(hn)}}}function Co(o){Promise===Te&&vt.echoes===0?di===0?o():enqueueNativeMicroTask(o):setTimeout(o,0)}(""+Ut).indexOf("[native code]")===-1&&(Xn=hn=Me);var st=J.reject,Pn="ï¿¿",an="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",oc="String expected.",Qn=[],hi="__dbnames",Eo="readonly",No="readwrite";function Dn(o,s){return o?s?function(){return o.apply(this,arguments)&&s.apply(this,arguments)}:o:s}var ac={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function mi(o){return typeof o!="string"||/\./.test(o)?function(s){return s}:function(s){return s[o]===void 0&&o in s&&delete(s=Pe(s))[o],s}}function sc(){throw le.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Fe(o,s){try{var d=cc(o),h=cc(s);if(d!==h)return d==="Array"?1:h==="Array"?-1:d==="binary"?1:h==="binary"?-1:d==="string"?1:h==="string"?-1:d==="Date"?1:h!=="Date"?NaN:-1;switch(d){case"number":case"Date":case"string":return s<o?1:o<s?-1:0;case"binary":return function(v,b){for(var w=v.length,S=b.length,P=w<S?w:S,D=0;D<P;++D)if(v[D]!==b[D])return v[D]<b[D]?-1:1;return w===S?0:w<S?-1:1}(lc(o),lc(s));case"Array":return function(v,b){for(var w=v.length,S=b.length,P=w<S?w:S,D=0;D<P;++D){var O=Fe(v[D],b[D]);if(O!==0)return O}return w===S?0:w<S?-1:1}(o,s)}}catch{}return NaN}function cc(o){var s=typeof o;return s!="object"?s:ArrayBuffer.isView(o)?"binary":(o=$e(o),o==="ArrayBuffer"?"binary":o)}function lc(o){return o instanceof Uint8Array?o:ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o)}function vi(o,s,d){var h=o.schema.yProps;return h?(s&&0<d.numFailures&&(s=s.filter(function(v,b){return!d.failures[b]})),Promise.all(h.map(function(v){return v=v.updatesTable,s?o.db.table(v).where("k").anyOf(s).delete():o.db.table(v).clear()})).then(function(){return d})):d}var Sr=(uc.prototype.execute=function(o){var s=this["@@propmod"];if(s.add!==void 0){var d=s.add;if(u(d))return i(i([],u(o)?o:[],!0),d).sort();if(typeof d=="number")return(Number(o)||0)+d;if(typeof d=="bigint")try{return BigInt(o)+d}catch{return BigInt(0)+d}throw new TypeError("Invalid term ".concat(d))}if(s.remove!==void 0){var h=s.remove;if(u(h))return u(o)?o.filter(function(v){return!h.includes(v)}).sort():[];if(typeof h=="number")return Number(o)-h;if(typeof h=="bigint")try{return BigInt(o)-h}catch{return BigInt(0)-h}throw new TypeError("Invalid subtrahend ".concat(h))}return d=(d=s.replacePrefix)===null||d===void 0?void 0:d[0],d&&typeof o=="string"&&o.startsWith(d)?s.replacePrefix[1]+o.substring(d.length):o},uc);function uc(o){this["@@propmod"]=o}function dc(o,s){for(var d=l(s),h=d.length,v=!1,b=0;b<h;++b){var w=d[b],S=s[w],P=Q(o,w);S instanceof Sr?(q(o,w,S.execute(P)),v=!0):P!==S&&(q(o,w,S),v=!0)}return v}var pc=(He.prototype._trans=function(o,s,d){var h=this._tx||W.trans,v=this.name,b=xt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(o==="readonly"?"read":"write"," ").concat(this.name));function w(D,O,A){if(!A.schema[v])throw new le.NotFound("Table "+v+" not part of transaction");return s(A.idbtrans,A)}var S=dn();try{var P=h&&h.db._novip===this.db._novip?h===W.trans?h._promise(o,w,d):fn(function(){return h._promise(o,w,d)},{trans:h,transless:W.transless||W}):function D(O,A,I,C){if(O.idbdb&&(O._state.openComplete||W.letThrough||O._vip)){var E=O._createTransaction(A,I,O._dbSchema);try{E.create(),O._state.PR1398_maxLoop=3}catch(N){return N.name===Le.InvalidState&&O.isOpen()&&0<--O._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),O.close({disableAutoOpen:!1}),O.open().then(function(){return D(O,A,I,C)})):st(N)}return E._promise(A,function(N,M){return fn(function(){return W.trans=E,C(N,M,E)})}).then(function(N){if(A==="readwrite")try{E.idbtrans.commit()}catch{}return A==="readonly"?N:E._completion.then(function(){return N})})}if(O._state.openComplete)return st(new le.DatabaseClosed(O._state.dbOpenError));if(!O._state.isBeingOpened){if(!O._state.autoOpen)return st(new le.DatabaseClosed);O.open().catch(Me)}return O._state.dbReadyPromise.then(function(){return D(O,A,I,C)})}(this.db,o,[this.name],w);return b&&(P._consoleTask=b,P=P.catch(function(D){return console.trace(D),st(D)})),P}finally{S&&pn()}},He.prototype.get=function(o,s){var d=this;return o&&o.constructor===Object?this.where(o).first(s):o==null?st(new le.Type("Invalid argument to Table.get()")):this._trans("readonly",function(h){return d.core.get({trans:h,key:o}).then(function(v){return d.hook.reading.fire(v)})}).then(s)},He.prototype.where=function(o){if(typeof o=="string")return new this.db.WhereClause(this,o);if(u(o))return new this.db.WhereClause(this,"[".concat(o.join("+"),"]"));var s=l(o);if(s.length===1)return this.where(s[0]).equals(o[s[0]]);var d=this.schema.indexes.concat(this.schema.primKey).filter(function(S){if(S.compound&&s.every(function(D){return 0<=S.keyPath.indexOf(D)})){for(var P=0;P<s.length;++P)if(s.indexOf(S.keyPath[P])===-1)return!1;return!0}return!1}).sort(function(S,P){return S.keyPath.length-P.keyPath.length})[0];if(d&&this.db._maxKey!==Pn){var b=d.keyPath.slice(0,s.length);return this.where(b).equals(b.map(function(P){return o[P]}))}!d&&xt&&console.warn("The query ".concat(JSON.stringify(o)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(s.join("+"),"]"));var h=this.schema.idxByName;function v(S,P){return Fe(S,P)===0}var w=s.reduce(function(A,P){var D=A[0],O=A[1],A=h[P],I=o[P];return[D||A,D||!A?Dn(O,A&&A.multi?function(C){return C=Q(C,P),u(C)&&C.some(function(E){return v(I,E)})}:function(C){return v(I,Q(C,P))}):O]},[null,null]),b=w[0],w=w[1];return b?this.where(b.name).equals(o[b.keyPath]).filter(w):d?this.filter(w):this.where(s).equals("")},He.prototype.filter=function(o){return this.toCollection().and(o)},He.prototype.count=function(o){return this.toCollection().count(o)},He.prototype.offset=function(o){return this.toCollection().offset(o)},He.prototype.limit=function(o){return this.toCollection().limit(o)},He.prototype.each=function(o){return this.toCollection().each(o)},He.prototype.toArray=function(o){return this.toCollection().toArray(o)},He.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},He.prototype.orderBy=function(o){return new this.db.Collection(new this.db.WhereClause(this,u(o)?"[".concat(o.join("+"),"]"):o))},He.prototype.reverse=function(){return this.toCollection().reverse()},He.prototype.mapToClass=function(o){var s,d=this.db,h=this.name;function v(){return s!==null&&s.apply(this,arguments)||this}(this.schema.mappedClass=o).prototype instanceof sc&&(function(P,D){if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");function O(){this.constructor=P}n(P,D),P.prototype=D===null?Object.create(D):(O.prototype=D.prototype,new O)}(v,s=o),Object.defineProperty(v.prototype,"db",{get:function(){return d},enumerable:!1,configurable:!0}),v.prototype.table=function(){return h},o=v);for(var b=new Set,w=o.prototype;w;w=m(w))Object.getOwnPropertyNames(w).forEach(function(P){return b.add(P)});function S(P){if(!P)return P;var D,O=Object.create(o.prototype);for(D in P)if(!b.has(D))try{O[D]=P[D]}catch{}return O}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=S,this.hook("reading",S),o},He.prototype.defineClass=function(){return this.mapToClass(function(o){f(this,o)})},He.prototype.add=function(o,s){var d=this,h=this.schema.primKey,v=h.auto,b=h.keyPath,w=o;return b&&v&&(w=mi(b)(o)),this._trans("readwrite",function(S){return d.core.mutate({trans:S,type:"add",keys:s!=null?[s]:null,values:[w]})}).then(function(S){return S.numFailures?J.reject(S.failures[0]):S.lastResult}).then(function(S){if(b)try{q(o,b,S)}catch{}return S})},He.prototype.upsert=function(o,s){var d=this,h=this.schema.primKey.keyPath;return this._trans("readwrite",function(v){return d.core.get({trans:v,key:o}).then(function(b){var w=b??{};return dc(w,s),h&&q(w,h,o),d.core.mutate({trans:v,type:"put",values:[w],keys:[o],upsert:!0,updates:{keys:[o],changeSpecs:[s]}}).then(function(S){return S.numFailures?J.reject(S.failures[0]):!!b})})})},He.prototype.update=function(o,s){return typeof o!="object"||u(o)?this.where(":id").equals(o).modify(s):(o=Q(o,this.schema.primKey.keyPath),o===void 0?st(new le.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(o).modify(s))},He.prototype.put=function(o,s){var d=this,h=this.schema.primKey,v=h.auto,b=h.keyPath,w=o;return b&&v&&(w=mi(b)(o)),this._trans("readwrite",function(S){return d.core.mutate({trans:S,type:"put",values:[w],keys:s!=null?[s]:null})}).then(function(S){return S.numFailures?J.reject(S.failures[0]):S.lastResult}).then(function(S){if(b)try{q(o,b,S)}catch{}return S})},He.prototype.delete=function(o){var s=this;return this._trans("readwrite",function(d){return s.core.mutate({trans:d,type:"delete",keys:[o]}).then(function(h){return vi(s,[o],h)}).then(function(h){return h.numFailures?J.reject(h.failures[0]):void 0})})},He.prototype.clear=function(){var o=this;return this._trans("readwrite",function(s){return o.core.mutate({trans:s,type:"deleteRange",range:ac}).then(function(d){return vi(o,null,d)})}).then(function(s){return s.numFailures?J.reject(s.failures[0]):void 0})},He.prototype.bulkGet=function(o){var s=this;return this._trans("readonly",function(d){return s.core.getMany({keys:o,trans:d}).then(function(h){return h.map(function(v){return s.hook.reading.fire(v)})})})},He.prototype.bulkAdd=function(o,s,d){var h=this,v=Array.isArray(s)?s:void 0,b=(d=d||(v?void 0:s))?d.allKeys:void 0;return this._trans("readwrite",function(w){var D=h.schema.primKey,S=D.auto,D=D.keyPath;if(D&&v)throw new le.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(v&&v.length!==o.length)throw new le.InvalidArgument("Arguments objects and keys must have the same length");var P=o.length,D=D&&S?o.map(mi(D)):o;return h.core.mutate({trans:w,type:"add",keys:v,values:D,wantResults:b}).then(function(E){var A=E.numFailures,I=E.results,C=E.lastResult,E=E.failures;if(A===0)return b?I:C;throw new Ae("".concat(h.name,".bulkAdd(): ").concat(A," of ").concat(P," operations failed"),E)})})},He.prototype.bulkPut=function(o,s,d){var h=this,v=Array.isArray(s)?s:void 0,b=(d=d||(v?void 0:s))?d.allKeys:void 0;return this._trans("readwrite",function(w){var D=h.schema.primKey,S=D.auto,D=D.keyPath;if(D&&v)throw new le.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(v&&v.length!==o.length)throw new le.InvalidArgument("Arguments objects and keys must have the same length");var P=o.length,D=D&&S?o.map(mi(D)):o;return h.core.mutate({trans:w,type:"put",keys:v,values:D,wantResults:b}).then(function(E){var A=E.numFailures,I=E.results,C=E.lastResult,E=E.failures;if(A===0)return b?I:C;throw new Ae("".concat(h.name,".bulkPut(): ").concat(A," of ").concat(P," operations failed"),E)})})},He.prototype.bulkUpdate=function(o){var s=this,d=this.core,h=o.map(function(w){return w.key}),v=o.map(function(w){return w.changes}),b=[];return this._trans("readwrite",function(w){return d.getMany({trans:w,keys:h,cache:"clone"}).then(function(S){var P=[],D=[];o.forEach(function(A,I){var C=A.key,E=A.changes,N=S[I];if(N){for(var M=0,R=Object.keys(E);M<R.length;M++){var L=R[M],B=E[L];if(L===s.schema.primKey.keyPath){if(Fe(B,C)!==0)throw new le.Constraint("Cannot update primary key in bulkUpdate()")}else q(N,L,B)}b.push(I),P.push(C),D.push(N)}});var O=P.length;return d.mutate({trans:w,type:"put",keys:P,values:D,updates:{keys:h,changeSpecs:v}}).then(function(A){var I=A.numFailures,C=A.failures;if(I===0)return O;for(var E=0,N=Object.keys(C);E<N.length;E++){var M,R=N[E],L=b[Number(R)];L!=null&&(M=C[R],delete C[R],C[L]=M)}throw new Ae("".concat(s.name,".bulkUpdate(): ").concat(I," of ").concat(O," operations failed"),C)})})})},He.prototype.bulkDelete=function(o){var s=this,d=o.length;return this._trans("readwrite",function(h){return s.core.mutate({trans:h,type:"delete",keys:o}).then(function(v){return vi(s,o,v)})}).then(function(w){var v=w.numFailures,b=w.lastResult,w=w.failures;if(v===0)return b;throw new Ae("".concat(s.name,".bulkDelete(): ").concat(v," of ").concat(d," operations failed"),w)})},He);function He(){}function Ar(o){function s(w,S){if(S){for(var P=arguments.length,D=new Array(P-1);--P;)D[P-1]=arguments[P];return d[w].subscribe.apply(null,D),o}if(typeof w=="string")return d[w]}var d={};s.addEventType=b;for(var h=1,v=arguments.length;h<v;++h)b(arguments[h]);return s;function b(w,S,P){if(typeof w!="object"){var D;S=S||Pt;var O={subscribers:[],fire:P=P||Me,subscribe:function(A){O.subscribers.indexOf(A)===-1&&(O.subscribers.push(A),O.fire=S(O.fire,A))},unsubscribe:function(A){O.subscribers=O.subscribers.filter(function(I){return I!==A}),O.fire=O.subscribers.reduce(S,P)}};return d[w]=s[w]=O}l(D=w).forEach(function(A){var I=D[A];if(u(I))b(A,D[A][0],D[A][1]);else{if(I!=="asap")throw new le.InvalidArgument("Invalid event config");var C=b(A,H,function(){for(var E=arguments.length,N=new Array(E);E--;)N[E]=arguments[E];C.subscribers.forEach(function(M){X(function(){M.apply(null,N)})})})}})}}function jr(o,s){return T(s).from({prototype:o}),s}function Jn(o,s){return!(o.filter||o.algorithm||o.or)&&(s?o.justLimit:!o.replayFilter)}function Oo(o,s){o.filter=Dn(o.filter,s)}function Mo(o,s,d){var h=o.replayFilter;o.replayFilter=h?function(){return Dn(h(),s())}:s,o.justLimit=d&&!h}function gi(o,s){if(o.isPrimKey)return s.primaryKey;var d=s.getIndexByKeyPath(o.index);if(!d)throw new le.Schema("KeyPath "+o.index+" on object store "+s.name+" is not indexed");return d}function fc(o,s,d){var h=gi(o,s.schema);return s.openCursor({trans:d,values:!o.keysOnly,reverse:o.dir==="prev",unique:!!o.unique,query:{index:h,range:o.range}})}function yi(o,s,d,h){var v=o.replayFilter?Dn(o.filter,o.replayFilter()):o.filter;if(o.or){var b={},w=function(S,P,D){var O,A;v&&!v(P,D,function(I){return P.stop(I)},function(I){return P.fail(I)})||((A=""+(O=P.primaryKey))=="[object ArrayBuffer]"&&(A=""+new Uint8Array(O)),a(b,A)||(b[A]=!0,s(S,P,D)))};return Promise.all([o.or._iterate(w,d),hc(fc(o,h,d),o.algorithm,w,!o.keysOnly&&o.valueMapper)])}return hc(fc(o,h,d),Dn(o.algorithm,v),s,!o.keysOnly&&o.valueMapper)}function hc(o,s,d,h){var v=Ye(h?function(b,w,S){return d(h(b),w,S)}:d);return o.then(function(b){if(b)return b.start(function(){var w=function(){return b.continue()};s&&!s(b,function(S){return w=S},function(S){b.stop(S),w=Me},function(S){b.fail(S),w=Me})||v(b.value,b,function(S){return w=S}),w()})})}var Df=(Ve.prototype._read=function(o,s){var d=this._ctx;return d.error?d.table._trans(null,st.bind(null,d.error)):d.table._trans("readonly",o).then(s)},Ve.prototype._write=function(o){var s=this._ctx;return s.error?s.table._trans(null,st.bind(null,s.error)):s.table._trans("readwrite",o,"locked")},Ve.prototype._addAlgorithm=function(o){var s=this._ctx;s.algorithm=Dn(s.algorithm,o)},Ve.prototype._iterate=function(o,s){return yi(this._ctx,o,s,this._ctx.table.core)},Ve.prototype.clone=function(o){var s=Object.create(this.constructor.prototype),d=Object.create(this._ctx);return o&&f(d,o),s._ctx=d,s},Ve.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ve.prototype.each=function(o){var s=this._ctx;return this._read(function(d){return yi(s,o,d,s.table.core)})},Ve.prototype.count=function(o){var s=this;return this._read(function(d){var h=s._ctx,v=h.table.core;if(Jn(h,!0))return v.count({trans:d,query:{index:gi(h,v.schema),range:h.range}}).then(function(w){return Math.min(w,h.limit)});var b=0;return yi(h,function(){return++b,!1},d,v).then(function(){return b})}).then(o)},Ve.prototype.sortBy=function(o,s){var d=o.split(".").reverse(),h=d[0],v=d.length-1;function b(P,D){return D?b(P[d[D]],D-1):P[h]}var w=this._ctx.dir==="next"?1:-1;function S(P,D){return Fe(b(P,v),b(D,v))*w}return this.toArray(function(P){return P.sort(S)}).then(s)},Ve.prototype.toArray=function(o){var s=this;return this._read(function(d){var h=s._ctx;if(h.dir==="next"&&Jn(h,!0)&&0<h.limit){var v=h.valueMapper,b=gi(h,h.table.core.schema);return h.table.core.query({trans:d,limit:h.limit,values:!0,query:{index:b,range:h.range}}).then(function(S){return S=S.result,v?S.map(v):S})}var w=[];return yi(h,function(S){return w.push(S)},d,h.table.core).then(function(){return w})},o)},Ve.prototype.offset=function(o){var s=this._ctx;return o<=0||(s.offset+=o,Jn(s)?Mo(s,function(){var d=o;return function(h,v){return d===0||(d===1?--d:v(function(){h.advance(d),d=0}),!1)}}):Mo(s,function(){var d=o;return function(){return--d<0}})),this},Ve.prototype.limit=function(o){return this._ctx.limit=Math.min(this._ctx.limit,o),Mo(this._ctx,function(){var s=o;return function(d,h,v){return--s<=0&&h(v),0<=s}},!0),this},Ve.prototype.until=function(o,s){return Oo(this._ctx,function(d,h,v){return!o(d.value)||(h(v),s)}),this},Ve.prototype.first=function(o){return this.limit(1).toArray(function(s){return s[0]}).then(o)},Ve.prototype.last=function(o){return this.reverse().first(o)},Ve.prototype.filter=function(o){var s;return Oo(this._ctx,function(d){return o(d.value)}),(s=this._ctx).isMatch=Dn(s.isMatch,o),this},Ve.prototype.and=function(o){return this.filter(o)},Ve.prototype.or=function(o){return new this.db.WhereClause(this._ctx.table,o,this)},Ve.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ve.prototype.desc=function(){return this.reverse()},Ve.prototype.eachKey=function(o){var s=this._ctx;return s.keysOnly=!s.isMatch,this.each(function(d,h){o(h.key,h)})},Ve.prototype.eachUniqueKey=function(o){return this._ctx.unique="unique",this.eachKey(o)},Ve.prototype.eachPrimaryKey=function(o){var s=this._ctx;return s.keysOnly=!s.isMatch,this.each(function(d,h){o(h.primaryKey,h)})},Ve.prototype.keys=function(o){var s=this._ctx;s.keysOnly=!s.isMatch;var d=[];return this.each(function(h,v){d.push(v.key)}).then(function(){return d}).then(o)},Ve.prototype.primaryKeys=function(o){var s=this._ctx;if(s.dir==="next"&&Jn(s,!0)&&0<s.limit)return this._read(function(h){var v=gi(s,s.table.core.schema);return s.table.core.query({trans:h,values:!1,limit:s.limit,query:{index:v,range:s.range}})}).then(function(h){return h.result}).then(o);s.keysOnly=!s.isMatch;var d=[];return this.each(function(h,v){d.push(v.primaryKey)}).then(function(){return d}).then(o)},Ve.prototype.uniqueKeys=function(o){return this._ctx.unique="unique",this.keys(o)},Ve.prototype.firstKey=function(o){return this.limit(1).keys(function(s){return s[0]}).then(o)},Ve.prototype.lastKey=function(o){return this.reverse().firstKey(o)},Ve.prototype.distinct=function(){var o=this._ctx,o=o.index&&o.table.schema.idxByName[o.index];if(!o||!o.multi)return this;var s={};return Oo(this._ctx,function(v){var h=v.primaryKey.toString(),v=a(s,h);return s[h]=!0,!v}),this},Ve.prototype.modify=function(o){var s=this,d=this._ctx;return this._write(function(h){var v=typeof o=="function"?o:function(N){return dc(N,o)},b=d.table.core,D=b.schema.primaryKey,w=D.outbound,S=D.extractKey,P=200,D=s.db._options.modifyChunkSize;D&&(P=typeof D=="object"?D[b.name]||D["*"]||200:D);function O(N,L){var R=L.failures,L=L.numFailures;I+=N-L;for(var B=0,Z=l(R);B<Z.length;B++){var te=Z[B];A.push(R[te])}}var A=[],I=0,C=[],E=o===mc;return s.clone().primaryKeys().then(function(N){function M(L){var B=Math.min(P,N.length-L),Z=N.slice(L,L+B);return(E?Promise.resolve([]):b.getMany({trans:h,keys:Z,cache:"immutable"})).then(function(te){var oe=[],ee=[],re=w?[]:null,ae=E?Z:[];if(!E)for(var ie=0;ie<B;++ie){var de=te[ie],je={value:Pe(de),primKey:N[L+ie]};v.call(je,je.value,je)!==!1&&(je.value==null?ae.push(N[L+ie]):w||Fe(S(de),S(je.value))===0?(ee.push(je.value),w&&re.push(N[L+ie])):(ae.push(N[L+ie]),oe.push(je.value)))}return Promise.resolve(0<oe.length&&b.mutate({trans:h,type:"add",values:oe}).then(function(Ce){for(var Ie in Ce.failures)ae.splice(parseInt(Ie),1);O(oe.length,Ce)})).then(function(){return(0<ee.length||R&&typeof o=="object")&&b.mutate({trans:h,type:"put",keys:re,values:ee,criteria:R,changeSpec:typeof o!="function"&&o,isAdditionalChunk:0<L}).then(function(Ce){return O(ee.length,Ce)})}).then(function(){return(0<ae.length||R&&E)&&b.mutate({trans:h,type:"delete",keys:ae,criteria:R,isAdditionalChunk:0<L}).then(function(Ce){return vi(d.table,ae,Ce)}).then(function(Ce){return O(ae.length,Ce)})}).then(function(){return N.length>L+B&&M(L+P)})})}var R=Jn(d)&&d.limit===1/0&&(typeof o!="function"||E)&&{index:d.index,range:d.range};return M(0).then(function(){if(0<A.length)throw new yt("Error modifying one or more objects",A,I,C);return N.length})})})},Ve.prototype.delete=function(){var o=this._ctx,s=o.range;return!Jn(o)||o.table.schema.yProps||!o.isPrimKey&&s.type!==3?this.modify(mc):this._write(function(d){var h=o.table.core.schema.primaryKey,v=s;return o.table.core.count({trans:d,query:{index:h,range:v}}).then(function(b){return o.table.core.mutate({trans:d,type:"deleteRange",range:v}).then(function(P){var S=P.failures,P=P.numFailures;if(P)throw new yt("Could not delete some values",Object.keys(S).map(function(D){return S[D]}),b-P);return b-P})})})},Ve);function Ve(){}var mc=function(o,s){return s.value=null};function Cf(o,s){return o<s?-1:o===s?0:1}function Ef(o,s){return s<o?-1:o===s?0:1}function zt(o,s,d){return o=o instanceof gc?new o.Collection(o):o,o._ctx.error=new(d||TypeError)(s),o}function er(o){return new o.Collection(o,function(){return vc("")}).limit(0)}function xi(o,s,d,h){var v,b,w,S,P,D,O,A=d.length;if(!d.every(function(E){return typeof E=="string"}))return zt(o,oc);function I(E){v=E==="next"?function(M){return M.toUpperCase()}:function(M){return M.toLowerCase()},b=E==="next"?function(M){return M.toLowerCase()}:function(M){return M.toUpperCase()},w=E==="next"?Cf:Ef;var N=d.map(function(M){return{lower:b(M),upper:v(M)}}).sort(function(M,R){return w(M.lower,R.lower)});S=N.map(function(M){return M.upper}),P=N.map(function(M){return M.lower}),O=(D=E)==="next"?"":h}I("next"),o=new o.Collection(o,function(){return vn(S[0],P[A-1]+h)}),o._ondirectionchange=function(E){I(E)};var C=0;return o._addAlgorithm(function(E,N,M){var R=E.key;if(typeof R!="string")return!1;var L=b(R);if(s(L,P,C))return!0;for(var B=null,Z=C;Z<A;++Z){var te=function(oe,ee,re,ae,ie,de){for(var je=Math.min(oe.length,ae.length),Ce=-1,Ie=0;Ie<je;++Ie){var Ft=ee[Ie];if(Ft!==ae[Ie])return ie(oe[Ie],re[Ie])<0?oe.substr(0,Ie)+re[Ie]+re.substr(Ie+1):ie(oe[Ie],ae[Ie])<0?oe.substr(0,Ie)+ae[Ie]+re.substr(Ie+1):0<=Ce?oe.substr(0,Ce)+ee[Ce]+re.substr(Ce+1):null;ie(oe[Ie],Ft)<0&&(Ce=Ie)}return je<ae.length&&de==="next"?oe+re.substr(oe.length):je<oe.length&&de==="prev"?oe.substr(0,re.length):Ce<0?null:oe.substr(0,Ce)+ae[Ce]+re.substr(Ce+1)}(R,L,S[Z],P[Z],w,D);te===null&&B===null?C=Z+1:(B===null||0<w(B,te))&&(B=te)}return N(B!==null?function(){E.continue(B+O)}:M),!1}),o}function vn(o,s,d,h){return{type:2,lower:o,upper:s,lowerOpen:d,upperOpen:h}}function vc(o){return{type:1,lower:o,upper:o}}var gc=(Object.defineProperty(gt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),gt.prototype.between=function(o,s,d,h){d=d!==!1,h=h===!0;try{return 0<this._cmp(o,s)||this._cmp(o,s)===0&&(d||h)&&(!d||!h)?er(this):new this.Collection(this,function(){return vn(o,s,!d,!h)})}catch{return zt(this,an)}},gt.prototype.equals=function(o){return o==null?zt(this,an):new this.Collection(this,function(){return vc(o)})},gt.prototype.above=function(o){return o==null?zt(this,an):new this.Collection(this,function(){return vn(o,void 0,!0)})},gt.prototype.aboveOrEqual=function(o){return o==null?zt(this,an):new this.Collection(this,function(){return vn(o,void 0,!1)})},gt.prototype.below=function(o){return o==null?zt(this,an):new this.Collection(this,function(){return vn(void 0,o,!1,!0)})},gt.prototype.belowOrEqual=function(o){return o==null?zt(this,an):new this.Collection(this,function(){return vn(void 0,o)})},gt.prototype.startsWith=function(o){return typeof o!="string"?zt(this,oc):this.between(o,o+Pn,!0,!0)},gt.prototype.startsWithIgnoreCase=function(o){return o===""?this.startsWith(o):xi(this,function(s,d){return s.indexOf(d[0])===0},[o],Pn)},gt.prototype.equalsIgnoreCase=function(o){return xi(this,function(s,d){return s===d[0]},[o],"")},gt.prototype.anyOfIgnoreCase=function(){var o=U.apply(De,arguments);return o.length===0?er(this):xi(this,function(s,d){return d.indexOf(s)!==-1},o,"")},gt.prototype.startsWithAnyOfIgnoreCase=function(){var o=U.apply(De,arguments);return o.length===0?er(this):xi(this,function(s,d){return d.some(function(h){return s.indexOf(h)===0})},o,Pn)},gt.prototype.anyOf=function(){var o=this,s=U.apply(De,arguments),d=this._cmp;try{s.sort(d)}catch{return zt(this,an)}if(s.length===0)return er(this);var h=new this.Collection(this,function(){return vn(s[0],s[s.length-1])});h._ondirectionchange=function(b){d=b==="next"?o._ascending:o._descending,s.sort(d)};var v=0;return h._addAlgorithm(function(b,w,S){for(var P=b.key;0<d(P,s[v]);)if(++v===s.length)return w(S),!1;return d(P,s[v])===0||(w(function(){b.continue(s[v])}),!1)}),h},gt.prototype.notEqual=function(o){return this.inAnyRange([[-1/0,o],[o,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},gt.prototype.noneOf=function(){var o=U.apply(De,arguments);if(o.length===0)return new this.Collection(this);try{o.sort(this._ascending)}catch{return zt(this,an)}var s=o.reduce(function(d,h){return d?d.concat([[d[d.length-1][1],h]]):[[-1/0,h]]},null);return s.push([o[o.length-1],this.db._maxKey]),this.inAnyRange(s,{includeLowers:!1,includeUppers:!1})},gt.prototype.inAnyRange=function(R,s){var d=this,h=this._cmp,v=this._ascending,b=this._descending,w=this._min,S=this._max;if(R.length===0)return er(this);if(!R.every(function(L){return L[0]!==void 0&&L[1]!==void 0&&v(L[0],L[1])<=0}))return zt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",le.InvalidArgument);var P=!s||s.includeLowers!==!1,D=s&&s.includeUppers===!0,O,A=v;function I(L,B){return A(L[0],B[0])}try{(O=R.reduce(function(L,B){for(var Z=0,te=L.length;Z<te;++Z){var oe=L[Z];if(h(B[0],oe[1])<0&&0<h(B[1],oe[0])){oe[0]=w(oe[0],B[0]),oe[1]=S(oe[1],B[1]);break}}return Z===te&&L.push(B),L},[])).sort(I)}catch{return zt(this,an)}var C=0,E=D?function(L){return 0<v(L,O[C][1])}:function(L){return 0<=v(L,O[C][1])},N=P?function(L){return 0<b(L,O[C][0])}:function(L){return 0<=b(L,O[C][0])},M=E,R=new this.Collection(this,function(){return vn(O[0][0],O[O.length-1][1],!P,!D)});return R._ondirectionchange=function(L){A=L==="next"?(M=E,v):(M=N,b),O.sort(I)},R._addAlgorithm(function(L,B,Z){for(var te,oe=L.key;M(oe);)if(++C===O.length)return B(Z),!1;return!E(te=oe)&&!N(te)||(d._cmp(oe,O[C][1])===0||d._cmp(oe,O[C][0])===0||B(function(){A===v?L.continue(O[C][0]):L.continue(O[C][1])}),!1)}),R},gt.prototype.startsWithAnyOf=function(){var o=U.apply(De,arguments);return o.every(function(s){return typeof s=="string"})?o.length===0?er(this):this.inAnyRange(o.map(function(s){return[s,s+Pn]})):zt(this,"startsWithAnyOf() only works with strings")},gt);function gt(){}function Jt(o){return Ye(function(s){return Pr(s),o(s.target.error),!1})}function Pr(o){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault()}var Dr="storagemutated",Io="x-storagemutated-1",gn=Ar(null,Dr),Nf=(en.prototype._lock=function(){return Y(!W.global),++this._reculock,this._reculock!==1||W.global||(W.lockOwnerFor=this),this},en.prototype._unlock=function(){if(Y(!W.global),--this._reculock==0)for(W.global||(W.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var o=this._blockedFuncs.shift();try{jn(o[1],o[0])}catch{}}return this},en.prototype._locked=function(){return this._reculock&&W.lockOwnerFor!==this},en.prototype.create=function(o){var s=this;if(!this.mode)return this;var d=this.db.idbdb,h=this.db._state.dbOpenError;if(Y(!this.idbtrans),!o&&!d)switch(h&&h.name){case"DatabaseClosedError":throw new le.DatabaseClosed(h);case"MissingAPIError":throw new le.MissingAPI(h.message,h);default:throw new le.OpenFailed(h)}if(!this.active)throw new le.TransactionInactive;return Y(this._completion._state===null),(o=this.idbtrans=o||(this.db.core||d).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ye(function(v){Pr(v),s._reject(o.error)}),o.onabort=Ye(function(v){Pr(v),s.active&&s._reject(new le.Abort(o.error)),s.active=!1,s.on("abort").fire(v)}),o.oncomplete=Ye(function(){s.active=!1,s._resolve(),"mutatedParts"in o&&gn.storagemutated.fire(o.mutatedParts)}),this},en.prototype._promise=function(o,s,d){var h=this;if(o==="readwrite"&&this.mode!=="readwrite")return st(new le.ReadOnly("Transaction is readonly"));if(!this.active)return st(new le.TransactionInactive);if(this._locked())return new J(function(b,w){h._blockedFuncs.push([function(){h._promise(o,s,d).then(b,w)},W])});if(d)return fn(function(){var b=new J(function(w,S){h._lock();var P=s(w,S,h);P&&P.then&&P.then(w,S)});return b.finally(function(){return h._unlock()}),b._lib=!0,b});var v=new J(function(b,w){var S=s(b,w,h);S&&S.then&&S.then(b,w)});return v._lib=!0,v},en.prototype._root=function(){return this.parent?this.parent._root():this},en.prototype.waitFor=function(o){var s,d=this._root(),h=J.resolve(o);d._waitingFor?d._waitingFor=d._waitingFor.then(function(){return h}):(d._waitingFor=h,d._waitingQueue=[],s=d.idbtrans.objectStore(d.storeNames[0]),function b(){for(++d._spinCount;d._waitingQueue.length;)d._waitingQueue.shift()();d._waitingFor&&(s.get(-1/0).onsuccess=b)}());var v=d._waitingFor;return new J(function(b,w){h.then(function(S){return d._waitingQueue.push(Ye(b.bind(null,S)))},function(S){return d._waitingQueue.push(Ye(w.bind(null,S)))}).finally(function(){d._waitingFor===v&&(d._waitingFor=null)})})},en.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new le.Abort))},en.prototype.table=function(o){var s=this._memoizedTables||(this._memoizedTables={});if(a(s,o))return s[o];var d=this.schema[o];if(!d)throw new le.NotFound("Table "+o+" not part of transaction");return d=new this.db.Table(o,d,this),d.core=this.db.core.table(o),s[o]=d},en);function en(){}function Ro(o,s,d,h,v,b,w,S){return{name:o,keyPath:s,unique:d,multi:h,auto:v,compound:b,src:(d&&!w?"&":"")+(h?"*":"")+(v?"++":"")+yc(s),type:S}}function yc(o){return typeof o=="string"?o:o?"["+[].join.call(o,"+")+"]":""}function zo(o,s,d){return{name:o,primKey:s,indexes:d,mappedClass:null,idxByName:(h=function(v){return[v.name,v]},d.reduce(function(v,b,w){return w=h(b,w),w&&(v[w[0]]=w[1]),v},{}))};var h}var Cr=function(o){try{return o.only([[]]),Cr=function(){return[[]]},[[]]}catch{return Cr=function(){return Pn},Pn}};function Fo(o){return o==null?function(){}:typeof o=="string"?(s=o).split(".").length===1?function(d){return d[s]}:function(d){return Q(d,s)}:function(d){return Q(d,o)};var s}function xc(o){return[].slice.call(o)}var Of=0;function Er(o){return o==null?":id":typeof o=="string"?o:"[".concat(o.join("+"),"]")}function Mf(o,s,P){function h(M){if(M.type===3)return null;if(M.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var C=M.lower,E=M.upper,N=M.lowerOpen,M=M.upperOpen;return C===void 0?E===void 0?null:s.upperBound(E,!!M):E===void 0?s.lowerBound(C,!!N):s.bound(C,E,!!N,!!M)}function v(I){var C,E=I.name;return{name:E,schema:I,mutate:function(N){var M=N.trans,R=N.type,L=N.keys,B=N.values,Z=N.range;return new Promise(function(te,oe){te=Ye(te);var ee=M.objectStore(E),re=ee.keyPath==null,ae=R==="put"||R==="add";if(!ae&&R!=="delete"&&R!=="deleteRange")throw new Error("Invalid operation type: "+R);var ie,de=(L||B||{length:1}).length;if(L&&B&&L.length!==B.length)throw new Error("Given keys array must have same length as given values array.");if(de===0)return te({numFailures:0,failures:{},results:[],lastResult:void 0});function je(Dt){++Ft,Pr(Dt)}var Ce=[],Ie=[],Ft=0;if(R==="deleteRange"){if(Z.type===4)return te({numFailures:Ft,failures:Ie,results:[],lastResult:void 0});Z.type===3?Ce.push(ie=ee.clear()):Ce.push(ie=ee.delete(h(Z)))}else{var re=ae?re?[B,L]:[B,null]:[L,null],Se=re[0],St=re[1];if(ae)for(var At=0;At<de;++At)Ce.push(ie=St&&St[At]!==void 0?ee[R](Se[At],St[At]):ee[R](Se[At])),ie.onerror=je;else for(At=0;At<de;++At)Ce.push(ie=ee[R](Se[At])),ie.onerror=je}function Ei(Dt){Dt=Dt.target.result,Ce.forEach(function(Nn,na){return Nn.error!=null&&(Ie[na]=Nn.error)}),te({numFailures:Ft,failures:Ie,results:R==="delete"?L:Ce.map(function(Nn){return Nn.result}),lastResult:Dt})}ie.onerror=function(Dt){je(Dt),Ei(Dt)},ie.onsuccess=Ei})},getMany:function(N){var M=N.trans,R=N.keys;return new Promise(function(L,B){L=Ye(L);for(var Z,te=M.objectStore(E),oe=R.length,ee=new Array(oe),re=0,ae=0,ie=function(Ce){Ce=Ce.target,ee[Ce._pos]=Ce.result,++ae===re&&L(ee)},de=Jt(B),je=0;je<oe;++je)R[je]!=null&&((Z=te.get(R[je]))._pos=je,Z.onsuccess=ie,Z.onerror=de,++re);re===0&&L(ee)})},get:function(N){var M=N.trans,R=N.key;return new Promise(function(L,B){L=Ye(L);var Z=M.objectStore(E).get(R);Z.onsuccess=function(te){return L(te.target.result)},Z.onerror=Jt(B)})},query:(C=D,function(N){return new Promise(function(M,R){M=Ye(M);var L,B,Z,re=N.trans,te=N.values,oe=N.limit,ie=N.query,ee=oe===1/0?void 0:oe,ae=ie.index,ie=ie.range,re=re.objectStore(E),ae=ae.isPrimaryKey?re:re.index(ae.name),ie=h(ie);if(oe===0)return M({result:[]});C?((ee=te?ae.getAll(ie,ee):ae.getAllKeys(ie,ee)).onsuccess=function(de){return M({result:de.target.result})},ee.onerror=Jt(R)):(L=0,B=!te&&"openKeyCursor"in ae?ae.openKeyCursor(ie):ae.openCursor(ie),Z=[],B.onsuccess=function(de){var je=B.result;return je?(Z.push(te?je.value:je.primaryKey),++L===oe?M({result:Z}):void je.continue()):M({result:Z})},B.onerror=Jt(R))})}),openCursor:function(N){var M=N.trans,R=N.values,L=N.query,B=N.reverse,Z=N.unique;return new Promise(function(te,oe){te=Ye(te);var ae=L.index,ee=L.range,re=M.objectStore(E),re=ae.isPrimaryKey?re:re.index(ae.name),ae=B?Z?"prevunique":"prev":Z?"nextunique":"next",ie=!R&&"openKeyCursor"in re?re.openKeyCursor(h(ee),ae):re.openCursor(h(ee),ae);ie.onerror=Jt(oe),ie.onsuccess=Ye(function(de){var je,Ce,Ie,Ft,Se=ie.result;Se?(Se.___id=++Of,Se.done=!1,je=Se.continue.bind(Se),Ce=(Ce=Se.continuePrimaryKey)&&Ce.bind(Se),Ie=Se.advance.bind(Se),Ft=function(){throw new Error("Cursor not stopped")},Se.trans=M,Se.stop=Se.continue=Se.continuePrimaryKey=Se.advance=function(){throw new Error("Cursor not started")},Se.fail=Ye(oe),Se.next=function(){var St=this,At=1;return this.start(function(){return At--?St.continue():St.stop()}).then(function(){return St})},Se.start=function(St){function At(){if(ie.result)try{St()}catch(Dt){Se.fail(Dt)}else Se.done=!0,Se.start=function(){throw new Error("Cursor behind last entry")},Se.stop()}var Ei=new Promise(function(Dt,Nn){Dt=Ye(Dt),ie.onerror=Jt(Nn),Se.fail=Nn,Se.stop=function(na){Se.stop=Se.continue=Se.continuePrimaryKey=Se.advance=Ft,Dt(na)}});return ie.onsuccess=Ye(function(Dt){ie.onsuccess=At,At()}),Se.continue=je,Se.continuePrimaryKey=Ce,Se.advance=Ie,At(),Ei},te(Se)):te(null)},oe)})},count:function(N){var M=N.query,R=N.trans,L=M.index,B=M.range;return new Promise(function(Z,te){var oe=R.objectStore(E),ee=L.isPrimaryKey?oe:oe.index(L.name),oe=h(B),ee=oe?ee.count(oe):ee.count();ee.onsuccess=Ye(function(re){return Z(re.target.result)}),ee.onerror=Jt(te)})}}}var b,w,S,O=(w=P,S=xc((b=o).objectStoreNames),{schema:{name:b.name,tables:S.map(function(I){return w.objectStore(I)}).map(function(I){var C=I.keyPath,M=I.autoIncrement,E=u(C),N={},M={name:I.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:C==null,compound:E,keyPath:C,autoIncrement:M,unique:!0,extractKey:Fo(C)},indexes:xc(I.indexNames).map(function(R){return I.index(R)}).map(function(Z){var L=Z.name,B=Z.unique,te=Z.multiEntry,Z=Z.keyPath,te={name:L,compound:u(Z),keyPath:Z,unique:B,multiEntry:te,extractKey:Fo(Z)};return N[Er(Z)]=te}),getIndexByKeyPath:function(R){return N[Er(R)]}};return N[":id"]=M.primaryKey,C!=null&&(N[Er(C)]=M.primaryKey),M})},hasGetAll:0<S.length&&"getAll"in w.objectStore(S[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),P=O.schema,D=O.hasGetAll,O=P.tables.map(v),A={};return O.forEach(function(I){return A[I.name]=I}),{stack:"dbcore",transaction:o.transaction.bind(o),table:function(I){if(!A[I])throw new Error("Table '".concat(I,"' not found"));return A[I]},MIN_KEY:-1/0,MAX_KEY:Cr(s),schema:P}}function If(o,s,d,h){var v=d.IDBKeyRange;return d.indexedDB,{dbcore:(h=Mf(s,v,h),o.dbcore.reduce(function(b,w){return w=w.create,r(r({},b),w(b))},h))}}function bi(o,h){var d=h.db,h=If(o._middlewares,d,o._deps,h);o.core=h.dbcore,o.tables.forEach(function(v){var b=v.name;o.core.schema.tables.some(function(w){return w.name===b})&&(v.core=o.core.table(b),o[b]instanceof o.Table&&(o[b].core=v.core))})}function _i(o,s,d,h){d.forEach(function(v){var b=h[v];s.forEach(function(w){var S=function P(D,O){return j(D,O)||(D=m(D))&&P(D,O)}(w,v);(!S||"value"in S&&S.value===void 0)&&(w===o.Transaction.prototype||w instanceof o.Transaction?_(w,v,{get:function(){return this.table(v)},set:function(P){g(this,v,{value:P,writable:!0,configurable:!0,enumerable:!0})}}):w[v]=new o.Table(v,b))})})}function $o(o,s){s.forEach(function(d){for(var h in d)d[h]instanceof o.Table&&delete d[h]})}function Rf(o,s){return o._cfg.version-s._cfg.version}function zf(o,s,d,h){var v=o._dbSchema;d.objectStoreNames.contains("$meta")&&!v.$meta&&(v.$meta=zo("$meta",_c("")[0],[]),o._storeNames.push("$meta"));var b=o._createTransaction("readwrite",o._storeNames,v);b.create(d),b._completion.catch(h);var w=b._reject.bind(b),S=W.transless||W;fn(function(){return W.trans=b,W.transless=S,s!==0?(bi(o,d),D=s,((P=b).storeNames.includes("$meta")?P.table("$meta").get("version").then(function(O){return O??D}):J.resolve(D)).then(function(O){return I=O,C=b,E=d,N=[],O=(A=o)._versions,M=A._dbSchema=ki(0,A.idbdb,E),(O=O.filter(function(R){return R._cfg.version>=I})).length!==0?(O.forEach(function(R){N.push(function(){var L=M,B=R._cfg.dbschema;Ti(A,L,E),Ti(A,B,E),M=A._dbSchema=B;var Z=Lo(L,B);Z.add.forEach(function(ae){Bo(E,ae[0],ae[1].primKey,ae[1].indexes)}),Z.change.forEach(function(ae){if(ae.recreate)throw new le.Upgrade("Not yet support for changing primary key");var ie=E.objectStore(ae.name);ae.add.forEach(function(de){return wi(ie,de)}),ae.change.forEach(function(de){ie.deleteIndex(de.name),wi(ie,de)}),ae.del.forEach(function(de){return ie.deleteIndex(de)})});var te=R._cfg.contentUpgrade;if(te&&R._cfg.version>I){bi(A,E),C._memoizedTables={};var oe=V(B);Z.del.forEach(function(ae){oe[ae]=L[ae]}),$o(A,[A.Transaction.prototype]),_i(A,[A.Transaction.prototype],l(oe),oe),C.schema=oe;var ee,re=pe(te);return re&&Xn(),Z=J.follow(function(){var ae;(ee=te(C))&&re&&(ae=hn.bind(null,null),ee.then(ae,ae))}),ee&&typeof ee.then=="function"?J.resolve(ee):Z.then(function(){return ee})}}),N.push(function(L){var B,Z,te=R._cfg.dbschema;B=te,Z=L,[].slice.call(Z.db.objectStoreNames).forEach(function(oe){return B[oe]==null&&Z.db.deleteObjectStore(oe)}),$o(A,[A.Transaction.prototype]),_i(A,[A.Transaction.prototype],A._storeNames,A._dbSchema),C.schema=A._dbSchema}),N.push(function(L){A.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(A.idbdb.version/10)===R._cfg.version?(A.idbdb.deleteObjectStore("$meta"),delete A._dbSchema.$meta,A._storeNames=A._storeNames.filter(function(B){return B!=="$meta"})):L.objectStore("$meta").put(R._cfg.version,"version"))})}),function R(){return N.length?J.resolve(N.shift()(C.idbtrans)).then(R):J.resolve()}().then(function(){bc(M,E)})):J.resolve();var A,I,C,E,N,M}).catch(w)):(l(v).forEach(function(O){Bo(d,O,v[O].primKey,v[O].indexes)}),bi(o,d),void J.follow(function(){return o.on.populate.fire(b)}).catch(w));var P,D})}function Ff(o,s){bc(o._dbSchema,s),s.db.version%10!=0||s.objectStoreNames.contains("$meta")||s.db.createObjectStore("$meta").add(Math.ceil(s.db.version/10-1),"version");var d=ki(0,o.idbdb,s);Ti(o,o._dbSchema,s);for(var h=0,v=Lo(d,o._dbSchema).change;h<v.length;h++){var b=function(w){if(w.change.length||w.recreate)return console.warn("Unable to patch indexes of table ".concat(w.name," because it has changes on the type of index or primary key.")),{value:void 0};var S=s.objectStore(w.name);w.add.forEach(function(P){xt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(w.name,".").concat(P.src)),wi(S,P)})}(v[h]);if(typeof b=="object")return b.value}}function Lo(o,s){var d,h={del:[],add:[],change:[]};for(d in o)s[d]||h.del.push(d);for(d in s){var v=o[d],b=s[d];if(v){var w={name:d,def:b,recreate:!1,del:[],add:[],change:[]};if(""+(v.primKey.keyPath||"")!=""+(b.primKey.keyPath||"")||v.primKey.auto!==b.primKey.auto)w.recreate=!0,h.change.push(w);else{var S=v.idxByName,P=b.idxByName,D=void 0;for(D in S)P[D]||w.del.push(D);for(D in P){var O=S[D],A=P[D];O?O.src!==A.src&&w.change.push(A):w.add.push(A)}(0<w.del.length||0<w.add.length||0<w.change.length)&&h.change.push(w)}}else h.add.push([d,b])}return h}function Bo(o,s,d,h){var v=o.db.createObjectStore(s,d.keyPath?{keyPath:d.keyPath,autoIncrement:d.auto}:{autoIncrement:d.auto});return h.forEach(function(b){return wi(v,b)}),v}function bc(o,s){l(o).forEach(function(d){s.db.objectStoreNames.contains(d)||(xt&&console.debug("Dexie: Creating missing table",d),Bo(s,d,o[d].primKey,o[d].indexes))})}function wi(o,s){o.createIndex(s.name,s.keyPath,{unique:s.unique,multiEntry:s.multi})}function ki(o,s,d){var h={};return F(s.objectStoreNames,0).forEach(function(v){for(var b=d.objectStore(v),w=Ro(yc(D=b.keyPath),D||"",!0,!1,!!b.autoIncrement,D&&typeof D!="string",!0),S=[],P=0;P<b.indexNames.length;++P){var O=b.index(b.indexNames[P]),D=O.keyPath,O=Ro(O.name,D,!!O.unique,!!O.multiEntry,!1,D&&typeof D!="string",!1);S.push(O)}h[v]=zo(v,w,S)}),h}function Ti(o,s,d){for(var h=d.db.objectStoreNames,v=0;v<h.length;++v){var b=h[v],w=d.objectStore(b);o._hasGetAll="getAll"in w;for(var S=0;S<w.indexNames.length;++S){var P=w.indexNames[S],D=w.index(P).keyPath,O=typeof D=="string"?D:"["+F(D).join("+")+"]";!s[b]||(D=s[b].idxByName[O])&&(D.name=P,delete s[b].idxByName[O],s[b].idxByName[P]=D)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&c.WorkerGlobalScope&&c instanceof c.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(o._hasGetAll=!1)}function _c(o){return o.split(",").map(function(s,d){var b=s.split(":"),h=(v=b[1])===null||v===void 0?void 0:v.trim(),v=(s=b[0].trim()).replace(/([&*]|\+\+)/g,""),b=/^\[/.test(v)?v.match(/^\[(.*)\]$/)[1].split("+"):v;return Ro(v,b||null,/\&/.test(s),/\*/.test(s),/\+\+/.test(s),u(b),d===0,h)})}var $f=(tr.prototype._createTableSchema=zo,tr.prototype._parseIndexSyntax=_c,tr.prototype._parseStoresSpec=function(o,s){var d=this;l(o).forEach(function(h){if(o[h]!==null){var v=d._parseIndexSyntax(o[h]),b=v.shift();if(!b)throw new le.Schema("Invalid schema for table "+h+": "+o[h]);if(b.unique=!0,b.multi)throw new le.Schema("Primary key cannot be multiEntry*");v.forEach(function(w){if(w.auto)throw new le.Schema("Only primary key can be marked as autoIncrement (++)");if(!w.keyPath)throw new le.Schema("Index must have a name and cannot be an empty string")}),v=d._createTableSchema(h,b,v),s[h]=v}})},tr.prototype.stores=function(d){var s=this.db;this._cfg.storesSource=this._cfg.storesSource?f(this._cfg.storesSource,d):d;var d=s._versions,h={},v={};return d.forEach(function(b){f(h,b._cfg.storesSource),v=b._cfg.dbschema={},b._parseStoresSpec(h,v)}),s._dbSchema=v,$o(s,[s._allTables,s,s.Transaction.prototype]),_i(s,[s._allTables,s,s.Transaction.prototype,this._cfg.tables],l(v),v),s._storeNames=l(v),this},tr.prototype.upgrade=function(o){return this._cfg.contentUpgrade=Lt(this._cfg.contentUpgrade||Me,o),this},tr);function tr(){}function Vo(o,s){var d=o._dbNamesDB;return d||(d=o._dbNamesDB=new sn(hi,{addons:[],indexedDB:o,IDBKeyRange:s})).version(1).stores({dbnames:"name"}),d.table("dbnames")}function Uo(o){return o&&typeof o.databases=="function"}function Ko(o){return fn(function(){return W.letThrough=!0,o()})}function Zo(o){return!("from"in o)}var Tt=function(o,s){if(!this){var d=new Tt;return o&&"d"in o&&f(d,o),d}f(this,arguments.length?{d:1,from:o,to:1<arguments.length?s:o}:{d:0})};function Nr(o,s,d){var h=Fe(s,d);if(!isNaN(h)){if(0<h)throw RangeError();if(Zo(o))return f(o,{from:s,to:d,d:1});var v=o.l,h=o.r;if(Fe(d,o.from)<0)return v?Nr(v,s,d):o.l={from:s,to:d,d:1,l:null,r:null},kc(o);if(0<Fe(s,o.to))return h?Nr(h,s,d):o.r={from:s,to:d,d:1,l:null,r:null},kc(o);Fe(s,o.from)<0&&(o.from=s,o.l=null,o.d=h?h.d+1:1),0<Fe(d,o.to)&&(o.to=d,o.r=null,o.d=o.l?o.l.d+1:1),d=!o.r,v&&!o.l&&Or(o,v),h&&d&&Or(o,h)}}function Or(o,s){Zo(s)||function d(h,P){var b=P.from,w=P.to,S=P.l,P=P.r;Nr(h,b,w),S&&d(h,S),P&&d(h,P)}(o,s)}function wc(o,s){var d=Si(s),h=d.next();if(h.done)return!1;for(var v=h.value,b=Si(o),w=b.next(v.from),S=w.value;!h.done&&!w.done;){if(Fe(S.from,v.to)<=0&&0<=Fe(S.to,v.from))return!0;Fe(v.from,S.from)<0?v=(h=d.next(S.from)).value:S=(w=b.next(v.from)).value}return!1}function Si(o){var s=Zo(o)?null:{s:0,n:o};return{next:function(d){for(var h=0<arguments.length;s;)switch(s.s){case 0:if(s.s=1,h)for(;s.n.l&&Fe(d,s.n.from)<0;)s={up:s,n:s.n.l,s:1};else for(;s.n.l;)s={up:s,n:s.n.l,s:1};case 1:if(s.s=2,!h||Fe(d,s.n.to)<=0)return{value:s.n,done:!1};case 2:if(s.n.r){s.s=3,s={up:s,n:s.n.r,s:0};continue}case 3:s=s.up}return{done:!0}}}}function kc(o){var s,d,h=(((s=o.r)===null||s===void 0?void 0:s.d)||0)-(((d=o.l)===null||d===void 0?void 0:d.d)||0),v=1<h?"r":h<-1?"l":"";v&&(s=v=="r"?"l":"r",d=r({},o),h=o[v],o.from=h.from,o.to=h.to,o[v]=h[v],d[v]=h[s],(o[s]=d).d=Tc(d)),o.d=Tc(o)}function Tc(d){var s=d.r,d=d.l;return(s?d?Math.max(s.d,d.d):s.d:d?d.d:0)+1}function Ai(o,s){return l(s).forEach(function(d){o[d]?Or(o[d],s[d]):o[d]=function h(v){var b,w,S={};for(b in v)a(v,b)&&(w=v[b],S[b]=!w||typeof w!="object"||xe.has(w.constructor)?w:h(w));return S}(s[d])}),o}function qo(o,s){return o.all||s.all||Object.keys(o).some(function(d){return s[d]&&wc(s[d],o[d])})}p(Tt.prototype,((Ut={add:function(o){return Or(this,o),this},addKey:function(o){return Nr(this,o,o),this},addKeys:function(o){var s=this;return o.forEach(function(d){return Nr(s,d,d)}),this},hasKey:function(o){var s=Si(this).next(o).value;return s&&Fe(s.from,o)<=0&&0<=Fe(s.to,o)}})[pt]=function(){return Si(this)},Ut));var Cn={},Wo={},Ho=!1;function ji(o){Ai(Wo,o),Ho||(Ho=!0,setTimeout(function(){Ho=!1,Go(Wo,!(Wo={}))},0))}function Go(o,s){s===void 0&&(s=!1);var d=new Set;if(o.all)for(var h=0,v=Object.values(Cn);h<v.length;h++)Sc(w=v[h],o,d,s);else for(var b in o){var w,S=/^idb\:\/\/(.*)\/(.*)\//.exec(b);S&&(b=S[1],S=S[2],(w=Cn["idb://".concat(b,"/").concat(S)])&&Sc(w,o,d,s))}d.forEach(function(P){return P()})}function Sc(o,s,d,h){for(var v=[],b=0,w=Object.entries(o.queries.query);b<w.length;b++){for(var S=w[b],P=S[0],D=[],O=0,A=S[1];O<A.length;O++){var I=A[O];qo(s,I.obsSet)?I.subscribers.forEach(function(M){return d.add(M)}):h&&D.push(I)}h&&v.push([P,D])}if(h)for(var C=0,E=v;C<E.length;C++){var N=E[C],P=N[0],D=N[1];o.queries.query[P]=D}}function Lf(o){var s=o._state,d=o._deps.indexedDB;if(s.isBeingOpened||o.idbdb)return s.dbReadyPromise.then(function(){return s.dbOpenError?st(s.dbOpenError):o});s.isBeingOpened=!0,s.dbOpenError=null,s.openComplete=!1;var h=s.openCanceller,v=Math.round(10*o.verno),b=!1;function w(){if(s.openCanceller!==h)throw new le.DatabaseClosed("db.open() was cancelled")}function S(){return new J(function(I,C){if(w(),!d)throw new le.MissingAPI;var E=o.name,N=s.autoSchema||!v?d.open(E):d.open(E,v);if(!N)throw new le.MissingAPI;N.onerror=Jt(C),N.onblocked=Ye(o._fireOnBlocked),N.onupgradeneeded=Ye(function(M){var R;O=N.transaction,s.autoSchema&&!o._options.allowEmptyDB?(N.onerror=Pr,O.abort(),N.result.close(),(R=d.deleteDatabase(E)).onsuccess=R.onerror=Ye(function(){C(new le.NoSuchDatabase("Database ".concat(E," doesnt exist")))})):(O.onerror=Jt(C),M=M.oldVersion>Math.pow(2,62)?0:M.oldVersion,A=M<1,o.idbdb=N.result,b&&Ff(o,O),zf(o,M/10,O,C))},C),N.onsuccess=Ye(function(){O=null;var M,R,L,B,Z,te=o.idbdb=N.result,oe=F(te.objectStoreNames);if(0<oe.length)try{var ee=te.transaction((B=oe).length===1?B[0]:B,"readonly");if(s.autoSchema)R=te,L=ee,(M=o).verno=R.version/10,L=M._dbSchema=ki(0,R,L),M._storeNames=F(R.objectStoreNames,0),_i(M,[M._allTables],l(L),L);else if(Ti(o,o._dbSchema,ee),((Z=Lo(ki(0,(Z=o).idbdb,ee),Z._dbSchema)).add.length||Z.change.some(function(re){return re.add.length||re.change.length}))&&!b)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),te.close(),v=te.version+1,b=!0,I(S());bi(o,ee)}catch{}Qn.push(o),te.onversionchange=Ye(function(re){s.vcFired=!0,o.on("versionchange").fire(re)}),te.onclose=Ye(function(){o.close({disableAutoOpen:!1})}),A&&(Z=o._deps,ee=E,te=Z.indexedDB,Z=Z.IDBKeyRange,Uo(te)||ee===hi||Vo(te,Z).put({name:ee}).catch(Me)),I()},C)}).catch(function(I){switch(I==null?void 0:I.name){case"UnknownError":if(0<s.PR1398_maxLoop)return s.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),S();break;case"VersionError":if(0<v)return v=0,S()}return J.reject(I)})}var P,D=s.dbReadyResolve,O=null,A=!1;return J.race([h,(typeof navigator>"u"?J.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(I){function C(){return indexedDB.databases().finally(I)}P=setInterval(C,100),C()}).finally(function(){return clearInterval(P)}):Promise.resolve()).then(S)]).then(function(){return w(),s.onReadyBeingFired=[],J.resolve(Ko(function(){return o.on.ready.fire(o.vip)})).then(function I(){if(0<s.onReadyBeingFired.length){var C=s.onReadyBeingFired.reduce(Lt,Me);return s.onReadyBeingFired=[],J.resolve(Ko(function(){return C(o.vip)})).then(I)}})}).finally(function(){s.openCanceller===h&&(s.onReadyBeingFired=null,s.isBeingOpened=!1)}).catch(function(I){s.dbOpenError=I;try{O&&O.abort()}catch{}return h===s.openCanceller&&o._close(),st(I)}).finally(function(){s.openComplete=!0,D()}).then(function(){var I;return A&&(I={},o.tables.forEach(function(C){C.schema.indexes.forEach(function(E){E.name&&(I["idb://".concat(o.name,"/").concat(C.name,"/").concat(E.name)]=new Tt(-1/0,[[[]]]))}),I["idb://".concat(o.name,"/").concat(C.name,"/")]=I["idb://".concat(o.name,"/").concat(C.name,"/:dels")]=new Tt(-1/0,[[[]]])}),gn(Dr).fire(I),Go(I,!0)),o})}function Yo(o){function s(b){return o.next(b)}var d=v(s),h=v(function(b){return o.throw(b)});function v(b){return function(P){var S=b(P),P=S.value;return S.done?P:P&&typeof P.then=="function"?P.then(d,h):u(P)?Promise.all(P).then(d,h):d(P)}}return v(s)()}function Pi(o,s,d){for(var h=u(o)?o.slice():[o],v=0;v<d;++v)h.push(s);return h}var Bf={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(o){return r(r({},o),{table:function(s){var d=o.table(s),h=d.schema,v={},b=[];function w(A,I,C){var E=Er(A),N=v[E]=v[E]||[],M=A==null?0:typeof A=="string"?1:A.length,R=0<I,R=r(r({},C),{name:R?"".concat(E,"(virtual-from:").concat(C.name,")"):C.name,lowLevelIndex:C,isVirtual:R,keyTail:I,keyLength:M,extractKey:Fo(A),unique:!R&&C.unique});return N.push(R),R.isPrimaryKey||b.push(R),1<M&&w(M===2?A[0]:A.slice(0,M-1),I+1,C),N.sort(function(L,B){return L.keyTail-B.keyTail}),R}s=w(h.primaryKey.keyPath,0,h.primaryKey),v[":id"]=[s];for(var S=0,P=h.indexes;S<P.length;S++){var D=P[S];w(D.keyPath,0,D)}function O(A){var I,C=A.query.index;return C.isVirtual?r(r({},A),{query:{index:C.lowLevelIndex,range:(I=A.query.range,C=C.keyTail,{type:I.type===1?2:I.type,lower:Pi(I.lower,I.lowerOpen?o.MAX_KEY:o.MIN_KEY,C),lowerOpen:!0,upper:Pi(I.upper,I.upperOpen?o.MIN_KEY:o.MAX_KEY,C),upperOpen:!0})}}):A}return r(r({},d),{schema:r(r({},h),{primaryKey:s,indexes:b,getIndexByKeyPath:function(A){return(A=v[Er(A)])&&A[0]}}),count:function(A){return d.count(O(A))},query:function(A){return d.query(O(A))},openCursor:function(A){var I=A.query.index,C=I.keyTail,E=I.isVirtual,N=I.keyLength;return E?d.openCursor(O(A)).then(function(R){return R&&M(R)}):d.openCursor(A);function M(R){return Object.create(R,{continue:{value:function(L){L!=null?R.continue(Pi(L,A.reverse?o.MAX_KEY:o.MIN_KEY,C)):A.unique?R.continue(R.key.slice(0,N).concat(A.reverse?o.MIN_KEY:o.MAX_KEY,C)):R.continue()}},continuePrimaryKey:{value:function(L,B){R.continuePrimaryKey(Pi(L,o.MAX_KEY,C),B)}},primaryKey:{get:function(){return R.primaryKey}},key:{get:function(){var L=R.key;return N===1?L[0]:L.slice(0,N)}},value:{get:function(){return R.value}}})}}})}})}};function Xo(o,s,d,h){return d=d||{},h=h||"",l(o).forEach(function(v){var b,w,S;a(s,v)?(b=o[v],w=s[v],typeof b=="object"&&typeof w=="object"&&b&&w?(S=$e(b))!==$e(w)?d[h+v]=s[v]:S==="Object"?Xo(b,w,d,h+v+"."):b!==w&&(d[h+v]=s[v]):b!==w&&(d[h+v]=s[v])):d[h+v]=void 0}),l(s).forEach(function(v){a(o,v)||(d[h+v]=s[v])}),d}function Qo(o,s){return s.type==="delete"?s.keys:s.keys||s.values.map(o.extractKey)}var Vf={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(o){return r(r({},o),{table:function(s){var d=o.table(s),h=d.schema.primaryKey;return r(r({},d),{mutate:function(v){var b=W.trans,w=b.table(s).hook,S=w.deleting,P=w.creating,D=w.updating;switch(v.type){case"add":if(P.fire===Me)break;return b._promise("readwrite",function(){return O(v)},!0);case"put":if(P.fire===Me&&D.fire===Me)break;return b._promise("readwrite",function(){return O(v)},!0);case"delete":if(S.fire===Me)break;return b._promise("readwrite",function(){return O(v)},!0);case"deleteRange":if(S.fire===Me)break;return b._promise("readwrite",function(){return function A(I,C,E){return d.query({trans:I,values:!1,query:{index:h,range:C},limit:E}).then(function(N){var M=N.result;return O({type:"delete",keys:M,trans:I}).then(function(R){return 0<R.numFailures?Promise.reject(R.failures[0]):M.length<E?{failures:[],numFailures:0,lastResult:void 0}:A(I,r(r({},C),{lower:M[M.length-1],lowerOpen:!0}),E)})})}(v.trans,v.range,1e4)},!0)}return d.mutate(v);function O(A){var I,C,E,N=W.trans,M=A.keys||Qo(h,A);if(!M)throw new Error("Keys missing");return(A=A.type==="add"||A.type==="put"?r(r({},A),{keys:M}):r({},A)).type!=="delete"&&(A.values=i([],A.values)),A.keys&&(A.keys=i([],A.keys)),I=d,E=M,((C=A).type==="add"?Promise.resolve([]):I.getMany({trans:C.trans,keys:E,cache:"immutable"})).then(function(R){var L=M.map(function(B,Z){var te,oe,ee,re=R[Z],ae={onerror:null,onsuccess:null};return A.type==="delete"?S.fire.call(ae,B,re,N):A.type==="add"||re===void 0?(te=P.fire.call(ae,B,A.values[Z],N),B==null&&te!=null&&(A.keys[Z]=B=te,h.outbound||q(A.values[Z],h.keyPath,B))):(te=Xo(re,A.values[Z]),(oe=D.fire.call(ae,te,B,re,N))&&(ee=A.values[Z],Object.keys(oe).forEach(function(ie){a(ee,ie)?ee[ie]=oe[ie]:q(ee,ie,oe[ie])}))),ae});return d.mutate(A).then(function(B){for(var Z=B.failures,te=B.results,oe=B.numFailures,B=B.lastResult,ee=0;ee<M.length;++ee){var re=(te||M)[ee],ae=L[ee];re==null?ae.onerror&&ae.onerror(Z[ee]):ae.onsuccess&&ae.onsuccess(A.type==="put"&&R[ee]?A.values[ee]:re)}return{failures:Z,results:te,numFailures:oe,lastResult:B}}).catch(function(B){return L.forEach(function(Z){return Z.onerror&&Z.onerror(B)}),Promise.reject(B)})})}}})}})}};function Ac(o,s,d){try{if(!s||s.keys.length<o.length)return null;for(var h=[],v=0,b=0;v<s.keys.length&&b<o.length;++v)Fe(s.keys[v],o[b])===0&&(h.push(d?Pe(s.values[v]):s.values[v]),++b);return h.length===o.length?h:null}catch{return null}}var Uf={stack:"dbcore",level:-1,create:function(o){return{table:function(s){var d=o.table(s);return r(r({},d),{getMany:function(h){if(!h.cache)return d.getMany(h);var v=Ac(h.keys,h.trans._cache,h.cache==="clone");return v?J.resolve(v):d.getMany(h).then(function(b){return h.trans._cache={keys:h.keys,values:h.cache==="clone"?Pe(b):b},b})},mutate:function(h){return h.type!=="add"&&(h.trans._cache=null),d.mutate(h)}})}}}};function jc(o,s){return o.trans.mode==="readonly"&&!!o.subscr&&!o.trans.explicit&&o.trans.db._options.cache!=="disabled"&&!s.schema.primaryKey.outbound}function Pc(o,s){switch(o){case"query":return s.values&&!s.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Kf={stack:"dbcore",level:0,name:"Observability",create:function(o){var s=o.schema.name,d=new Tt(o.MIN_KEY,o.MAX_KEY);return r(r({},o),{transaction:function(h,v,b){if(W.subscr&&v!=="readonly")throw new le.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(W.querier));return o.transaction(h,v,b)},table:function(h){var v=o.table(h),b=v.schema,w=b.primaryKey,A=b.indexes,S=w.extractKey,P=w.outbound,D=w.autoIncrement&&A.filter(function(C){return C.compound&&C.keyPath.includes(w.keyPath)}),O=r(r({},v),{mutate:function(C){function E(ie){return ie="idb://".concat(s,"/").concat(h,"/").concat(ie),B[ie]||(B[ie]=new Tt)}var N,M,R,L=C.trans,B=C.mutatedParts||(C.mutatedParts={}),Z=E(""),te=E(":dels"),oe=C.type,ae=C.type==="deleteRange"?[C.range]:C.type==="delete"?[C.keys]:C.values.length<50?[Qo(w,C).filter(function(ie){return ie}),C.values]:[],ee=ae[0],re=ae[1],ae=C.trans._cache;return u(ee)?(Z.addKeys(ee),(ae=oe==="delete"||ee.length===re.length?Ac(ee,ae):null)||te.addKeys(ee),(ae||re)&&(N=E,M=ae,R=re,b.indexes.forEach(function(ie){var de=N(ie.name||"");function je(Ie){return Ie!=null?ie.extractKey(Ie):null}function Ce(Ie){return ie.multiEntry&&u(Ie)?Ie.forEach(function(Ft){return de.addKey(Ft)}):de.addKey(Ie)}(M||R).forEach(function(Ie,St){var Se=M&&je(M[St]),St=R&&je(R[St]);Fe(Se,St)!==0&&(Se!=null&&Ce(Se),St!=null&&Ce(St))})}))):ee?(re={from:(re=ee.lower)!==null&&re!==void 0?re:o.MIN_KEY,to:(re=ee.upper)!==null&&re!==void 0?re:o.MAX_KEY},te.add(re),Z.add(re)):(Z.add(d),te.add(d),b.indexes.forEach(function(ie){return E(ie.name).add(d)})),v.mutate(C).then(function(ie){return!ee||C.type!=="add"&&C.type!=="put"||(Z.addKeys(ie.results),D&&D.forEach(function(de){for(var je=C.values.map(function(Se){return de.extractKey(Se)}),Ce=de.keyPath.findIndex(function(Se){return Se===w.keyPath}),Ie=0,Ft=ie.results.length;Ie<Ft;++Ie)je[Ie][Ce]=ie.results[Ie];E(de.name).addKeys(je)})),L.mutatedParts=Ai(L.mutatedParts||{},B),ie})}}),A=function(E){var N=E.query,E=N.index,N=N.range;return[E,new Tt((E=N.lower)!==null&&E!==void 0?E:o.MIN_KEY,(N=N.upper)!==null&&N!==void 0?N:o.MAX_KEY)]},I={get:function(C){return[w,new Tt(C.key)]},getMany:function(C){return[w,new Tt().addKeys(C.keys)]},count:A,query:A,openCursor:A};return l(I).forEach(function(C){O[C]=function(E){var N=W.subscr,M=!!N,R=jc(W,v)&&Pc(C,E)?E.obsSet={}:N;if(M){var L=function(re){return re="idb://".concat(s,"/").concat(h,"/").concat(re),R[re]||(R[re]=new Tt)},B=L(""),Z=L(":dels"),N=I[C](E),M=N[0],N=N[1];if((C==="query"&&M.isPrimaryKey&&!E.values?Z:L(M.name||"")).add(N),!M.isPrimaryKey){if(C!=="count"){var te=C==="query"&&P&&E.values&&v.query(r(r({},E),{values:!1}));return v[C].apply(this,arguments).then(function(re){if(C==="query"){if(P&&E.values)return te.then(function(je){return je=je.result,B.addKeys(je),re});var ae=E.values?re.result.map(S):re.result;(E.values?B:Z).addKeys(ae)}else if(C==="openCursor"){var ie=re,de=E.values;return ie&&Object.create(ie,{key:{get:function(){return Z.addKey(ie.primaryKey),ie.key}},primaryKey:{get:function(){var je=ie.primaryKey;return Z.addKey(je),je}},value:{get:function(){return de&&B.addKey(ie.primaryKey),ie.value}}})}return re})}Z.add(d)}}return v[C].apply(this,arguments)}}),O}})}};function Dc(o,s,d){if(d.numFailures===0)return s;if(s.type==="deleteRange")return null;var h=s.keys?s.keys.length:"values"in s&&s.values?s.values.length:1;return d.numFailures===h?null:(s=r({},s),u(s.keys)&&(s.keys=s.keys.filter(function(v,b){return!(b in d.failures)})),"values"in s&&u(s.values)&&(s.values=s.values.filter(function(v,b){return!(b in d.failures)})),s)}function Jo(o,s){return d=o,((h=s).lower===void 0||(h.lowerOpen?0<Fe(d,h.lower):0<=Fe(d,h.lower)))&&(o=o,(s=s).upper===void 0||(s.upperOpen?Fe(o,s.upper)<0:Fe(o,s.upper)<=0));var d,h}function Cc(o,s,I,h,v,b){if(!I||I.length===0)return o;var w=s.query.index,S=w.multiEntry,P=s.query.range,D=h.schema.primaryKey.extractKey,O=w.extractKey,A=(w.lowLevelIndex||w).extractKey,I=I.reduce(function(C,E){var N=C,M=[];if(E.type==="add"||E.type==="put")for(var R=new Tt,L=E.values.length-1;0<=L;--L){var B,Z=E.values[L],te=D(Z);R.hasKey(te)||(B=O(Z),(S&&u(B)?B.some(function(ie){return Jo(ie,P)}):Jo(B,P))&&(R.addKey(te),M.push(Z)))}switch(E.type){case"add":var oe=new Tt().addKeys(s.values?C.map(function(de){return D(de)}):C),N=C.concat(s.values?M.filter(function(de){return de=D(de),!oe.hasKey(de)&&(oe.addKey(de),!0)}):M.map(function(de){return D(de)}).filter(function(de){return!oe.hasKey(de)&&(oe.addKey(de),!0)}));break;case"put":var ee=new Tt().addKeys(E.values.map(function(de){return D(de)}));N=C.filter(function(de){return!ee.hasKey(s.values?D(de):de)}).concat(s.values?M:M.map(function(de){return D(de)}));break;case"delete":var re=new Tt().addKeys(E.keys);N=C.filter(function(de){return!re.hasKey(s.values?D(de):de)});break;case"deleteRange":var ae=E.range;N=C.filter(function(de){return!Jo(D(de),ae)})}return N},o);return I===o?o:(I.sort(function(C,E){return Fe(A(C),A(E))||Fe(D(C),D(E))}),s.limit&&s.limit<1/0&&(I.length>s.limit?I.length=s.limit:o.length===s.limit&&I.length<s.limit&&(v.dirty=!0)),b?Object.freeze(I):I)}function Ec(o,s){return Fe(o.lower,s.lower)===0&&Fe(o.upper,s.upper)===0&&!!o.lowerOpen==!!s.lowerOpen&&!!o.upperOpen==!!s.upperOpen}function Zf(o,s){return function(d,h,v,b){if(d===void 0)return h!==void 0?-1:0;if(h===void 0)return 1;if((h=Fe(d,h))===0){if(v&&b)return 0;if(v)return 1;if(b)return-1}return h}(o.lower,s.lower,o.lowerOpen,s.lowerOpen)<=0&&0<=function(d,h,v,b){if(d===void 0)return h!==void 0?1:0;if(h===void 0)return-1;if((h=Fe(d,h))===0){if(v&&b)return 0;if(v)return-1;if(b)return 1}return h}(o.upper,s.upper,o.upperOpen,s.upperOpen)}function qf(o,s,d,h){o.subscribers.add(d),h.addEventListener("abort",function(){var v,b;o.subscribers.delete(d),o.subscribers.size===0&&(v=o,b=s,setTimeout(function(){v.subscribers.size===0&&me(b,v)},3e3))})}var Wf={stack:"dbcore",level:0,name:"Cache",create:function(o){var s=o.schema.name;return r(r({},o),{transaction:function(d,h,v){var b,w,S=o.transaction(d,h,v);return h==="readwrite"&&(w=(b=new AbortController).signal,v=function(P){return function(){if(b.abort(),h==="readwrite"){for(var D=new Set,O=0,A=d;O<A.length;O++){var I=A[O],C=Cn["idb://".concat(s,"/").concat(I)];if(C){var E=o.table(I),N=C.optimisticOps.filter(function(de){return de.trans===S});if(S._explicit&&P&&S.mutatedParts)for(var M=0,R=Object.values(C.queries.query);M<R.length;M++)for(var L=0,B=(oe=R[M]).slice();L<B.length;L++)qo((ee=B[L]).obsSet,S.mutatedParts)&&(me(oe,ee),ee.subscribers.forEach(function(de){return D.add(de)}));else if(0<N.length){C.optimisticOps=C.optimisticOps.filter(function(de){return de.trans!==S});for(var Z=0,te=Object.values(C.queries.query);Z<te.length;Z++)for(var oe,ee,re,ae=0,ie=(oe=te[Z]).slice();ae<ie.length;ae++)(ee=ie[ae]).res!=null&&S.mutatedParts&&(P&&!ee.dirty?(re=Object.isFrozen(ee.res),re=Cc(ee.res,ee.req,N,E,ee,re),ee.dirty?(me(oe,ee),ee.subscribers.forEach(function(de){return D.add(de)})):re!==ee.res&&(ee.res=re,ee.promise=J.resolve({result:re}))):(ee.dirty&&me(oe,ee),ee.subscribers.forEach(function(de){return D.add(de)})))}}}D.forEach(function(de){return de()})}}},S.addEventListener("abort",v(!1),{signal:w}),S.addEventListener("error",v(!1),{signal:w}),S.addEventListener("complete",v(!0),{signal:w})),S},table:function(d){var h=o.table(d),v=h.schema.primaryKey;return r(r({},h),{mutate:function(b){var w=W.trans;if(v.outbound||w.db._options.cache==="disabled"||w.explicit||w.idbtrans.mode!=="readwrite")return h.mutate(b);var S=Cn["idb://".concat(s,"/").concat(d)];return S?(w=h.mutate(b),b.type!=="add"&&b.type!=="put"||!(50<=b.values.length||Qo(v,b).some(function(P){return P==null}))?(S.optimisticOps.push(b),b.mutatedParts&&ji(b.mutatedParts),w.then(function(P){0<P.numFailures&&(me(S.optimisticOps,b),(P=Dc(0,b,P))&&S.optimisticOps.push(P),b.mutatedParts&&ji(b.mutatedParts))}),w.catch(function(){me(S.optimisticOps,b),b.mutatedParts&&ji(b.mutatedParts)})):w.then(function(P){var D=Dc(0,r(r({},b),{values:b.values.map(function(O,A){var I;return P.failures[A]?O:(O=(I=v.keyPath)!==null&&I!==void 0&&I.includes(".")?Pe(O):r({},O),q(O,v.keyPath,P.results[A]),O)})}),P);S.optimisticOps.push(D),queueMicrotask(function(){return b.mutatedParts&&ji(b.mutatedParts)})}),w):h.mutate(b)},query:function(b){if(!jc(W,h)||!Pc("query",b))return h.query(b);var w=((D=W.trans)===null||D===void 0?void 0:D.db._options.cache)==="immutable",A=W,S=A.requery,P=A.signal,D=function(E,N,M,R){var L=Cn["idb://".concat(E,"/").concat(N)];if(!L)return[];if(!(N=L.queries[M]))return[null,!1,L,null];var B=N[(R.query?R.query.index.name:null)||""];if(!B)return[null,!1,L,null];switch(M){case"query":var Z=B.find(function(te){return te.req.limit===R.limit&&te.req.values===R.values&&Ec(te.req.query.range,R.query.range)});return Z?[Z,!0,L,B]:[B.find(function(te){return("limit"in te.req?te.req.limit:1/0)>=R.limit&&(!R.values||te.req.values)&&Zf(te.req.query.range,R.query.range)}),!1,L,B];case"count":return Z=B.find(function(te){return Ec(te.req.query.range,R.query.range)}),[Z,!!Z,L,B]}}(s,d,"query",b),O=D[0],A=D[1],I=D[2],C=D[3];return O&&A?O.obsSet=b.obsSet:(A=h.query(b).then(function(E){var N=E.result;if(O&&(O.res=N),w){for(var M=0,R=N.length;M<R;++M)Object.freeze(N[M]);Object.freeze(N)}else E.result=Pe(N);return E}).catch(function(E){return C&&O&&me(C,O),Promise.reject(E)}),O={obsSet:b.obsSet,promise:A,subscribers:new Set,type:"query",req:b,dirty:!1},C?C.push(O):(C=[O],(I=I||(Cn["idb://".concat(s,"/").concat(d)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[b.query.index.name||""]=C)),qf(O,C,S,P),O.promise.then(function(E){return{result:Cc(E.result,b,I==null?void 0:I.optimisticOps,h,O,w)}})}})}})}};function Di(o,s){return new Proxy(o,{get:function(d,h,v){return h==="db"?s:Reflect.get(d,h,v)}})}var sn=(ct.prototype.version=function(o){if(isNaN(o)||o<.1)throw new le.Type("Given version is not a positive number");if(o=Math.round(10*o)/10,this.idbdb||this._state.isBeingOpened)throw new le.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,o);var s=this._versions,d=s.filter(function(h){return h._cfg.version===o})[0];return d||(d=new this.Version(o),s.push(d),s.sort(Rf),d.stores({}),this._state.autoSchema=!1,d)},ct.prototype._whenReady=function(o){var s=this;return this.idbdb&&(this._state.openComplete||W.letThrough||this._vip)?o():new J(function(d,h){if(s._state.openComplete)return h(new le.DatabaseClosed(s._state.dbOpenError));if(!s._state.isBeingOpened){if(!s._state.autoOpen)return void h(new le.DatabaseClosed);s.open().catch(Me)}s._state.dbReadyPromise.then(d,h)}).then(o)},ct.prototype.use=function(o){var s=o.stack,d=o.create,h=o.level,v=o.name;return v&&this.unuse({stack:s,name:v}),o=this._middlewares[s]||(this._middlewares[s]=[]),o.push({stack:s,create:d,level:h??10,name:v}),o.sort(function(b,w){return b.level-w.level}),this},ct.prototype.unuse=function(o){var s=o.stack,d=o.name,h=o.create;return s&&this._middlewares[s]&&(this._middlewares[s]=this._middlewares[s].filter(function(v){return h?v.create!==h:!!d&&v.name!==d})),this},ct.prototype.open=function(){var o=this;return jn(G,function(){return Lf(o)})},ct.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var o=this._state,s=Qn.indexOf(this);if(0<=s&&Qn.splice(s,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}o.isBeingOpened||(o.dbReadyPromise=new J(function(d){o.dbReadyResolve=d}),o.openCanceller=new J(function(d,h){o.cancelOpen=h}))},ct.prototype.close=function(d){var s=(d===void 0?{disableAutoOpen:!0}:d).disableAutoOpen,d=this._state;s?(d.isBeingOpened&&d.cancelOpen(new le.DatabaseClosed),this._close(),d.autoOpen=!1,d.dbOpenError=new le.DatabaseClosed):(this._close(),d.autoOpen=this._options.autoOpen||d.isBeingOpened,d.openComplete=!1,d.dbOpenError=null)},ct.prototype.delete=function(o){var s=this;o===void 0&&(o={disableAutoOpen:!0});var d=0<arguments.length&&typeof arguments[0]!="object",h=this._state;return new J(function(v,b){function w(){s.close(o);var S=s._deps.indexedDB.deleteDatabase(s.name);S.onsuccess=Ye(function(){var P,D,O;P=s._deps,D=s.name,O=P.indexedDB,P=P.IDBKeyRange,Uo(O)||D===hi||Vo(O,P).delete(D).catch(Me),v()}),S.onerror=Jt(b),S.onblocked=s._fireOnBlocked}if(d)throw new le.InvalidArgument("Invalid closeOptions argument to db.delete()");h.isBeingOpened?h.dbReadyPromise.then(w):w()})},ct.prototype.backendDB=function(){return this.idbdb},ct.prototype.isOpen=function(){return this.idbdb!==null},ct.prototype.hasBeenClosed=function(){var o=this._state.dbOpenError;return o&&o.name==="DatabaseClosed"},ct.prototype.hasFailed=function(){return this._state.dbOpenError!==null},ct.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(ct.prototype,"tables",{get:function(){var o=this;return l(this._allTables).map(function(s){return o._allTables[s]})},enumerable:!1,configurable:!0}),ct.prototype.transaction=function(){var o=(function(s,d,h){var v=arguments.length;if(v<2)throw new le.InvalidArgument("Too few arguments");for(var b=new Array(v-1);--v;)b[v-1]=arguments[v];return h=b.pop(),[s,ce(b),h]}).apply(this,arguments);return this._transaction.apply(this,o)},ct.prototype._transaction=function(o,s,d){var h=this,v=W.trans;v&&v.db===this&&o.indexOf("!")===-1||(v=null);var b,w,S=o.indexOf("?")!==-1;o=o.replace("!","").replace("?","");try{if(w=s.map(function(D){if(D=D instanceof h.Table?D.name:D,typeof D!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return D}),o=="r"||o===Eo)b=Eo;else{if(o!="rw"&&o!=No)throw new le.InvalidArgument("Invalid transaction mode: "+o);b=No}if(v){if(v.mode===Eo&&b===No){if(!S)throw new le.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");v=null}v&&w.forEach(function(D){if(v&&v.storeNames.indexOf(D)===-1){if(!S)throw new le.SubTransaction("Table "+D+" not included in parent transaction.");v=null}}),S&&v&&!v.active&&(v=null)}}catch(D){return v?v._promise(null,function(O,A){A(D)}):st(D)}var P=(function D(O,A,I,C,E){return J.resolve().then(function(){var N=W.transless||W,M=O._createTransaction(A,I,O._dbSchema,C);if(M.explicit=!0,N={trans:M,transless:N},C)M.idbtrans=C.idbtrans;else try{M.create(),M.idbtrans._explicit=!0,O._state.PR1398_maxLoop=3}catch(B){return B.name===Le.InvalidState&&O.isOpen()&&0<--O._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),O.close({disableAutoOpen:!1}),O.open().then(function(){return D(O,A,I,null,E)})):st(B)}var R,L=pe(E);return L&&Xn(),N=J.follow(function(){var B;(R=E.call(M,M))&&(L?(B=hn.bind(null,null),R.then(B,B)):typeof R.next=="function"&&typeof R.throw=="function"&&(R=Yo(R)))},N),(R&&typeof R.then=="function"?J.resolve(R).then(function(B){return M.active?B:st(new le.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):N.then(function(){return R})).then(function(B){return C&&M._resolve(),M._completion.then(function(){return B})}).catch(function(B){return M._reject(B),st(B)})})}).bind(null,this,b,w,v,d);return v?v._promise(b,P,"lock"):W.trans?jn(W.transless,function(){return h._whenReady(P)}):this._whenReady(P)},ct.prototype.table=function(o){if(!a(this._allTables,o))throw new le.InvalidTable("Table ".concat(o," does not exist"));return this._allTables[o]},ct);function ct(o,s){var d=this;this._middlewares={},this.verno=0;var h=ct.dependencies;this._options=s=r({addons:ct.addons,autoOpen:!0,indexedDB:h.indexedDB,IDBKeyRange:h.IDBKeyRange,cache:"cloned"},s),this._deps={indexedDB:s.indexedDB,IDBKeyRange:s.IDBKeyRange},h=s.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var v,b,w,S,P,D={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Me,dbReadyPromise:null,cancelOpen:Me,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:s.autoOpen};D.dbReadyPromise=new J(function(A){D.dbReadyResolve=A}),D.openCanceller=new J(function(A,I){D.cancelOpen=I}),this._state=D,this.name=o,this.on=Ar(this,"populate","blocked","versionchange","close",{ready:[Lt,Me]}),this.once=function(A,I){var C=function(){for(var E=[],N=0;N<arguments.length;N++)E[N]=arguments[N];d.on(A).unsubscribe(C),I.apply(d,E)};return d.on(A,C)},this.on.ready.subscribe=$(this.on.ready.subscribe,function(A){return function(I,C){ct.vip(function(){var E,N=d._state;N.openComplete?(N.dbOpenError||J.resolve().then(I),C&&A(I)):N.onReadyBeingFired?(N.onReadyBeingFired.push(I),C&&A(I)):(A(I),E=d,C||A(function M(){E.on.ready.unsubscribe(I),E.on.ready.unsubscribe(M)}))})}}),this.Collection=(v=this,jr(Df.prototype,function(R,M){this.db=v;var C=ac,E=null;if(M)try{C=M()}catch(L){E=L}var N=R._ctx,M=N.table,R=M.hook.reading.fire;this._ctx={table:M,index:N.index,isPrimKey:!N.index||M.schema.primKey.keyPath&&N.index===M.schema.primKey.name,range:C,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:E,or:N.or,valueMapper:R!==H?R:null}})),this.Table=(b=this,jr(pc.prototype,function(A,I,C){this.db=b,this._tx=C,this.name=A,this.schema=I,this.hook=b._allTables[A]?b._allTables[A].hook:Ar(null,{creating:[Be,Me],reading:[he,H],updating:[ht,Me],deleting:[at,Me]})})),this.Transaction=(w=this,jr(Nf.prototype,function(A,I,C,E,N){var M=this;A!=="readonly"&&I.forEach(function(R){R=(R=C[R])===null||R===void 0?void 0:R.yProps,R&&(I=I.concat(R.map(function(L){return L.updatesTable})))}),this.db=w,this.mode=A,this.storeNames=I,this.schema=C,this.chromeTransactionDurability=E,this.idbtrans=null,this.on=Ar(this,"complete","error","abort"),this.parent=N||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new J(function(R,L){M._resolve=R,M._reject=L}),this._completion.then(function(){M.active=!1,M.on.complete.fire()},function(R){var L=M.active;return M.active=!1,M.on.error.fire(R),M.parent?M.parent._reject(R):L&&M.idbtrans&&M.idbtrans.abort(),st(R)})})),this.Version=(S=this,jr($f.prototype,function(A){this.db=S,this._cfg={version:A,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(P=this,jr(gc.prototype,function(A,I,C){if(this.db=P,this._ctx={table:A,index:I===":id"?null:I,or:C},this._cmp=this._ascending=Fe,this._descending=function(E,N){return Fe(N,E)},this._max=function(E,N){return 0<Fe(E,N)?E:N},this._min=function(E,N){return Fe(E,N)<0?E:N},this._IDBKeyRange=P._deps.IDBKeyRange,!this._IDBKeyRange)throw new le.MissingAPI})),this.on("versionchange",function(A){0<A.newVersion?console.warn("Another connection wants to upgrade database '".concat(d.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(d.name,"'. Closing db now to resume the delete request.")),d.close({disableAutoOpen:!1})}),this.on("blocked",function(A){!A.newVersion||A.newVersion<A.oldVersion?console.warn("Dexie.delete('".concat(d.name,"') was blocked")):console.warn("Upgrade '".concat(d.name,"' blocked by other connection holding version ").concat(A.oldVersion/10))}),this._maxKey=Cr(s.IDBKeyRange),this._createTransaction=function(A,I,C,E){return new d.Transaction(A,I,C,d._options.chromeTransactionDurability,E)},this._fireOnBlocked=function(A){d.on("blocked").fire(A),Qn.filter(function(I){return I.name===d.name&&I!==d&&!I._state.vcFired}).map(function(I){return I.on("versionchange").fire(A)})},this.use(Uf),this.use(Wf),this.use(Kf),this.use(Bf),this.use(Vf);var O=new Proxy(this,{get:function(A,I,C){if(I==="_vip")return!0;if(I==="table")return function(N){return Di(d.table(N),O)};var E=Reflect.get(A,I,C);return E instanceof pc?Di(E,O):I==="tables"?E.map(function(N){return Di(N,O)}):I==="_createTransaction"?function(){return Di(E.apply(this,arguments),O)}:E}});this.vip=O,h.forEach(function(A){return A(d)})}var Ci,Ut=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Hf=(ea.prototype.subscribe=function(o,s,d){return this._subscribe(o&&typeof o!="function"?o:{next:o,error:s,complete:d})},ea.prototype[Ut]=function(){return this},ea);function ea(o){this._subscribe=o}try{Ci={indexedDB:c.indexedDB||c.mozIndexedDB||c.webkitIndexedDB||c.msIndexedDB,IDBKeyRange:c.IDBKeyRange||c.webkitIDBKeyRange}}catch{Ci={indexedDB:null,IDBKeyRange:null}}function Nc(o){var s,d=!1,h=new Hf(function(v){var b=pe(o),w,S=!1,P={},D={},O={get closed(){return S},unsubscribe:function(){S||(S=!0,w&&w.abort(),A&&gn.storagemutated.unsubscribe(C))}};v.start&&v.start(O);var A=!1,I=function(){return Co(E)},C=function(N){Ai(P,N),qo(D,P)&&I()},E=function(){var N,M,R;!S&&Ci.indexedDB&&(P={},N={},w&&w.abort(),w=new AbortController,R=function(L){var B=dn();try{b&&Xn();var Z=fn(o,L);return Z=b?Z.finally(hn):Z}finally{B&&pn()}}(M={subscr:N,signal:w.signal,requery:I,querier:o,trans:null}),Promise.resolve(R).then(function(L){d=!0,s=L,S||M.signal.aborted||(P={},function(B){for(var Z in B)if(a(B,Z))return;return 1}(D=N)||A||(gn(Dr,C),A=!0),Co(function(){return!S&&v.next&&v.next(L)}))},function(L){d=!1,["DatabaseClosedError","AbortError"].includes(L==null?void 0:L.name)||S||Co(function(){S||v.error&&v.error(L)})}))};return setTimeout(I,0),O});return h.hasValue=function(){return d},h.getValue=function(){return s},h}var En=sn;function ta(o){var s=yn;try{yn=!0,gn.storagemutated.fire(o),Go(o,!0)}finally{yn=s}}p(En,r(r({},Ue),{delete:function(o){return new En(o,{addons:[]}).delete()},exists:function(o){return new En(o,{addons:[]}).open().then(function(s){return s.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(o){try{return s=En.dependencies,d=s.indexedDB,s=s.IDBKeyRange,(Uo(d)?Promise.resolve(d.databases()).then(function(h){return h.map(function(v){return v.name}).filter(function(v){return v!==hi})}):Vo(d,s).toCollection().primaryKeys()).then(o)}catch{return st(new le.MissingAPI)}var s,d},defineClass:function(){return function(o){f(this,o)}},ignoreTransaction:function(o){return W.trans?jn(W.transless,o):o()},vip:Ko,async:function(o){return function(){try{var s=Yo(o.apply(this,arguments));return s&&typeof s.then=="function"?s:J.resolve(s)}catch(d){return st(d)}}},spawn:function(o,s,d){try{var h=Yo(o.apply(d,s||[]));return h&&typeof h.then=="function"?h:J.resolve(h)}catch(v){return st(v)}},currentTransaction:{get:function(){return W.trans||null}},waitFor:function(o,s){return s=J.resolve(typeof o=="function"?En.ignoreTransaction(o):o).timeout(s||6e4),W.trans?W.trans.waitFor(s):s},Promise:J,debug:{get:function(){return xt},set:function(o){on(o)}},derive:T,extend:f,props:p,override:$,Events:Ar,on:gn,liveQuery:Nc,extendObservabilitySet:Ai,getByKeyPath:Q,setByKeyPath:q,delByKeyPath:function(o,s){typeof s=="string"?q(o,s,void 0):"length"in s&&[].map.call(s,function(d){q(o,d,void 0)})},shallowClone:V,deepClone:Pe,getObjectDiff:Xo,cmp:Fe,asap:X,minKey:-1/0,addons:[],connections:Qn,errnames:Le,dependencies:Ci,cache:Cn,semVer:"4.2.1",version:"4.2.1".split(".").map(function(o){return parseInt(o)}).reduce(function(o,s,d){return o+s/Math.pow(10,2*d)})})),En.maxKey=Cr(En.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(gn(Dr,function(o){yn||(o=new CustomEvent(Io,{detail:o}),yn=!0,dispatchEvent(o),yn=!1)}),addEventListener(Io,function(o){o=o.detail,yn||ta(o)}));var nr,yn=!1,Oc=function(){};return typeof BroadcastChannel<"u"&&((Oc=function(){(nr=new BroadcastChannel(Io)).onmessage=function(o){return o.data&&ta(o.data)}})(),typeof nr.unref=="function"&&nr.unref(),gn(Dr,function(o){yn||nr.postMessage(o)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(o){if(!sn.disableBfCache&&o.persisted){xt&&console.debug("Dexie: handling persisted pagehide"),nr!=null&&nr.close();for(var s=0,d=Qn;s<d.length;s++)d[s].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(o){!sn.disableBfCache&&o.persisted&&(xt&&console.debug("Dexie: handling persisted pageshow"),Oc(),ta({all:new Tt(-1/0,[[]])}))})),J.rejectionMapper=function(o,s){return!o||o instanceof ke||o instanceof TypeError||o instanceof SyntaxError||!o.name||!Yt[o.name]?o:(s=new Yt[o.name](s||o.message,o),"stack"in o&&_(s,"stack",{get:function(){return this.inner.stack}}),s)},on(xt),r(sn,Object.freeze({__proto__:null,Dexie:sn,liveQuery:Nc,Entity:sc,cmp:Fe,PropModification:Sr,replacePrefix:function(o,s){return new Sr({replacePrefix:[o,s]})},add:function(o){return new Sr({add:o})},remove:function(o){return new Sr({remove:o})},default:sn,RangeSet:Tt,mergeRanges:Or,rangesOverlap:wc}),{default:sn}),sn})})(qu);var mh=qu.exports;const ja=vo(mh),$c=Symbol.for("Dexie"),Yi=globalThis[$c]||(globalThis[$c]=ja);if(ja.semVer!==Yi.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${ja.semVer} and ${Yi.semVer}`);const{liveQuery:FT,mergeRanges:$T,rangesOverlap:LT,RangeSet:BT,cmp:VT,Entity:UT,PropModification:KT,replacePrefix:ZT,add:qT,remove:WT,DexieYProvider:HT}=Yi;class vh extends Yi{constructor(){super("universal-timer-db");Mc(this,"timers");this.version(1).stores({timers:"id"})}}const us=new vh,gh=async()=>us.timers.toArray(),ra=async e=>{await us.timers.put(e)},yh=async e=>{await us.timers.delete(e)};function K(e,t,n){function r(u,f){if(u._zod||Object.defineProperty(u,"_zod",{value:{def:f,constr:l,traits:new Set},enumerable:!1}),u._zod.traits.has(e))return;u._zod.traits.add(e),t(u,f);const m=l.prototype,x=Object.keys(m);for(let a=0;a<x.length;a++){const p=x[a];p in u||(u[p]=m[p].bind(u))}}const i=(n==null?void 0:n.Parent)??Object;class c extends i{}Object.defineProperty(c,"name",{value:e});function l(u){var f;const m=n!=null&&n.Parent?new c:this;r(m,u),(f=m._zod).deferred??(f.deferred=[]);for(const x of m._zod.deferred)x();return m}return Object.defineProperty(l,"init",{value:r}),Object.defineProperty(l,Symbol.hasInstance,{value:u=>{var f,m;return n!=null&&n.Parent&&u instanceof n.Parent?!0:(m=(f=u==null?void 0:u._zod)==null?void 0:f.traits)==null?void 0:m.has(e)}}),Object.defineProperty(l,"name",{value:e}),l}class dr extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Wu extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const Hu={};function Bn(e){return Hu}function xh(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,i])=>t.indexOf(+r)===-1).map(([r,i])=>i)}function Pa(e,t){return typeof t=="bigint"?t.toString():t}function ds(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function ps(e){return e==null}function fs(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function bh(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const f=r.match(/\d?e-(\d?)/);f!=null&&f[1]&&(i=Number.parseInt(f[1]))}const c=n>i?n:i,l=Number.parseInt(e.toFixed(c).replace(".","")),u=Number.parseInt(t.toFixed(c).replace(".",""));return l%u/10**c}const Lc=Symbol("evaluating");function Ke(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==Lc)return r===void 0&&(r=Lc,r=n()),r},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}function Zn(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function qn(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function Bc(e){return JSON.stringify(e)}function _h(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Gu="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Xi(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const wh=ds(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Vr(e){if(Xi(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(Xi(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Yu(e){return Vr(e)?{...e}:Array.isArray(e)?[...e]:e}const kh=new Set(["string","number","symbol"]);function fr(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Sn(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function ve(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function Th(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const Sh={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Ah(e,t){const n=e._zod.def,r=qn(e._zod.def,{get shape(){const i={};for(const c in t){if(!(c in n.shape))throw new Error(`Unrecognized key: "${c}"`);t[c]&&(i[c]=n.shape[c])}return Zn(this,"shape",i),i},checks:[]});return Sn(e,r)}function jh(e,t){const n=e._zod.def,r=qn(e._zod.def,{get shape(){const i={...e._zod.def.shape};for(const c in t){if(!(c in n.shape))throw new Error(`Unrecognized key: "${c}"`);t[c]&&delete i[c]}return Zn(this,"shape",i),i},checks:[]});return Sn(e,r)}function Ph(e,t){if(!Vr(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=qn(e._zod.def,{get shape(){const c={...e._zod.def.shape,...t};return Zn(this,"shape",c),c},checks:[]});return Sn(e,i)}function Dh(e,t){if(!Vr(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return Zn(this,"shape",r),r},checks:e._zod.def.checks};return Sn(e,n)}function Ch(e,t){const n=qn(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return Zn(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return Sn(e,n)}function Eh(e,t,n){const r=qn(t._zod.def,{get shape(){const i=t._zod.def.shape,c={...i};if(n)for(const l in n){if(!(l in i))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(c[l]=e?new e({type:"optional",innerType:i[l]}):i[l])}else for(const l in i)c[l]=e?new e({type:"optional",innerType:i[l]}):i[l];return Zn(this,"shape",c),c},checks:[]});return Sn(t,r)}function Nh(e,t,n){const r=qn(t._zod.def,{get shape(){const i=t._zod.def.shape,c={...i};if(n)for(const l in n){if(!(l in c))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(c[l]=new e({type:"nonoptional",innerType:i[l]}))}else for(const l in i)c[l]=new e({type:"nonoptional",innerType:i[l]});return Zn(this,"shape",c),c},checks:[]});return Sn(t,r)}function or(e,t=0){var n;if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function Xu(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Ni(e){return typeof e=="string"?e:e==null?void 0:e.message}function Vn(e,t,n){var i,c,l,u,f,m;const r={...e,path:e.path??[]};if(!e.message){const x=Ni((l=(c=(i=e.inst)==null?void 0:i._zod.def)==null?void 0:c.error)==null?void 0:l.call(c,e))??Ni((u=t==null?void 0:t.error)==null?void 0:u.call(t,e))??Ni((f=n.customError)==null?void 0:f.call(n,e))??Ni((m=n.localeError)==null?void 0:m.call(n,e))??"Invalid input";r.message=x}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function hs(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Ur(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const Qu=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Pa,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Ju=K("$ZodError",Qu),ed=K("$ZodError",Qu,{Parent:Error});function Oh(e,t=n=>n.message){const n={},r=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}function Mh(e,t=n=>n.message){const n={_errors:[]},r=i=>{for(const c of i.issues)if(c.code==="invalid_union"&&c.errors.length)c.errors.map(l=>r({issues:l}));else if(c.code==="invalid_key")r({issues:c.issues});else if(c.code==="invalid_element")r({issues:c.issues});else if(c.path.length===0)n._errors.push(t(c));else{let l=n,u=0;for(;u<c.path.length;){const f=c.path[u];u===c.path.length-1?(l[f]=l[f]||{_errors:[]},l[f]._errors.push(t(c))):l[f]=l[f]||{_errors:[]},l=l[f],u++}}};return r(e),n}const ms=e=>(t,n,r,i)=>{const c=r?Object.assign(r,{async:!1}):{async:!1},l=t._zod.run({value:n,issues:[]},c);if(l instanceof Promise)throw new dr;if(l.issues.length){const u=new((i==null?void 0:i.Err)??e)(l.issues.map(f=>Vn(f,c,Bn())));throw Gu(u,i==null?void 0:i.callee),u}return l.value},vs=e=>async(t,n,r,i)=>{const c=r?Object.assign(r,{async:!0}):{async:!0};let l=t._zod.run({value:n,issues:[]},c);if(l instanceof Promise&&(l=await l),l.issues.length){const u=new((i==null?void 0:i.Err)??e)(l.issues.map(f=>Vn(f,c,Bn())));throw Gu(u,i==null?void 0:i.callee),u}return l.value},yo=e=>(t,n,r)=>{const i=r?{...r,async:!1}:{async:!1},c=t._zod.run({value:n,issues:[]},i);if(c instanceof Promise)throw new dr;return c.issues.length?{success:!1,error:new(e??Ju)(c.issues.map(l=>Vn(l,i,Bn())))}:{success:!0,data:c.value}},Ih=yo(ed),xo=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let c=t._zod.run({value:n,issues:[]},i);return c instanceof Promise&&(c=await c),c.issues.length?{success:!1,error:new e(c.issues.map(l=>Vn(l,i,Bn())))}:{success:!0,data:c.value}},Rh=xo(ed),zh=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ms(e)(t,n,i)},Fh=e=>(t,n,r)=>ms(e)(t,n,r),$h=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return vs(e)(t,n,i)},Lh=e=>async(t,n,r)=>vs(e)(t,n,r),Bh=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return yo(e)(t,n,i)},Vh=e=>(t,n,r)=>yo(e)(t,n,r),Uh=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return xo(e)(t,n,i)},Kh=e=>async(t,n,r)=>xo(e)(t,n,r),Zh=/^[cC][^\s-]{8,}$/,qh=/^[0-9a-z]+$/,Wh=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Hh=/^[0-9a-vA-V]{20}$/,Gh=/^[A-Za-z0-9]{27}$/,Yh=/^[a-zA-Z0-9_-]{21}$/,Xh=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Qh=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Vc=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Jh=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,em="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function tm(){return new RegExp(em,"u")}const nm=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,rm=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,im=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,om=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,am=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,td=/^[A-Za-z0-9_-]*$/,sm=/^\+(?:[0-9]){6,14}[0-9]$/,nd="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",cm=new RegExp(`^${nd}$`);function rd(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function lm(e){return new RegExp(`^${rd(e)}$`)}function um(e){const t=rd({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${nd}T(?:${r})$`)}const dm=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},pm=/^-?\d+$/,fm=/^-?\d+(?:\.\d+)?/,hm=/^(?:true|false)$/i,mm=/^[^A-Z]*$/,vm=/^[^a-z]*$/,It=K("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),id={number:"number",bigint:"bigint",object:"date"},od=K("$ZodCheckLessThan",(e,t)=>{It.init(e,t);const n=id[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,c=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<c&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),ad=K("$ZodCheckGreaterThan",(e,t)=>{It.init(e,t);const n=id[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,c=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>c&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),gm=K("$ZodCheckMultipleOf",(e,t)=>{It.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):bh(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),ym=K("$ZodCheckNumberFormat",(e,t)=>{var l;It.init(e,t),t.format=t.format||"float64";const n=(l=t.format)==null?void 0:l.includes("int"),r=n?"int":"number",[i,c]=Sh[t.format];e._zod.onattach.push(u=>{const f=u._zod.bag;f.format=t.format,f.minimum=i,f.maximum=c,n&&(f.pattern=pm)}),e._zod.check=u=>{const f=u.value;if(n){if(!Number.isInteger(f)){u.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:f,inst:e});return}if(!Number.isSafeInteger(f)){f>0?u.issues.push({input:f,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):u.issues.push({input:f,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort});return}}f<i&&u.issues.push({origin:"number",input:f,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),f>c&&u.issues.push({origin:"number",input:f,code:"too_big",maximum:c,inst:e})}}),xm=K("$ZodCheckMaxLength",(e,t)=>{var n;It.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!ps(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const i=r.value;if(i.length<=t.maximum)return;const l=hs(i);r.issues.push({origin:l,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),bm=K("$ZodCheckMinLength",(e,t)=>{var n;It.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!ps(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const i=r.value;if(i.length>=t.minimum)return;const l=hs(i);r.issues.push({origin:l,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),_m=K("$ZodCheckLengthEquals",(e,t)=>{var n;It.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!ps(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=r=>{const i=r.value,c=i.length;if(c===t.length)return;const l=hs(i),u=c>t.length;r.issues.push({origin:l,...u?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),bo=K("$ZodCheckStringFormat",(e,t)=>{var n,r;It.init(e,t),e._zod.onattach.push(i=>{const c=i._zod.bag;c.format=t.format,t.pattern&&(c.patterns??(c.patterns=new Set),c.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),wm=K("$ZodCheckRegex",(e,t)=>{bo.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),km=K("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=mm),bo.init(e,t)}),Tm=K("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=vm),bo.init(e,t)}),Sm=K("$ZodCheckIncludes",(e,t)=>{It.init(e,t);const n=fr(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(i=>{const c=i._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(r)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),Am=K("$ZodCheckStartsWith",(e,t)=>{It.init(e,t);const n=new RegExp(`^${fr(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),jm=K("$ZodCheckEndsWith",(e,t)=>{It.init(e,t);const n=new RegExp(`.*${fr(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),Pm=K("$ZodCheckOverwrite",(e,t)=>{It.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class Dm{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(l=>l),i=Math.min(...r.map(l=>l.length-l.trimStart().length)),c=r.map(l=>l.slice(i)).map(l=>" ".repeat(this.indent*2)+l);for(const l of c)this.content.push(l)}compile(){const t=Function,n=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(c=>`  ${c}`)];return new t(...n,i.join(`
`))}}const Cm={major:4,minor:1,patch:13},nt=K("$ZodType",(e,t)=>{var i;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Cm;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const c of r)for(const l of c._zod.onattach)l(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(i=e._zod.deferred)==null||i.push(()=>{e._zod.run=e._zod.parse});else{const c=(u,f,m)=>{let x=or(u),a;for(const p of f){if(p._zod.def.when){if(!p._zod.def.when(u))continue}else if(x)continue;const g=u.issues.length,_=p._zod.check(u);if(_ instanceof Promise&&(m==null?void 0:m.async)===!1)throw new dr;if(a||_ instanceof Promise)a=(a??Promise.resolve()).then(async()=>{await _,u.issues.length!==g&&(x||(x=or(u,g)))});else{if(u.issues.length===g)continue;x||(x=or(u,g))}}return a?a.then(()=>u):u},l=(u,f,m)=>{if(or(u))return u.aborted=!0,u;const x=c(f,r,m);if(x instanceof Promise){if(m.async===!1)throw new dr;return x.then(a=>e._zod.parse(a,m))}return e._zod.parse(x,m)};e._zod.run=(u,f)=>{if(f.skipChecks)return e._zod.parse(u,f);if(f.direction==="backward"){const x=e._zod.parse({value:u.value,issues:[]},{...f,skipChecks:!0});return x instanceof Promise?x.then(a=>l(a,u,f)):l(x,u,f)}const m=e._zod.parse(u,f);if(m instanceof Promise){if(f.async===!1)throw new dr;return m.then(x=>c(x,r,f))}return c(m,r,f)}}e["~standard"]={validate:c=>{var l;try{const u=Ih(e,c);return u.success?{value:u.data}:{issues:(l=u.error)==null?void 0:l.issues}}catch{return Rh(e,c).then(f=>{var m;return f.success?{value:f.data}:{issues:(m=f.error)==null?void 0:m.issues}})}},vendor:"zod",version:1}}),gs=K("$ZodString",(e,t)=>{var n;nt.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??dm(e._zod.bag),e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Qe=K("$ZodStringFormat",(e,t)=>{bo.init(e,t),gs.init(e,t)}),Em=K("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Qh),Qe.init(e,t)}),Nm=K("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Vc(r))}else t.pattern??(t.pattern=Vc());Qe.init(e,t)}),Om=K("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=Jh),Qe.init(e,t)}),Mm=K("$ZodURL",(e,t)=>{Qe.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),Im=K("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=tm()),Qe.init(e,t)}),Rm=K("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=Yh),Qe.init(e,t)}),zm=K("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Zh),Qe.init(e,t)}),Fm=K("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=qh),Qe.init(e,t)}),$m=K("$ZodULID",(e,t)=>{t.pattern??(t.pattern=Wh),Qe.init(e,t)}),Lm=K("$ZodXID",(e,t)=>{t.pattern??(t.pattern=Hh),Qe.init(e,t)}),Bm=K("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Gh),Qe.init(e,t)}),Vm=K("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=um(t)),Qe.init(e,t)}),Um=K("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=cm),Qe.init(e,t)}),Km=K("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=lm(t)),Qe.init(e,t)}),Zm=K("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Xh),Qe.init(e,t)}),qm=K("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=nm),Qe.init(e,t),e._zod.bag.format="ipv4"}),Wm=K("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=rm),Qe.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),Hm=K("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=im),Qe.init(e,t)}),Gm=K("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=om),Qe.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,c]=r;if(!c)throw new Error;const l=Number(c);if(`${l}`!==c)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function sd(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const Ym=K("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=am),Qe.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{sd(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function Xm(e){if(!td.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return sd(n)}const Qm=K("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=td),Qe.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{Xm(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),Jm=K("$ZodE164",(e,t)=>{t.pattern??(t.pattern=sm),Qe.init(e,t)});function ev(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const tv=K("$ZodJWT",(e,t)=>{Qe.init(e,t),e._zod.check=n=>{ev(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),cd=K("$ZodNumber",(e,t)=>{nt.init(e,t),e._zod.pattern=e._zod.bag.pattern??fm,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const c=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...c?{received:c}:{}}),n}}),nv=K("$ZodNumberFormat",(e,t)=>{ym.init(e,t),cd.init(e,t)}),rv=K("$ZodBoolean",(e,t)=>{nt.init(e,t),e._zod.pattern=hm,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),n}}),iv=K("$ZodUnknown",(e,t)=>{nt.init(e,t),e._zod.parse=n=>n}),ov=K("$ZodNever",(e,t)=>{nt.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function Uc(e,t,n){e.issues.length&&t.issues.push(...Xu(n,e.issues)),t.value[n]=e.value}const av=K("$ZodArray",(e,t)=>{nt.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const c=[];for(let l=0;l<i.length;l++){const u=i[l],f=t.element._zod.run({value:u,issues:[]},r);f instanceof Promise?c.push(f.then(m=>Uc(m,n,l))):Uc(f,n,l)}return c.length?Promise.all(c).then(()=>n):n}});function Qi(e,t,n,r){e.issues.length&&t.issues.push(...Xu(n,e.issues)),e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function ld(e){var r,i,c,l;const t=Object.keys(e.shape);for(const u of t)if(!((l=(c=(i=(r=e.shape)==null?void 0:r[u])==null?void 0:i._zod)==null?void 0:c.traits)!=null&&l.has("$ZodType")))throw new Error(`Invalid element at key "${u}": expected a Zod schema`);const n=Th(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function ud(e,t,n,r,i,c){const l=[],u=i.keySet,f=i.catchall._zod,m=f.def.type;for(const x in t){if(u.has(x))continue;if(m==="never"){l.push(x);continue}const a=f.run({value:t[x],issues:[]},r);a instanceof Promise?e.push(a.then(p=>Qi(p,n,x,t))):Qi(a,n,x,t)}return l.length&&n.issues.push({code:"unrecognized_keys",keys:l,input:t,inst:c}),e.length?Promise.all(e).then(()=>n):n}const sv=K("$ZodObject",(e,t)=>{nt.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const u=t.shape;Object.defineProperty(t,"shape",{get:()=>{const f={...u};return Object.defineProperty(t,"shape",{value:f}),f}})}const r=ds(()=>ld(t));Ke(e._zod,"propValues",()=>{const u=t.shape,f={};for(const m in u){const x=u[m]._zod;if(x.values){f[m]??(f[m]=new Set);for(const a of x.values)f[m].add(a)}}return f});const i=Xi,c=t.catchall;let l;e._zod.parse=(u,f)=>{l??(l=r.value);const m=u.value;if(!i(m))return u.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),u;u.value={};const x=[],a=l.shape;for(const p of l.keys){const _=a[p]._zod.run({value:m[p],issues:[]},f);_ instanceof Promise?x.push(_.then(T=>Qi(T,u,p,m))):Qi(_,u,p,m)}return c?ud(x,m,u,f,r.value,e):x.length?Promise.all(x).then(()=>u):u}}),cv=K("$ZodObjectJIT",(e,t)=>{sv.init(e,t);const n=e._zod.parse,r=ds(()=>ld(t)),i=p=>{const g=new Dm(["shape","payload","ctx"]),_=r.value,T=$=>{const Y=Bc($);return`shape[${Y}]._zod.run({ value: input[${Y}], issues: [] }, ctx)`};g.write("const input = payload.value;");const j=Object.create(null);let k=0;for(const $ of _.keys)j[$]=`key_${k++}`;g.write("const newResult = {};");for(const $ of _.keys){const Y=j[$],X=Bc($);g.write(`const ${Y} = ${T($)};`),g.write(`
        if (${Y}.issues.length) {
          payload.issues = payload.issues.concat(${Y}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${X}, ...iss.path] : [${X}]
          })));
        }
        
        
        if (${Y}.value === undefined) {
          if (${X} in input) {
            newResult[${X}] = undefined;
          }
        } else {
          newResult[${X}] = ${Y}.value;
        }
        
      `)}g.write("payload.value = newResult;"),g.write("return payload;");const F=g.compile();return($,Y)=>F(p,$,Y)};let c;const l=Xi,u=!Hu.jitless,m=u&&wh.value,x=t.catchall;let a;e._zod.parse=(p,g)=>{a??(a=r.value);const _=p.value;return l(_)?u&&m&&(g==null?void 0:g.async)===!1&&g.jitless!==!0?(c||(c=i(t.shape)),p=c(p,g),x?ud([],_,p,g,a,e):p):n(p,g):(p.issues.push({expected:"object",code:"invalid_type",input:_,inst:e}),p)}});function Kc(e,t,n,r){for(const c of e)if(c.issues.length===0)return t.value=c.value,t;const i=e.filter(c=>!or(c));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(c=>c.issues.map(l=>Vn(l,r,Bn())))}),t)}const lv=K("$ZodUnion",(e,t)=>{nt.init(e,t),Ke(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),Ke(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),Ke(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),Ke(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){const i=t.options.map(c=>c._zod.pattern);return new RegExp(`^(${i.map(c=>fs(c.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(i,c)=>{if(n)return r(i,c);let l=!1;const u=[];for(const f of t.options){const m=f._zod.run({value:i.value,issues:[]},c);if(m instanceof Promise)u.push(m),l=!0;else{if(m.issues.length===0)return m;u.push(m)}}return l?Promise.all(u).then(f=>Kc(f,i,e,c)):Kc(u,i,e,c)}}),uv=K("$ZodIntersection",(e,t)=>{nt.init(e,t),e._zod.parse=(n,r)=>{const i=n.value,c=t.left._zod.run({value:i,issues:[]},r),l=t.right._zod.run({value:i,issues:[]},r);return c instanceof Promise||l instanceof Promise?Promise.all([c,l]).then(([f,m])=>Zc(n,f,m)):Zc(n,c,l)}});function Da(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Vr(e)&&Vr(t)){const n=Object.keys(t),r=Object.keys(e).filter(c=>n.indexOf(c)!==-1),i={...e,...t};for(const c of r){const l=Da(e[c],t[c]);if(!l.valid)return{valid:!1,mergeErrorPath:[c,...l.mergeErrorPath]};i[c]=l.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const i=e[r],c=t[r],l=Da(i,c);if(!l.valid)return{valid:!1,mergeErrorPath:[r,...l.mergeErrorPath]};n.push(l.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Zc(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),or(e))return e;const r=Da(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const dv=K("$ZodEnum",(e,t)=>{nt.init(e,t);const n=xh(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(i=>kh.has(typeof i)).map(i=>typeof i=="string"?fr(i):i.toString()).join("|")})$`),e._zod.parse=(i,c)=>{const l=i.value;return r.has(l)||i.issues.push({code:"invalid_value",values:n,input:l,inst:e}),i}}),pv=K("$ZodLiteral",(e,t)=>{if(nt.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?fr(r):r?fr(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,i)=>{const c=r.value;return n.has(c)||r.issues.push({code:"invalid_value",values:t.values,input:c,inst:e}),r}}),fv=K("$ZodTransform",(e,t)=>{nt.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Wu(e.constructor.name);const i=t.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(l=>(n.value=l,n));if(i instanceof Promise)throw new dr;return n.value=i,n}});function qc(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const hv=K("$ZodOptional",(e,t)=>{nt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Ke(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Ke(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${fs(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(c=>qc(c,n.value)):qc(i,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),mv=K("$ZodNullable",(e,t)=>{nt.init(e,t),Ke(e._zod,"optin",()=>t.innerType._zod.optin),Ke(e._zod,"optout",()=>t.innerType._zod.optout),Ke(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${fs(n.source)}|null)$`):void 0}),Ke(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),vv=K("$ZodDefault",(e,t)=>{nt.init(e,t),e._zod.optin="optional",Ke(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(c=>Wc(c,t)):Wc(i,t)}});function Wc(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const gv=K("$ZodPrefault",(e,t)=>{nt.init(e,t),e._zod.optin="optional",Ke(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),yv=K("$ZodNonOptional",(e,t)=>{nt.init(e,t),Ke(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(c=>Hc(c,e)):Hc(i,e)}});function Hc(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const xv=K("$ZodCatch",(e,t)=>{nt.init(e,t),Ke(e._zod,"optin",()=>t.innerType._zod.optin),Ke(e._zod,"optout",()=>t.innerType._zod.optout),Ke(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(c=>(n.value=c.value,c.issues.length&&(n.value=t.catchValue({...n,error:{issues:c.issues.map(l=>Vn(l,r,Bn()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(c=>Vn(c,r,Bn()))},input:n.value}),n.issues=[]),n)}}),bv=K("$ZodPipe",(e,t)=>{nt.init(e,t),Ke(e._zod,"values",()=>t.in._zod.values),Ke(e._zod,"optin",()=>t.in._zod.optin),Ke(e._zod,"optout",()=>t.out._zod.optout),Ke(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const c=t.out._zod.run(n,r);return c instanceof Promise?c.then(l=>Oi(l,t.in,r)):Oi(c,t.in,r)}const i=t.in._zod.run(n,r);return i instanceof Promise?i.then(c=>Oi(c,t.out,r)):Oi(i,t.out,r)}});function Oi(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const _v=K("$ZodReadonly",(e,t)=>{nt.init(e,t),Ke(e._zod,"propValues",()=>t.innerType._zod.propValues),Ke(e._zod,"values",()=>t.innerType._zod.values),Ke(e._zod,"optin",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optin}),Ke(e._zod,"optout",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optout}),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(Gc):Gc(i)}});function Gc(e){return e.value=Object.freeze(e.value),e}const wv=K("$ZodLazy",(e,t)=>{nt.init(e,t),Ke(e._zod,"innerType",()=>t.getter()),Ke(e._zod,"pattern",()=>{var n,r;return(r=(n=e._zod.innerType)==null?void 0:n._zod)==null?void 0:r.pattern}),Ke(e._zod,"propValues",()=>{var n,r;return(r=(n=e._zod.innerType)==null?void 0:n._zod)==null?void 0:r.propValues}),Ke(e._zod,"optin",()=>{var n,r;return((r=(n=e._zod.innerType)==null?void 0:n._zod)==null?void 0:r.optin)??void 0}),Ke(e._zod,"optout",()=>{var n,r;return((r=(n=e._zod.innerType)==null?void 0:n._zod)==null?void 0:r.optout)??void 0}),e._zod.parse=(n,r)=>e._zod.innerType._zod.run(n,r)}),kv=K("$ZodCustom",(e,t)=>{It.init(e,t),nt.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(c=>Yc(c,n,r,e));Yc(i,n,r,e)}});function Yc(e,t,n,r){if(!e){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),t.issues.push(Ur(i))}}var Xc;class Tv{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function Sv(){return new Tv}(Xc=globalThis).__zod_globalRegistry??(Xc.__zod_globalRegistry=Sv());const Mi=globalThis.__zod_globalRegistry;function Av(e,t){return new e({type:"string",...ve(t)})}function jv(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...ve(t)})}function Qc(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...ve(t)})}function Pv(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...ve(t)})}function Dv(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...ve(t)})}function Cv(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...ve(t)})}function Ev(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...ve(t)})}function Nv(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...ve(t)})}function Ov(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...ve(t)})}function Mv(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...ve(t)})}function Iv(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...ve(t)})}function Rv(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...ve(t)})}function zv(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...ve(t)})}function Fv(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...ve(t)})}function $v(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...ve(t)})}function Lv(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...ve(t)})}function Bv(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...ve(t)})}function Vv(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...ve(t)})}function Uv(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...ve(t)})}function Kv(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...ve(t)})}function Zv(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...ve(t)})}function qv(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...ve(t)})}function Wv(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...ve(t)})}function Hv(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...ve(t)})}function Gv(e,t){return new e({type:"string",format:"date",check:"string_format",...ve(t)})}function Yv(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...ve(t)})}function Xv(e,t){return new e({type:"string",format:"duration",check:"string_format",...ve(t)})}function Qv(e,t){return new e({type:"number",checks:[],...ve(t)})}function Jv(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...ve(t)})}function eg(e,t){return new e({type:"boolean",...ve(t)})}function tg(e){return new e({type:"unknown"})}function ng(e,t){return new e({type:"never",...ve(t)})}function Jc(e,t){return new od({check:"less_than",...ve(t),value:e,inclusive:!1})}function ia(e,t){return new od({check:"less_than",...ve(t),value:e,inclusive:!0})}function el(e,t){return new ad({check:"greater_than",...ve(t),value:e,inclusive:!1})}function oa(e,t){return new ad({check:"greater_than",...ve(t),value:e,inclusive:!0})}function tl(e,t){return new gm({check:"multiple_of",...ve(t),value:e})}function dd(e,t){return new xm({check:"max_length",...ve(t),maximum:e})}function Ji(e,t){return new bm({check:"min_length",...ve(t),minimum:e})}function pd(e,t){return new _m({check:"length_equals",...ve(t),length:e})}function rg(e,t){return new wm({check:"string_format",format:"regex",...ve(t),pattern:e})}function ig(e){return new km({check:"string_format",format:"lowercase",...ve(e)})}function og(e){return new Tm({check:"string_format",format:"uppercase",...ve(e)})}function ag(e,t){return new Sm({check:"string_format",format:"includes",...ve(t),includes:e})}function sg(e,t){return new Am({check:"string_format",format:"starts_with",...ve(t),prefix:e})}function cg(e,t){return new jm({check:"string_format",format:"ends_with",...ve(t),suffix:e})}function xr(e){return new Pm({check:"overwrite",tx:e})}function lg(e){return xr(t=>t.normalize(e))}function ug(){return xr(e=>e.trim())}function dg(){return xr(e=>e.toLowerCase())}function pg(){return xr(e=>e.toUpperCase())}function fg(){return xr(e=>_h(e))}function hg(e,t,n){return new e({type:"array",element:t,...ve(n)})}function mg(e,t,n){return new e({type:"custom",check:"custom",fn:t,...ve(n)})}function vg(e){const t=gg(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Ur(r,n.value,t._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),n.issues.push(Ur(i))}},e(n.value,n)));return t}function gg(e,t){const n=new It({check:"custom",...ve(t)});return n._zod.check=e,n}const yg=K("ZodISODateTime",(e,t)=>{Vm.init(e,t),rt.init(e,t)});function xg(e){return Hv(yg,e)}const bg=K("ZodISODate",(e,t)=>{Um.init(e,t),rt.init(e,t)});function _g(e){return Gv(bg,e)}const wg=K("ZodISOTime",(e,t)=>{Km.init(e,t),rt.init(e,t)});function kg(e){return Yv(wg,e)}const Tg=K("ZodISODuration",(e,t)=>{Zm.init(e,t),rt.init(e,t)});function Sg(e){return Xv(Tg,e)}const Ag=(e,t)=>{Ju.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>Mh(e,n)},flatten:{value:n=>Oh(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,Pa,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,Pa,2)}},isEmpty:{get(){return e.issues.length===0}}})},Gt=K("ZodError",Ag,{Parent:Error}),jg=ms(Gt),Pg=vs(Gt),Dg=yo(Gt),Cg=xo(Gt),Eg=zh(Gt),Ng=Fh(Gt),Og=$h(Gt),Mg=Lh(Gt),Ig=Bh(Gt),Rg=Vh(Gt),zg=Uh(Gt),Fg=Kh(Gt),ot=K("ZodType",(e,t)=>(nt.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(qn(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),e.clone=(n,r)=>Sn(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>jg(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>Dg(e,n,r),e.parseAsync=async(n,r)=>Pg(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>Cg(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>Eg(e,n,r),e.decode=(n,r)=>Ng(e,n,r),e.encodeAsync=async(n,r)=>Og(e,n,r),e.decodeAsync=async(n,r)=>Mg(e,n,r),e.safeEncode=(n,r)=>Ig(e,n,r),e.safeDecode=(n,r)=>Rg(e,n,r),e.safeEncodeAsync=async(n,r)=>zg(e,n,r),e.safeDecodeAsync=async(n,r)=>Fg(e,n,r),e.refine=(n,r)=>e.check(Ey(n,r)),e.superRefine=n=>e.check(Ny(n)),e.overwrite=n=>e.check(xr(n)),e.optional=()=>ol(e),e.nullable=()=>al(e),e.nullish=()=>ol(al(e)),e.nonoptional=n=>ky(e,n),e.array=()=>uy(e),e.or=n=>md([e,n]),e.and=n=>hy(e,n),e.transform=n=>sl(e,gy(n)),e.default=n=>by(e,n),e.prefault=n=>wy(e,n),e.catch=n=>Sy(e,n),e.pipe=n=>sl(e,n),e.readonly=()=>Py(e),e.describe=n=>{const r=e.clone();return Mi.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=Mi.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Mi.get(e);const r=e.clone();return Mi.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),fd=K("_ZodString",(e,t)=>{gs.init(e,t),ot.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(rg(...r)),e.includes=(...r)=>e.check(ag(...r)),e.startsWith=(...r)=>e.check(sg(...r)),e.endsWith=(...r)=>e.check(cg(...r)),e.min=(...r)=>e.check(Ji(...r)),e.max=(...r)=>e.check(dd(...r)),e.length=(...r)=>e.check(pd(...r)),e.nonempty=(...r)=>e.check(Ji(1,...r)),e.lowercase=r=>e.check(ig(r)),e.uppercase=r=>e.check(og(r)),e.trim=()=>e.check(ug()),e.normalize=(...r)=>e.check(lg(...r)),e.toLowerCase=()=>e.check(dg()),e.toUpperCase=()=>e.check(pg()),e.slugify=()=>e.check(fg())}),$g=K("ZodString",(e,t)=>{gs.init(e,t),fd.init(e,t),e.email=n=>e.check(jv(Lg,n)),e.url=n=>e.check(Nv(Bg,n)),e.jwt=n=>e.check(Wv(ny,n)),e.emoji=n=>e.check(Ov(Vg,n)),e.guid=n=>e.check(Qc(nl,n)),e.uuid=n=>e.check(Pv(Ii,n)),e.uuidv4=n=>e.check(Dv(Ii,n)),e.uuidv6=n=>e.check(Cv(Ii,n)),e.uuidv7=n=>e.check(Ev(Ii,n)),e.nanoid=n=>e.check(Mv(Ug,n)),e.guid=n=>e.check(Qc(nl,n)),e.cuid=n=>e.check(Iv(Kg,n)),e.cuid2=n=>e.check(Rv(Zg,n)),e.ulid=n=>e.check(zv(qg,n)),e.base64=n=>e.check(Kv(Jg,n)),e.base64url=n=>e.check(Zv(ey,n)),e.xid=n=>e.check(Fv(Wg,n)),e.ksuid=n=>e.check($v(Hg,n)),e.ipv4=n=>e.check(Lv(Gg,n)),e.ipv6=n=>e.check(Bv(Yg,n)),e.cidrv4=n=>e.check(Vv(Xg,n)),e.cidrv6=n=>e.check(Uv(Qg,n)),e.e164=n=>e.check(qv(ty,n)),e.datetime=n=>e.check(xg(n)),e.date=n=>e.check(_g(n)),e.time=n=>e.check(kg(n)),e.duration=n=>e.check(Sg(n))});function wt(e){return Av($g,e)}const rt=K("ZodStringFormat",(e,t)=>{Qe.init(e,t),fd.init(e,t)}),Lg=K("ZodEmail",(e,t)=>{Om.init(e,t),rt.init(e,t)}),nl=K("ZodGUID",(e,t)=>{Em.init(e,t),rt.init(e,t)}),Ii=K("ZodUUID",(e,t)=>{Nm.init(e,t),rt.init(e,t)}),Bg=K("ZodURL",(e,t)=>{Mm.init(e,t),rt.init(e,t)}),Vg=K("ZodEmoji",(e,t)=>{Im.init(e,t),rt.init(e,t)}),Ug=K("ZodNanoID",(e,t)=>{Rm.init(e,t),rt.init(e,t)}),Kg=K("ZodCUID",(e,t)=>{zm.init(e,t),rt.init(e,t)}),Zg=K("ZodCUID2",(e,t)=>{Fm.init(e,t),rt.init(e,t)}),qg=K("ZodULID",(e,t)=>{$m.init(e,t),rt.init(e,t)}),Wg=K("ZodXID",(e,t)=>{Lm.init(e,t),rt.init(e,t)}),Hg=K("ZodKSUID",(e,t)=>{Bm.init(e,t),rt.init(e,t)}),Gg=K("ZodIPv4",(e,t)=>{qm.init(e,t),rt.init(e,t)}),Yg=K("ZodIPv6",(e,t)=>{Wm.init(e,t),rt.init(e,t)}),Xg=K("ZodCIDRv4",(e,t)=>{Hm.init(e,t),rt.init(e,t)}),Qg=K("ZodCIDRv6",(e,t)=>{Gm.init(e,t),rt.init(e,t)}),Jg=K("ZodBase64",(e,t)=>{Ym.init(e,t),rt.init(e,t)}),ey=K("ZodBase64URL",(e,t)=>{Qm.init(e,t),rt.init(e,t)}),ty=K("ZodE164",(e,t)=>{Jm.init(e,t),rt.init(e,t)}),ny=K("ZodJWT",(e,t)=>{tv.init(e,t),rt.init(e,t)}),hd=K("ZodNumber",(e,t)=>{cd.init(e,t),ot.init(e,t),e.gt=(r,i)=>e.check(el(r,i)),e.gte=(r,i)=>e.check(oa(r,i)),e.min=(r,i)=>e.check(oa(r,i)),e.lt=(r,i)=>e.check(Jc(r,i)),e.lte=(r,i)=>e.check(ia(r,i)),e.max=(r,i)=>e.check(ia(r,i)),e.int=r=>e.check(rl(r)),e.safe=r=>e.check(rl(r)),e.positive=r=>e.check(el(0,r)),e.nonnegative=r=>e.check(oa(0,r)),e.negative=r=>e.check(Jc(0,r)),e.nonpositive=r=>e.check(ia(0,r)),e.multipleOf=(r,i)=>e.check(tl(r,i)),e.step=(r,i)=>e.check(tl(r,i)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function hr(e){return Qv(hd,e)}const ry=K("ZodNumberFormat",(e,t)=>{nv.init(e,t),hd.init(e,t)});function rl(e){return Jv(ry,e)}const iy=K("ZodBoolean",(e,t)=>{rv.init(e,t),ot.init(e,t)});function oy(e){return eg(iy,e)}const ay=K("ZodUnknown",(e,t)=>{iv.init(e,t),ot.init(e,t)});function il(){return tg(ay)}const sy=K("ZodNever",(e,t)=>{ov.init(e,t),ot.init(e,t)});function cy(e){return ng(sy,e)}const ly=K("ZodArray",(e,t)=>{av.init(e,t),ot.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(Ji(n,r)),e.nonempty=n=>e.check(Ji(1,n)),e.max=(n,r)=>e.check(dd(n,r)),e.length=(n,r)=>e.check(pd(n,r)),e.unwrap=()=>e.element});function uy(e,t){return hg(ly,e,t)}const dy=K("ZodObject",(e,t)=>{cv.init(e,t),ot.init(e,t),Ke(e,"shape",()=>t.shape),e.keyof=()=>Wn(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:il()}),e.loose=()=>e.clone({...e._zod.def,catchall:il()}),e.strict=()=>e.clone({...e._zod.def,catchall:cy()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>Ph(e,n),e.safeExtend=n=>Dh(e,n),e.merge=n=>Ch(e,n),e.pick=n=>Ah(e,n),e.omit=n=>jh(e,n),e.partial=(...n)=>Eh(vd,e,n[0]),e.required=(...n)=>Nh(gd,e,n[0])});function ys(e,t){const n={type:"object",shape:e??{},...ve(t)};return new dy(n)}const py=K("ZodUnion",(e,t)=>{lv.init(e,t),ot.init(e,t),e.options=t.options});function md(e,t){return new py({type:"union",options:e,...ve(t)})}const fy=K("ZodIntersection",(e,t)=>{uv.init(e,t),ot.init(e,t)});function hy(e,t){return new fy({type:"intersection",left:e,right:t})}const Ca=K("ZodEnum",(e,t)=>{dv.init(e,t),ot.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,i)=>{const c={};for(const l of r)if(n.has(l))c[l]=t.entries[l];else throw new Error(`Key ${l} not found in enum`);return new Ca({...t,checks:[],...ve(i),entries:c})},e.exclude=(r,i)=>{const c={...t.entries};for(const l of r)if(n.has(l))delete c[l];else throw new Error(`Key ${l} not found in enum`);return new Ca({...t,checks:[],...ve(i),entries:c})}});function Wn(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Ca({type:"enum",entries:n,...ve(t)})}const my=K("ZodLiteral",(e,t)=>{pv.init(e,t),ot.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Hn(e,t){return new my({type:"literal",values:Array.isArray(e)?e:[e],...ve(t)})}const vy=K("ZodTransform",(e,t)=>{fv.init(e,t),ot.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Wu(e.constructor.name);n.addIssue=c=>{if(typeof c=="string")n.issues.push(Ur(c,n.value,t));else{const l=c;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=n.value),l.inst??(l.inst=e),n.issues.push(Ur(l))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(c=>(n.value=c,n)):(n.value=i,n)}});function gy(e){return new vy({type:"transform",transform:e})}const vd=K("ZodOptional",(e,t)=>{hv.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.innerType});function ol(e){return new vd({type:"optional",innerType:e})}const yy=K("ZodNullable",(e,t)=>{mv.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.innerType});function al(e){return new yy({type:"nullable",innerType:e})}const xy=K("ZodDefault",(e,t)=>{vv.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function by(e,t){return new xy({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Yu(t)}})}const _y=K("ZodPrefault",(e,t)=>{gv.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.innerType});function wy(e,t){return new _y({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Yu(t)}})}const gd=K("ZodNonOptional",(e,t)=>{yv.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.innerType});function ky(e,t){return new gd({type:"nonoptional",innerType:e,...ve(t)})}const Ty=K("ZodCatch",(e,t)=>{xv.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function Sy(e,t){return new Ty({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const Ay=K("ZodPipe",(e,t)=>{bv.init(e,t),ot.init(e,t),e.in=t.in,e.out=t.out});function sl(e,t){return new Ay({type:"pipe",in:e,out:t})}const jy=K("ZodReadonly",(e,t)=>{_v.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Py(e){return new jy({type:"readonly",innerType:e})}const Dy=K("ZodLazy",(e,t)=>{wv.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.getter()});function xs(e){return new Dy({type:"lazy",getter:e})}const Cy=K("ZodCustom",(e,t)=>{kv.init(e,t),ot.init(e,t)});function Ey(e,t={}){return mg(Cy,e,t)}function Ny(e){return vg(e)}const Gn=ys({id:wt(),type:wt()}),Oy=Gn.extend({type:Hn("wait"),amount:hr(),unit:Wn(["seconds","minutes","hours","days"])}),My=Gn.extend({type:Hn("waitUntil"),time:wt(),ampm:Wn(["AM","PM"])}),Iy=Gn.extend({type:Hn("playSound"),soundType:Wn(["default","url","upload","custom"]).optional(),label:wt().optional(),customUrl:wt().optional()}),Ry=Gn.extend({type:Hn("playSoundUntil"),soundType:Wn(["default","url","upload","custom"]).optional(),label:wt().optional(),customUrl:wt().optional()}),zy=Gn.extend({type:Hn("notify"),title:wt(),body:wt().optional()}),Fy=Gn.extend({type:Hn("notifyUntil"),title:wt(),body:wt().optional(),label:wt().optional(),timeoutMs:hr().optional(),soundType:Wn(["default","url","upload","custom"]).optional(),customUrl:wt().optional(),interval:hr().optional(),children:xs(()=>bs.array()).optional()}),$y=Gn.extend({type:Hn("loop"),repeat:hr(),children:xs(()=>bs.array())}),bs=xs(()=>md([Oy,My,Iy,Ry,zy,Fy,$y])),Ly=ys({id:wt(),name:wt(),elapsedMs:hr(),loggedAt:hr()}),rr=ys({id:wt(),name:wt(),blocks:bs.array(),mode:Wn(["alarm","stopwatch","simpleStopwatch"]).optional(),locked:oy().optional(),logs:Ly.array().optional()}),By="timer-generator-timers",cl=(e,t,n)=>{const i=e.trim()||"New Timer",c=new Set(t.filter(f=>f.id!==n).map(f=>f.name.trim().toLowerCase()));if(!c.has(i.toLowerCase()))return i;let l=2,u=`${i}${l}`;for(;c.has(u.toLowerCase());)l+=1,u=`${i}${l}`;return u},Ri=e=>{const t=e.mode??"stopwatch",n=t==="simpleStopwatch"?!1:e.locked??!1;return{...e,mode:t,locked:n,logs:Array.isArray(e.logs)?e.logs:[]}};function Vy(){const[e,t]=z.useState([]),[n,r]=z.useState(!1);return z.useEffect(()=>{let u=!0;return(async()=>{try{const m=await gh();if(!u)return;let x=m.map(a=>{const p=rr.safeParse(a);return p.success?Ri(p.data):null}).filter(Boolean);if(x.length===0){const a=localStorage.getItem(By);if(a)try{const p=JSON.parse(a);if(Array.isArray(p)){const g=[];for(const _ of p){const T=rr.safeParse(_);if(T.success){const j=Ri(T.data);g.push(j),await ra(j)}}g.length&&(x=g)}}catch{}}t(x),r(!0)}catch{u&&(r(!0),t([]))}})(),()=>{u=!1}},[]),{timers:e,createTimer:()=>{const u={id:Ot(),name:cl("New Timer",e),blocks:[],mode:"stopwatch",locked:!1,logs:[]};rr.parse(u);const f=[...e,u];return t(f),ra(u),u},updateTimer:u=>{const f=cl(u.name,e,u.id),m=rr.safeParse({...u,name:f}),x=m.success?Ri(m.data):Ri({...u,name:f});rr.parse(x),t(a=>a.map(p=>p.id===x.id?x:p)),ra(x)},deleteTimer:u=>{t(f=>f.filter(m=>m.id!==u)),yh(u)},ready:n}}const Uy="modulepreload",Ky=function(e){return"/"+e},ll={},Zy=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(n.map(f=>{if(f=Ky(f),f in ll)return;ll[f]=!0;const m=f.endsWith(".css"),x=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${x}`))return;const a=document.createElement("link");if(a.rel=m?"stylesheet":Uy,m||(a.as="script"),a.crossOrigin="",a.href=f,u&&a.setAttribute("nonce",u),document.head.appendChild(a),m)return new Promise((p,g)=>{a.addEventListener("load",p),a.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${f}`)))})}))}function c(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&c(u.reason);return t().catch(c)})};function eo(){return eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eo.apply(null,arguments)}function qy(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Wy(e){z.useEffect(e,[])}var Hy=["id","volume","playbackRate","soundEnabled","interrupt","onload"];function Gy(e,t){var n=t===void 0?{}:t,r=n.volume,i=r===void 0?1:r,c=n.playbackRate,l=c===void 0?1:c,u=n.soundEnabled,f=u===void 0?!0:u,m=n.interrupt,x=m===void 0?!1:m,a=n.onload,p=qy(n,Hy),g=ut.useRef(null),_=ut.useRef(!1),T=ut.useState(null),j=T[0],k=T[1],F=ut.useState(null),$=F[0],Y=F[1],X=function(){typeof a=="function"&&a.call(this),_.current&&k(this.duration()*1e3),Y(this)};Wy(function(){return Zy(()=>Promise.resolve().then(()=>sx),void 0).then(function(ce){if(!_.current){var xe;g.current=(xe=ce.Howl)!==null&&xe!==void 0?xe:ce.default.Howl,_.current=!0,new g.current(eo({src:Array.isArray(e)?e:[e],volume:i,rate:l,onload:X},p))}}),function(){_.current=!1}}),ut.useEffect(function(){g.current&&$&&Y(new g.current(eo({src:Array.isArray(e)?e:[e],volume:i,onload:X},p)))},[JSON.stringify(e)]),ut.useEffect(function(){$&&($.volume(i),p.sprite||$.rate(l))},[$,i,l]);var Q=ut.useCallback(function(ce){typeof ce>"u"&&(ce={}),!(!$||!f&&!ce.forceSoundEnabled)&&(x&&$.stop(),ce.playbackRate&&$.rate(ce.playbackRate),$.play(ce.id))},[$,f,x]),q=ut.useCallback(function(ce){$&&$.stop(ce)},[$]),V=ut.useCallback(function(ce){$&&$.pause(ce)},[$]),ne=[Q,{sound:$,stop:q,pause:V,duration:j}];return ne}function _s(e){return new Promise(t=>setTimeout(t,e))}function yd(e,t){switch(t){case"seconds":return e*1e3;case"minutes":return e*60*1e3;case"hours":return e*60*60*1e3;case"days":return e*24*60*60*1e3;default:return e*1e3}}function xd(e,t){const[n,r]=e.split(":");let i=parseInt(n,10);const c=parseInt(r||"0",10);t==="PM"&&i!==12&&(i+=12),t==="AM"&&i===12&&(i=0);const l=new Date;let u=Qf(l,{hours:i,minutes:c,seconds:0,milliseconds:0});return(Jf(u,l)||u.getTime()===l.getTime())&&(u=eh(u,1)),u.getTime()-l.getTime()}function ir(e,t){const n=e.trim(),r=Ic(n,"H:mm",new Date);if(!Rc(r))return t;const i=r.getHours(),c=r.getMinutes(),u=((i+11)%12+1).toString(),f=c.toString().padStart(2,"0"),m=`${u}:${f}`,x=Ic(m,"H:mm",new Date);return Rc(x)?m:t}async function bd(){if(typeof Notification>"u")return"denied";if(Notification.permission==="default")try{return await Notification.requestPermission()}catch{return"denied"}return Notification.permission}function Yy(e,t){if(!(typeof Notification>"u")&&Notification.permission==="granted")try{new Notification(e||"Timer",t?{body:t}:void 0)}catch{}}async function Xy(e,t){let n=yd(Math.max(0,e.amount||0),e.unit);if(n<=0)return;let r=Date.now();for(;!t.abort();){if(t.isPaused()){await t.waitWhilePaused(),r=Date.now();continue}const i=Date.now();if(n-=i-r,r=i,n<=0)break;t.updateState(e.id,n);const c=Math.min(250,n);await _s(c)}t.updateState(e.id,null)}async function Qy(e,t){let n=xd(e.time||"07:00",e.ampm);if(n<=0)return;let r=Date.now();for(;!t.abort();){if(t.isPaused()){await t.waitWhilePaused(),r=Date.now();continue}const i=Date.now();if(n-=i-r,r=i,n<=0)break;t.updateState(e.id,n);const c=Math.min(250,n);await _s(c)}t.updateState(e.id,null)}async function Jy(e,t){if(t.isPaused()&&(await t.waitWhilePaused(),t.abort()))return;const n=e.soundType==="custom"?"url":e.soundType??"default",r="/sounds/alarm.mp3",i=n==="default"?r:e.customUrl||r;await t.playSoundOnce(i),!t.abort()&&t.isPaused()&&await t.waitWhilePaused()}async function ex(e,t){var r;if(t.isPaused()&&(await t.waitWhilePaused(),t.abort()))return;if(await bd()==="granted"){const i=(e.title||"Timer").slice(0,100),c=(r=e.body)==null?void 0:r.slice(0,200);Yy(i,c)}}async function tx(e,t,n){let r=e.timeoutMs??1e4,i=Date.now(),c=!1;const l=async()=>{var f;if(await bd()==="granted"){const m=(e.title||"Timer").slice(0,100),x=(f=e.body)==null?void 0:f.slice(0,200);try{const a=new Notification(m||"Timer",x?{body:x}:void 0);a.onclick=()=>{c=!0,t.stopAudio()},a.onclose=()=>{c=!0,t.stopAudio()}}catch{}}};for(t.updateState(e.id,r),await l();!t.abort()&&!c&&r>0;){if(t.isPaused()){await t.waitWhilePaused(),i=Date.now();continue}const u=e.children||[];if(u.length?await n(u):await _s(200),t.abort()||c)break;const f=Date.now(),m=f-i;if(r-=m,i=f,r<=0||c)break;t.updateState(e.id,Math.max(0,r))}t.updateState(e.id,null),t.stopAudio()}async function nx(e,t,n){const r=e.repeat===-1?1/0:Math.max(1,e.repeat||1);for(let i=0;i<r;i++){if(t.abort())return;await n(e.children)}}function rx(){const[e,t]=z.useState({}),[n,r]=z.useState({}),[i,c]=z.useState(0),l=z.useRef({}),[u,f]=z.useState("/sounds/alarm.mp3"),m=z.useRef(null),[x,{sound:a,stop:p}]=Gy(u,{volume:.8,interrupt:!1,onloaderror:()=>{m.current&&(m.current(),m.current=null)},onplayerror:()=>{m.current&&(m.current(),m.current=null)}});z.useEffect(()=>{if(!m.current||!a)return;const U=()=>{a.off("end",U),a.off("stop",U),m.current&&(m.current(),m.current=null)};return a.once("end",U),a.once("stop",U),x(),()=>{a.off("end",U),a.off("stop",U)}},[a,x]),z.useEffect(()=>{if(!Object.values(n).some(ge=>ge.isRunning))return;const pe=window.setInterval(()=>c(ge=>ge+1),20);return()=>clearInterval(pe)},[n]);const g=z.useCallback(U=>new Promise(pe=>{const ge=U||"/sounds/alarm.mp3";if(ge===u&&a){m.current=pe;const ke=()=>{a.off("end",ke),a.off("stop",ke),m.current&&(m.current(),m.current=null)};a.once("end",ke),a.once("stop",ke),x()}else m.current=pe,f(ge)}),[u,a,x]),_=z.useCallback(()=>{p(),m.current&&(m.current(),m.current=null)},[p]),T=U=>U?U.isRunning&&U.startedAt?U.elapsedMs+(Date.now()-U.startedAt):U.elapsedMs:0,j=z.useCallback((U,pe)=>{r(ge=>{const ke=ge[U.id],Ze=pe!=null&&pe.reset?0:T(ke);return{...ge,[U.id]:{elapsedMs:Ze,isRunning:!0,startedAt:Date.now()}}})},[]),k=z.useCallback(U=>{r(pe=>{const ge=pe[U],ke=T(ge);return{...pe,[U]:{elapsedMs:ke,isRunning:!1,startedAt:null}}})},[]),F=z.useCallback(U=>{r(pe=>({...pe,[U]:{elapsedMs:0,isRunning:!1,startedAt:null}}))},[]),$=z.useCallback(()=>{r(U=>{const pe={};return Object.keys(U).forEach(ge=>{const ke=T(U[ge]);pe[ge]={elapsedMs:ke,isRunning:!1,startedAt:null}}),pe})},[]),Y=z.useCallback(U=>(l.current[U]||(l.current[U]={abort:!1,paused:!1,resumeResolvers:[]}),l.current[U]),[]),X=z.useCallback(U=>{const pe=l.current[U];pe&&(pe.resumeResolvers.forEach(ge=>ge()),pe.resumeResolvers=[])},[]),Q=z.useCallback(U=>{const pe=l.current[U];pe&&(pe.abort=!0,pe.paused=!1,X(U)),_(),t(ge=>({...ge,[U]:{isRunning:!1,activeBlockId:null,remainingMs:null}}))},[X,_]),q=z.useCallback(()=>{Object.keys(l.current).forEach(Q)},[Q]),V=z.useCallback(U=>{const pe=l.current[U];!pe||pe.abort||(pe.paused=!0,_(),t(ge=>{const ke=ge[U];return ke?{...ge,[U]:{...ke,isRunning:!1}}:ge}))},[_]),ne=z.useCallback(U=>{const pe=l.current[U];!pe||pe.abort||!pe.paused||(pe.paused=!1,X(U),t(ge=>{const ke=ge[U];return ke?{...ge,[U]:{...ke,isRunning:!0}}:ge}))},[X]),ce=z.useCallback(async U=>{if(!U.blocks.length)return;Q(U.id);const pe=Y(U.id);pe.abort=!1,pe.paused=!1,X(U.id),t(Ae=>({...Ae,[U.id]:{isRunning:!0,activeBlockId:null,remainingMs:null}}));const ge=async()=>{const Ae=Y(U.id);Ae.paused&&await new Promise(Le=>{Ae.resumeResolvers.push(Le)})},ke=(Ae,Le=null)=>{const Rt=Y(U.id);t(le=>({...le,[U.id]:{isRunning:!(Rt.abort??!1)&&!Rt.paused,activeBlockId:Ae,remainingMs:Le}}))},Ze={abort:()=>Y(U.id).abort??!1,isPaused:()=>Y(U.id).paused??!1,waitWhilePaused:ge,updateState:ke,playSoundOnce:g,stopAudio:_},yt=async Ae=>{for(const Le of Ae){if(Ze.abort()||Ze.isPaused()&&(await Ze.waitWhilePaused(),Ze.abort()))return;ke(Le.id),Le.type==="wait"?await Xy(Le,Ze):Le.type==="waitUntil"?await Qy(Le,Ze):Le.type==="playSound"||Le.type==="playSoundUntil"?await Jy(Le,Ze):Le.type==="notify"?await ex(Le,Ze):Le.type==="notifyUntil"?await tx(Le,Ze,yt):Le.type==="loop"&&await nx(Le,Ze,yt)}};try{await yt(U.blocks)}finally{ke(null),t(Ae=>({...Ae,[U.id]:{isRunning:!1,activeBlockId:null,remainingMs:null}}))}},[Y,X,Q,g,_]),xe=z.useCallback(async(U,pe)=>{if(U.mode==="simpleStopwatch"){j(U,pe);return}const ge=l.current[U.id];if(ge!=null&&ge.paused&&!ge.abort){ne(U.id);return}await ce(U)},[j,ce,ne]),Oe=z.useCallback(U=>{if(U.mode==="simpleStopwatch"){k(U.id);return}V(U.id)},[k,V]),Pe=z.useCallback(async U=>{if(U.mode==="simpleStopwatch"){j(U,{reset:!0});return}await ce(U)},[j,ce]),we=z.useCallback(U=>{k(U),Q(U)},[k,Q]),$e=z.useCallback(()=>{q(),$()},[q,$]),pt=z.useCallback(U=>{var pe,ge;return U?(((pe=e[U])==null?void 0:pe.isRunning)??!1)||(((ge=n[U])==null?void 0:ge.isRunning)??!1):!1},[e,n,i]),Ee=z.useCallback(U=>{var pe;return U?((pe=e[U])==null?void 0:pe.activeBlockId)??null:null},[e]),me=z.useCallback(U=>{var pe;return U?((pe=e[U])==null?void 0:pe.remainingMs)??null:null},[e]),De=z.useCallback(U=>U?T(n[U]):0,[n,i]);return{isRunning:pt,getActiveBlockId:Ee,getRemainingMs:me,getElapsedMs:De,start:xe,pause:Oe,restart:Pe,stop:we,stopAll:$e,resetStopwatch:F}}const ix=({timer:e,onPlayMenu:t,onEdit:n,onDelete:r,isActive:i,isPlaying:c=!1})=>{const l=p=>p.reduce((g,_)=>_.type==="loop"||_.type==="notify"?g+1+l(_.children||[]):g+1,0),u=l(e.blocks),f=!!e.locked,m=e.mode==="alarm"?"Alarm":(e.mode==="stopwatch"||e.mode==="simpleStopwatch","Timer"),x=e.mode==="simpleStopwatch"?(()=>{var g;const p=((g=e.logs)==null?void 0:g.length)??0;return p===0?"No logs yet":`${p} log${p===1?"":"s"}`})():u?`${u} block${u===1?"":"s"}`:"No blocks yet",a=p=>{(p.key==="Enter"||p.key===" ")&&(p.preventDefault(),t())};return y.jsxs("div",{role:"button",tabIndex:0,onClick:t,onKeyDown:a,className:`pastel-card pastel-hover flex flex-col items-start gap-3 p-4 text-left transition-all ${i?"soft-glow":""}`,children:[y.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"text-xs uppercase tracking-wide text-accent-300",children:m}),y.jsx("span",{className:"text-base font-semibold text-accent-600",children:e.name||"Untitled Timer"})]}),c&&y.jsx("span",{className:"text-[11px] font-semibold text-accent-500 bg-accent-50 px-2 py-1 rounded-full border border-accent-100",children:"Playing"})]}),y.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[y.jsx("p",{className:"text-xs text-accent-400",children:x}),y.jsxs("div",{className:"flex items-center gap-2",children:[!f&&y.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),n()},className:"soft-button bg-accent-100 text-accent-500 hover:bg-accent-200 text-xs px-3 py-1",children:"Edit"}),y.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),r(p.shiftKey)},className:"soft-button bg-accent-100 text-accent-500 hover:bg-accent-200 text-xs px-3 py-1",children:"Delete"})]})]})]})},ox=({timers:e,onSelectTimer:t,onEditTimer:n,onDeleteTimer:r,onCreateTimer:i,activeTimerId:c,isTimerRunning:l})=>y.jsx("div",{className:"w-full max-w-4xl mt-6",children:y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.map(u=>y.jsx(ix,{timer:u,isActive:u.id===c,isPlaying:(l==null?void 0:l(u.id))??!1,onPlayMenu:()=>t(u),onEdit:()=>n(u),onDelete:f=>r(u,{skipConfirm:f})},u.id)),y.jsxs("button",{type:"button",onClick:i,className:"pastel-card pastel-hover flex flex-col items-center justify-center gap-2 p-4 border-dashed border-2 border-accent-100 bg-accent-50-60",children:[y.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-accent-100 text-accent-500 text-xl",children:"+"}),y.jsx("span",{className:"text-sm font-medium text-accent-500",children:"Create New Timer"})]})]})});var _o={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var a=this||n;return a._counter=1e3,a._html5AudioPool=[],a.html5PoolSize=10,a._codecs={},a._howls=[],a._muted=!1,a._volume=1,a._canPlayEvent="canplaythrough",a._navigator=typeof window<"u"&&window.navigator?window.navigator:null,a.masterGain=null,a.noAudio=!1,a.usingWebAudio=!0,a.autoSuspend=!0,a.ctx=null,a.autoUnlock=!0,a._setup(),a},volume:function(a){var p=this||n;if(a=parseFloat(a),p.ctx||x(),typeof a<"u"&&a>=0&&a<=1){if(p._volume=a,p._muted)return p;p.usingWebAudio&&p.masterGain.gain.setValueAtTime(a,n.ctx.currentTime);for(var g=0;g<p._howls.length;g++)if(!p._howls[g]._webAudio)for(var _=p._howls[g]._getSoundIds(),T=0;T<_.length;T++){var j=p._howls[g]._soundById(_[T]);j&&j._node&&(j._node.volume=j._volume*a)}return p}return p._volume},mute:function(a){var p=this||n;p.ctx||x(),p._muted=a,p.usingWebAudio&&p.masterGain.gain.setValueAtTime(a?0:p._volume,n.ctx.currentTime);for(var g=0;g<p._howls.length;g++)if(!p._howls[g]._webAudio)for(var _=p._howls[g]._getSoundIds(),T=0;T<_.length;T++){var j=p._howls[g]._soundById(_[T]);j&&j._node&&(j._node.muted=a?!0:j._muted)}return p},stop:function(){for(var a=this||n,p=0;p<a._howls.length;p++)a._howls[p].stop();return a},unload:function(){for(var a=this||n,p=a._howls.length-1;p>=0;p--)a._howls[p].unload();return a.usingWebAudio&&a.ctx&&typeof a.ctx.close<"u"&&(a.ctx.close(),a.ctx=null,x()),a},codecs:function(a){return(this||n)._codecs[a.replace(/^x-/,"")]},_setup:function(){var a=this||n;if(a.state=a.ctx&&a.ctx.state||"suspended",a._autoSuspend(),!a.usingWebAudio)if(typeof Audio<"u")try{var p=new Audio;typeof p.oncanplaythrough>"u"&&(a._canPlayEvent="canplay")}catch{a.noAudio=!0}else a.noAudio=!0;try{var p=new Audio;p.muted&&(a.noAudio=!0)}catch{}return a.noAudio||a._setupCodecs(),a},_setupCodecs:function(){var a=this||n,p=null;try{p=typeof Audio<"u"?new Audio:null}catch{return a}if(!p||typeof p.canPlayType!="function")return a;var g=p.canPlayType("audio/mpeg;").replace(/^no$/,""),_=a._navigator?a._navigator.userAgent:"",T=_.match(/OPR\/(\d+)/g),j=T&&parseInt(T[0].split("/")[1],10)<33,k=_.indexOf("Safari")!==-1&&_.indexOf("Chrome")===-1,F=_.match(/Version\/(.*?) /),$=k&&F&&parseInt(F[1],10)<15;return a._codecs={mp3:!!(!j&&(g||p.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!g,opus:!!p.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!p.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!p.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(p.canPlayType('audio/wav; codecs="1"')||p.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!p.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!p.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(p.canPlayType("audio/x-m4a;")||p.canPlayType("audio/m4a;")||p.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(p.canPlayType("audio/x-m4b;")||p.canPlayType("audio/m4b;")||p.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(p.canPlayType("audio/x-mp4;")||p.canPlayType("audio/mp4;")||p.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!$&&p.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!$&&p.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!p.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(p.canPlayType("audio/x-flac;")||p.canPlayType("audio/flac;")).replace(/^no$/,"")},a},_unlockAudio:function(){var a=this||n;if(!(a._audioUnlocked||!a.ctx)){a._audioUnlocked=!1,a.autoUnlock=!1,!a._mobileUnloaded&&a.ctx.sampleRate!==44100&&(a._mobileUnloaded=!0,a.unload()),a._scratchBuffer=a.ctx.createBuffer(1,1,22050);var p=function(g){for(;a._html5AudioPool.length<a.html5PoolSize;)try{var _=new Audio;_._unlocked=!0,a._releaseHtml5Audio(_)}catch{a.noAudio=!0;break}for(var T=0;T<a._howls.length;T++)if(!a._howls[T]._webAudio)for(var j=a._howls[T]._getSoundIds(),k=0;k<j.length;k++){var F=a._howls[T]._soundById(j[k]);F&&F._node&&!F._node._unlocked&&(F._node._unlocked=!0,F._node.load())}a._autoResume();var $=a.ctx.createBufferSource();$.buffer=a._scratchBuffer,$.connect(a.ctx.destination),typeof $.start>"u"?$.noteOn(0):$.start(0),typeof a.ctx.resume=="function"&&a.ctx.resume(),$.onended=function(){$.disconnect(0),a._audioUnlocked=!0,document.removeEventListener("touchstart",p,!0),document.removeEventListener("touchend",p,!0),document.removeEventListener("click",p,!0),document.removeEventListener("keydown",p,!0);for(var Y=0;Y<a._howls.length;Y++)a._howls[Y]._emit("unlock")}};return document.addEventListener("touchstart",p,!0),document.addEventListener("touchend",p,!0),document.addEventListener("click",p,!0),document.addEventListener("keydown",p,!0),a}},_obtainHtml5Audio:function(){var a=this||n;if(a._html5AudioPool.length)return a._html5AudioPool.pop();var p=new Audio().play();return p&&typeof Promise<"u"&&(p instanceof Promise||typeof p.then=="function")&&p.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(a){var p=this||n;return a._unlocked&&p._html5AudioPool.push(a),p},_autoSuspend:function(){var a=this;if(!(!a.autoSuspend||!a.ctx||typeof a.ctx.suspend>"u"||!n.usingWebAudio)){for(var p=0;p<a._howls.length;p++)if(a._howls[p]._webAudio){for(var g=0;g<a._howls[p]._sounds.length;g++)if(!a._howls[p]._sounds[g]._paused)return a}return a._suspendTimer&&clearTimeout(a._suspendTimer),a._suspendTimer=setTimeout(function(){if(a.autoSuspend){a._suspendTimer=null,a.state="suspending";var _=function(){a.state="suspended",a._resumeAfterSuspend&&(delete a._resumeAfterSuspend,a._autoResume())};a.ctx.suspend().then(_,_)}},3e4),a}},_autoResume:function(){var a=this;if(!(!a.ctx||typeof a.ctx.resume>"u"||!n.usingWebAudio))return a.state==="running"&&a.ctx.state!=="interrupted"&&a._suspendTimer?(clearTimeout(a._suspendTimer),a._suspendTimer=null):a.state==="suspended"||a.state==="running"&&a.ctx.state==="interrupted"?(a.ctx.resume().then(function(){a.state="running";for(var p=0;p<a._howls.length;p++)a._howls[p]._emit("resume")}),a._suspendTimer&&(clearTimeout(a._suspendTimer),a._suspendTimer=null)):a.state==="suspending"&&(a._resumeAfterSuspend=!0),a}};var n=new t,r=function(a){var p=this;if(!a.src||a.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}p.init(a)};r.prototype={init:function(a){var p=this;return n.ctx||x(),p._autoplay=a.autoplay||!1,p._format=typeof a.format!="string"?a.format:[a.format],p._html5=a.html5||!1,p._muted=a.mute||!1,p._loop=a.loop||!1,p._pool=a.pool||5,p._preload=typeof a.preload=="boolean"||a.preload==="metadata"?a.preload:!0,p._rate=a.rate||1,p._sprite=a.sprite||{},p._src=typeof a.src!="string"?a.src:[a.src],p._volume=a.volume!==void 0?a.volume:1,p._xhr={method:a.xhr&&a.xhr.method?a.xhr.method:"GET",headers:a.xhr&&a.xhr.headers?a.xhr.headers:null,withCredentials:a.xhr&&a.xhr.withCredentials?a.xhr.withCredentials:!1},p._duration=0,p._state="unloaded",p._sounds=[],p._endTimers={},p._queue=[],p._playLock=!1,p._onend=a.onend?[{fn:a.onend}]:[],p._onfade=a.onfade?[{fn:a.onfade}]:[],p._onload=a.onload?[{fn:a.onload}]:[],p._onloaderror=a.onloaderror?[{fn:a.onloaderror}]:[],p._onplayerror=a.onplayerror?[{fn:a.onplayerror}]:[],p._onpause=a.onpause?[{fn:a.onpause}]:[],p._onplay=a.onplay?[{fn:a.onplay}]:[],p._onstop=a.onstop?[{fn:a.onstop}]:[],p._onmute=a.onmute?[{fn:a.onmute}]:[],p._onvolume=a.onvolume?[{fn:a.onvolume}]:[],p._onrate=a.onrate?[{fn:a.onrate}]:[],p._onseek=a.onseek?[{fn:a.onseek}]:[],p._onunlock=a.onunlock?[{fn:a.onunlock}]:[],p._onresume=[],p._webAudio=n.usingWebAudio&&!p._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(p),p._autoplay&&p._queue.push({event:"play",action:function(){p.play()}}),p._preload&&p._preload!=="none"&&p.load(),p},load:function(){var a=this,p=null;if(n.noAudio){a._emit("loaderror",null,"No audio support.");return}typeof a._src=="string"&&(a._src=[a._src]);for(var g=0;g<a._src.length;g++){var _,T;if(a._format&&a._format[g])_=a._format[g];else{if(T=a._src[g],typeof T!="string"){a._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}_=/^data:audio\/([^;,]+);/i.exec(T),_||(_=/\.([^.]+)$/.exec(T.split("?",1)[0])),_&&(_=_[1].toLowerCase())}if(_||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),_&&n.codecs(_)){p=a._src[g];break}}if(!p){a._emit("loaderror",null,"No codec support for selected audio sources.");return}return a._src=p,a._state="loading",window.location.protocol==="https:"&&p.slice(0,5)==="http:"&&(a._html5=!0,a._webAudio=!1),new i(a),a._webAudio&&l(a),a},play:function(a,p){var g=this,_=null;if(typeof a=="number")_=a,a=null;else{if(typeof a=="string"&&g._state==="loaded"&&!g._sprite[a])return null;if(typeof a>"u"&&(a="__default",!g._playLock)){for(var T=0,j=0;j<g._sounds.length;j++)g._sounds[j]._paused&&!g._sounds[j]._ended&&(T++,_=g._sounds[j]._id);T===1?a=null:_=null}}var k=_?g._soundById(_):g._inactiveSound();if(!k)return null;if(_&&!a&&(a=k._sprite||"__default"),g._state!=="loaded"){k._sprite=a,k._ended=!1;var F=k._id;return g._queue.push({event:"play",action:function(){g.play(F)}}),F}if(_&&!k._paused)return p||g._loadQueue("play"),k._id;g._webAudio&&n._autoResume();var $=Math.max(0,k._seek>0?k._seek:g._sprite[a][0]/1e3),Y=Math.max(0,(g._sprite[a][0]+g._sprite[a][1])/1e3-$),X=Y*1e3/Math.abs(k._rate),Q=g._sprite[a][0]/1e3,q=(g._sprite[a][0]+g._sprite[a][1])/1e3;k._sprite=a,k._ended=!1;var V=function(){k._paused=!1,k._seek=$,k._start=Q,k._stop=q,k._loop=!!(k._loop||g._sprite[a][2])};if($>=q){g._ended(k);return}var ne=k._node;if(g._webAudio){var ce=function(){g._playLock=!1,V(),g._refreshBuffer(k);var we=k._muted||g._muted?0:k._volume;ne.gain.setValueAtTime(we,n.ctx.currentTime),k._playStart=n.ctx.currentTime,typeof ne.bufferSource.start>"u"?k._loop?ne.bufferSource.noteGrainOn(0,$,86400):ne.bufferSource.noteGrainOn(0,$,Y):k._loop?ne.bufferSource.start(0,$,86400):ne.bufferSource.start(0,$,Y),X!==1/0&&(g._endTimers[k._id]=setTimeout(g._ended.bind(g,k),X)),p||setTimeout(function(){g._emit("play",k._id),g._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?ce():(g._playLock=!0,g.once("resume",ce),g._clearTimer(k._id))}else{var xe=function(){ne.currentTime=$,ne.muted=k._muted||g._muted||n._muted||ne.muted,ne.volume=k._volume*n.volume(),ne.playbackRate=k._rate;try{var we=ne.play();if(we&&typeof Promise<"u"&&(we instanceof Promise||typeof we.then=="function")?(g._playLock=!0,V(),we.then(function(){g._playLock=!1,ne._unlocked=!0,p?g._loadQueue():g._emit("play",k._id)}).catch(function(){g._playLock=!1,g._emit("playerror",k._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),k._ended=!0,k._paused=!0})):p||(g._playLock=!1,V(),g._emit("play",k._id)),ne.playbackRate=k._rate,ne.paused){g._emit("playerror",k._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}a!=="__default"||k._loop?g._endTimers[k._id]=setTimeout(g._ended.bind(g,k),X):(g._endTimers[k._id]=function(){g._ended(k),ne.removeEventListener("ended",g._endTimers[k._id],!1)},ne.addEventListener("ended",g._endTimers[k._id],!1))}catch($e){g._emit("playerror",k._id,$e)}};ne.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(ne.src=g._src,ne.load());var Oe=window&&window.ejecta||!ne.readyState&&n._navigator.isCocoonJS;if(ne.readyState>=3||Oe)xe();else{g._playLock=!0,g._state="loading";var Pe=function(){g._state="loaded",xe(),ne.removeEventListener(n._canPlayEvent,Pe,!1)};ne.addEventListener(n._canPlayEvent,Pe,!1),g._clearTimer(k._id)}}return k._id},pause:function(a){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"pause",action:function(){p.pause(a)}}),p;for(var g=p._getSoundIds(a),_=0;_<g.length;_++){p._clearTimer(g[_]);var T=p._soundById(g[_]);if(T&&!T._paused&&(T._seek=p.seek(g[_]),T._rateSeek=0,T._paused=!0,p._stopFade(g[_]),T._node))if(p._webAudio){if(!T._node.bufferSource)continue;typeof T._node.bufferSource.stop>"u"?T._node.bufferSource.noteOff(0):T._node.bufferSource.stop(0),p._cleanBuffer(T._node)}else(!isNaN(T._node.duration)||T._node.duration===1/0)&&T._node.pause();arguments[1]||p._emit("pause",T?T._id:null)}return p},stop:function(a,p){var g=this;if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"stop",action:function(){g.stop(a)}}),g;for(var _=g._getSoundIds(a),T=0;T<_.length;T++){g._clearTimer(_[T]);var j=g._soundById(_[T]);j&&(j._seek=j._start||0,j._rateSeek=0,j._paused=!0,j._ended=!0,g._stopFade(_[T]),j._node&&(g._webAudio?j._node.bufferSource&&(typeof j._node.bufferSource.stop>"u"?j._node.bufferSource.noteOff(0):j._node.bufferSource.stop(0),g._cleanBuffer(j._node)):(!isNaN(j._node.duration)||j._node.duration===1/0)&&(j._node.currentTime=j._start||0,j._node.pause(),j._node.duration===1/0&&g._clearSound(j._node))),p||g._emit("stop",j._id))}return g},mute:function(a,p){var g=this;if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"mute",action:function(){g.mute(a,p)}}),g;if(typeof p>"u")if(typeof a=="boolean")g._muted=a;else return g._muted;for(var _=g._getSoundIds(p),T=0;T<_.length;T++){var j=g._soundById(_[T]);j&&(j._muted=a,j._interval&&g._stopFade(j._id),g._webAudio&&j._node?j._node.gain.setValueAtTime(a?0:j._volume,n.ctx.currentTime):j._node&&(j._node.muted=n._muted?!0:a),g._emit("mute",j._id))}return g},volume:function(){var a=this,p=arguments,g,_;if(p.length===0)return a._volume;if(p.length===1||p.length===2&&typeof p[1]>"u"){var T=a._getSoundIds(),j=T.indexOf(p[0]);j>=0?_=parseInt(p[0],10):g=parseFloat(p[0])}else p.length>=2&&(g=parseFloat(p[0]),_=parseInt(p[1],10));var k;if(typeof g<"u"&&g>=0&&g<=1){if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"volume",action:function(){a.volume.apply(a,p)}}),a;typeof _>"u"&&(a._volume=g),_=a._getSoundIds(_);for(var F=0;F<_.length;F++)k=a._soundById(_[F]),k&&(k._volume=g,p[2]||a._stopFade(_[F]),a._webAudio&&k._node&&!k._muted?k._node.gain.setValueAtTime(g,n.ctx.currentTime):k._node&&!k._muted&&(k._node.volume=g*n.volume()),a._emit("volume",k._id))}else return k=_?a._soundById(_):a._sounds[0],k?k._volume:0;return a},fade:function(a,p,g,_){var T=this;if(T._state!=="loaded"||T._playLock)return T._queue.push({event:"fade",action:function(){T.fade(a,p,g,_)}}),T;a=Math.min(Math.max(0,parseFloat(a)),1),p=Math.min(Math.max(0,parseFloat(p)),1),g=parseFloat(g),T.volume(a,_);for(var j=T._getSoundIds(_),k=0;k<j.length;k++){var F=T._soundById(j[k]);if(F){if(_||T._stopFade(j[k]),T._webAudio&&!F._muted){var $=n.ctx.currentTime,Y=$+g/1e3;F._volume=a,F._node.gain.setValueAtTime(a,$),F._node.gain.linearRampToValueAtTime(p,Y)}T._startFadeInterval(F,a,p,g,j[k],typeof _>"u")}}return T},_startFadeInterval:function(a,p,g,_,T,j){var k=this,F=p,$=g-p,Y=Math.abs($/.01),X=Math.max(4,Y>0?_/Y:_),Q=Date.now();a._fadeTo=g,a._interval=setInterval(function(){var q=(Date.now()-Q)/_;Q=Date.now(),F+=$*q,F=Math.round(F*100)/100,$<0?F=Math.max(g,F):F=Math.min(g,F),k._webAudio?a._volume=F:k.volume(F,a._id,!0),j&&(k._volume=F),(g<p&&F<=g||g>p&&F>=g)&&(clearInterval(a._interval),a._interval=null,a._fadeTo=null,k.volume(g,a._id),k._emit("fade",a._id))},X)},_stopFade:function(a){var p=this,g=p._soundById(a);return g&&g._interval&&(p._webAudio&&g._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(g._interval),g._interval=null,p.volume(g._fadeTo,a),g._fadeTo=null,p._emit("fade",a)),p},loop:function(){var a=this,p=arguments,g,_,T;if(p.length===0)return a._loop;if(p.length===1)if(typeof p[0]=="boolean")g=p[0],a._loop=g;else return T=a._soundById(parseInt(p[0],10)),T?T._loop:!1;else p.length===2&&(g=p[0],_=parseInt(p[1],10));for(var j=a._getSoundIds(_),k=0;k<j.length;k++)T=a._soundById(j[k]),T&&(T._loop=g,a._webAudio&&T._node&&T._node.bufferSource&&(T._node.bufferSource.loop=g,g&&(T._node.bufferSource.loopStart=T._start||0,T._node.bufferSource.loopEnd=T._stop,a.playing(j[k])&&(a.pause(j[k],!0),a.play(j[k],!0)))));return a},rate:function(){var a=this,p=arguments,g,_;if(p.length===0)_=a._sounds[0]._id;else if(p.length===1){var T=a._getSoundIds(),j=T.indexOf(p[0]);j>=0?_=parseInt(p[0],10):g=parseFloat(p[0])}else p.length===2&&(g=parseFloat(p[0]),_=parseInt(p[1],10));var k;if(typeof g=="number"){if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"rate",action:function(){a.rate.apply(a,p)}}),a;typeof _>"u"&&(a._rate=g),_=a._getSoundIds(_);for(var F=0;F<_.length;F++)if(k=a._soundById(_[F]),k){a.playing(_[F])&&(k._rateSeek=a.seek(_[F]),k._playStart=a._webAudio?n.ctx.currentTime:k._playStart),k._rate=g,a._webAudio&&k._node&&k._node.bufferSource?k._node.bufferSource.playbackRate.setValueAtTime(g,n.ctx.currentTime):k._node&&(k._node.playbackRate=g);var $=a.seek(_[F]),Y=(a._sprite[k._sprite][0]+a._sprite[k._sprite][1])/1e3-$,X=Y*1e3/Math.abs(k._rate);(a._endTimers[_[F]]||!k._paused)&&(a._clearTimer(_[F]),a._endTimers[_[F]]=setTimeout(a._ended.bind(a,k),X)),a._emit("rate",k._id)}}else return k=a._soundById(_),k?k._rate:a._rate;return a},seek:function(){var a=this,p=arguments,g,_;if(p.length===0)a._sounds.length&&(_=a._sounds[0]._id);else if(p.length===1){var T=a._getSoundIds(),j=T.indexOf(p[0]);j>=0?_=parseInt(p[0],10):a._sounds.length&&(_=a._sounds[0]._id,g=parseFloat(p[0]))}else p.length===2&&(g=parseFloat(p[0]),_=parseInt(p[1],10));if(typeof _>"u")return 0;if(typeof g=="number"&&(a._state!=="loaded"||a._playLock))return a._queue.push({event:"seek",action:function(){a.seek.apply(a,p)}}),a;var k=a._soundById(_);if(k)if(typeof g=="number"&&g>=0){var F=a.playing(_);F&&a.pause(_,!0),k._seek=g,k._ended=!1,a._clearTimer(_),!a._webAudio&&k._node&&!isNaN(k._node.duration)&&(k._node.currentTime=g);var $=function(){F&&a.play(_,!0),a._emit("seek",_)};if(F&&!a._webAudio){var Y=function(){a._playLock?setTimeout(Y,0):$()};setTimeout(Y,0)}else $()}else if(a._webAudio){var X=a.playing(_)?n.ctx.currentTime-k._playStart:0,Q=k._rateSeek?k._rateSeek-k._seek:0;return k._seek+(Q+X*Math.abs(k._rate))}else return k._node.currentTime;return a},playing:function(a){var p=this;if(typeof a=="number"){var g=p._soundById(a);return g?!g._paused:!1}for(var _=0;_<p._sounds.length;_++)if(!p._sounds[_]._paused)return!0;return!1},duration:function(a){var p=this,g=p._duration,_=p._soundById(a);return _&&(g=p._sprite[_._sprite][1]/1e3),g},state:function(){return this._state},unload:function(){for(var a=this,p=a._sounds,g=0;g<p.length;g++)p[g]._paused||a.stop(p[g]._id),a._webAudio||(a._clearSound(p[g]._node),p[g]._node.removeEventListener("error",p[g]._errorFn,!1),p[g]._node.removeEventListener(n._canPlayEvent,p[g]._loadFn,!1),p[g]._node.removeEventListener("ended",p[g]._endFn,!1),n._releaseHtml5Audio(p[g]._node)),delete p[g]._node,a._clearTimer(p[g]._id);var _=n._howls.indexOf(a);_>=0&&n._howls.splice(_,1);var T=!0;for(g=0;g<n._howls.length;g++)if(n._howls[g]._src===a._src||a._src.indexOf(n._howls[g]._src)>=0){T=!1;break}return c&&T&&delete c[a._src],n.noAudio=!1,a._state="unloaded",a._sounds=[],a=null,null},on:function(a,p,g,_){var T=this,j=T["_on"+a];return typeof p=="function"&&j.push(_?{id:g,fn:p,once:_}:{id:g,fn:p}),T},off:function(a,p,g){var _=this,T=_["_on"+a],j=0;if(typeof p=="number"&&(g=p,p=null),p||g)for(j=0;j<T.length;j++){var k=g===T[j].id;if(p===T[j].fn&&k||!p&&k){T.splice(j,1);break}}else if(a)_["_on"+a]=[];else{var F=Object.keys(_);for(j=0;j<F.length;j++)F[j].indexOf("_on")===0&&Array.isArray(_[F[j]])&&(_[F[j]]=[])}return _},once:function(a,p,g){var _=this;return _.on(a,p,g,1),_},_emit:function(a,p,g){for(var _=this,T=_["_on"+a],j=T.length-1;j>=0;j--)(!T[j].id||T[j].id===p||a==="load")&&(setTimeout((function(k){k.call(this,p,g)}).bind(_,T[j].fn),0),T[j].once&&_.off(a,T[j].fn,T[j].id));return _._loadQueue(a),_},_loadQueue:function(a){var p=this;if(p._queue.length>0){var g=p._queue[0];g.event===a&&(p._queue.shift(),p._loadQueue()),a||g.action()}return p},_ended:function(a){var p=this,g=a._sprite;if(!p._webAudio&&a._node&&!a._node.paused&&!a._node.ended&&a._node.currentTime<a._stop)return setTimeout(p._ended.bind(p,a),100),p;var _=!!(a._loop||p._sprite[g][2]);if(p._emit("end",a._id),!p._webAudio&&_&&p.stop(a._id,!0).play(a._id),p._webAudio&&_){p._emit("play",a._id),a._seek=a._start||0,a._rateSeek=0,a._playStart=n.ctx.currentTime;var T=(a._stop-a._start)*1e3/Math.abs(a._rate);p._endTimers[a._id]=setTimeout(p._ended.bind(p,a),T)}return p._webAudio&&!_&&(a._paused=!0,a._ended=!0,a._seek=a._start||0,a._rateSeek=0,p._clearTimer(a._id),p._cleanBuffer(a._node),n._autoSuspend()),!p._webAudio&&!_&&p.stop(a._id,!0),p},_clearTimer:function(a){var p=this;if(p._endTimers[a]){if(typeof p._endTimers[a]!="function")clearTimeout(p._endTimers[a]);else{var g=p._soundById(a);g&&g._node&&g._node.removeEventListener("ended",p._endTimers[a],!1)}delete p._endTimers[a]}return p},_soundById:function(a){for(var p=this,g=0;g<p._sounds.length;g++)if(a===p._sounds[g]._id)return p._sounds[g];return null},_inactiveSound:function(){var a=this;a._drain();for(var p=0;p<a._sounds.length;p++)if(a._sounds[p]._ended)return a._sounds[p].reset();return new i(a)},_drain:function(){var a=this,p=a._pool,g=0,_=0;if(!(a._sounds.length<p)){for(_=0;_<a._sounds.length;_++)a._sounds[_]._ended&&g++;for(_=a._sounds.length-1;_>=0;_--){if(g<=p)return;a._sounds[_]._ended&&(a._webAudio&&a._sounds[_]._node&&a._sounds[_]._node.disconnect(0),a._sounds.splice(_,1),g--)}}},_getSoundIds:function(a){var p=this;if(typeof a>"u"){for(var g=[],_=0;_<p._sounds.length;_++)g.push(p._sounds[_]._id);return g}else return[a]},_refreshBuffer:function(a){var p=this;return a._node.bufferSource=n.ctx.createBufferSource(),a._node.bufferSource.buffer=c[p._src],a._panner?a._node.bufferSource.connect(a._panner):a._node.bufferSource.connect(a._node),a._node.bufferSource.loop=a._loop,a._loop&&(a._node.bufferSource.loopStart=a._start||0,a._node.bufferSource.loopEnd=a._stop||0),a._node.bufferSource.playbackRate.setValueAtTime(a._rate,n.ctx.currentTime),p},_cleanBuffer:function(a){var p=this,g=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!a.bufferSource)return p;if(n._scratchBuffer&&a.bufferSource&&(a.bufferSource.onended=null,a.bufferSource.disconnect(0),g))try{a.bufferSource.buffer=n._scratchBuffer}catch{}return a.bufferSource=null,p},_clearSound:function(a){var p=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);p||(a.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(a){this._parent=a,this.init()};i.prototype={init:function(){var a=this,p=a._parent;return a._muted=p._muted,a._loop=p._loop,a._volume=p._volume,a._rate=p._rate,a._seek=0,a._paused=!0,a._ended=!0,a._sprite="__default",a._id=++n._counter,p._sounds.push(a),a.create(),a},create:function(){var a=this,p=a._parent,g=n._muted||a._muted||a._parent._muted?0:a._volume;return p._webAudio?(a._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),a._node.gain.setValueAtTime(g,n.ctx.currentTime),a._node.paused=!0,a._node.connect(n.masterGain)):n.noAudio||(a._node=n._obtainHtml5Audio(),a._errorFn=a._errorListener.bind(a),a._node.addEventListener("error",a._errorFn,!1),a._loadFn=a._loadListener.bind(a),a._node.addEventListener(n._canPlayEvent,a._loadFn,!1),a._endFn=a._endListener.bind(a),a._node.addEventListener("ended",a._endFn,!1),a._node.src=p._src,a._node.preload=p._preload===!0?"auto":p._preload,a._node.volume=g*n.volume(),a._node.load()),a},reset:function(){var a=this,p=a._parent;return a._muted=p._muted,a._loop=p._loop,a._volume=p._volume,a._rate=p._rate,a._seek=0,a._rateSeek=0,a._paused=!0,a._ended=!0,a._sprite="__default",a._id=++n._counter,a},_errorListener:function(){var a=this;a._parent._emit("loaderror",a._id,a._node.error?a._node.error.code:0),a._node.removeEventListener("error",a._errorFn,!1)},_loadListener:function(){var a=this,p=a._parent;p._duration=Math.ceil(a._node.duration*10)/10,Object.keys(p._sprite).length===0&&(p._sprite={__default:[0,p._duration*1e3]}),p._state!=="loaded"&&(p._state="loaded",p._emit("load"),p._loadQueue()),a._node.removeEventListener(n._canPlayEvent,a._loadFn,!1)},_endListener:function(){var a=this,p=a._parent;p._duration===1/0&&(p._duration=Math.ceil(a._node.duration*10)/10,p._sprite.__default[1]===1/0&&(p._sprite.__default[1]=p._duration*1e3),p._ended(a)),a._node.removeEventListener("ended",a._endFn,!1)}};var c={},l=function(a){var p=a._src;if(c[p]){a._duration=c[p].duration,m(a);return}if(/^data:[^;]+;base64,/.test(p)){for(var g=atob(p.split(",")[1]),_=new Uint8Array(g.length),T=0;T<g.length;++T)_[T]=g.charCodeAt(T);f(_.buffer,a)}else{var j=new XMLHttpRequest;j.open(a._xhr.method,p,!0),j.withCredentials=a._xhr.withCredentials,j.responseType="arraybuffer",a._xhr.headers&&Object.keys(a._xhr.headers).forEach(function(k){j.setRequestHeader(k,a._xhr.headers[k])}),j.onload=function(){var k=(j.status+"")[0];if(k!=="0"&&k!=="2"&&k!=="3"){a._emit("loaderror",null,"Failed loading audio file with status: "+j.status+".");return}f(j.response,a)},j.onerror=function(){a._webAudio&&(a._html5=!0,a._webAudio=!1,a._sounds=[],delete c[p],a.load())},u(j)}},u=function(a){try{a.send()}catch{a.onerror()}},f=function(a,p){var g=function(){p._emit("loaderror",null,"Decoding audio data failed.")},_=function(T){T&&p._sounds.length>0?(c[p._src]=T,m(p,T)):g()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(a).then(_).catch(g):n.ctx.decodeAudioData(a,_,g)},m=function(a,p){p&&!a._duration&&(a._duration=p.duration),Object.keys(a._sprite).length===0&&(a._sprite={__default:[0,a._duration*1e3]}),a._state!=="loaded"&&(a._state="loaded",a._emit("load"),a._loadQueue())},x=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var a=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),p=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),g=p?parseInt(p[1],10):null;if(a&&g&&g<9){var _=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!_&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=r,typeof wn<"u"?(wn.HowlerGlobal=t,wn.Howler=n,wn.Howl=r,wn.Sound=i):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=r,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var i=r._howls.length-1;i>=0;i--)r._howls[i].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,i){var c=this;if(!c.ctx||!c.ctx.listener)return c;if(r=typeof r!="number"?c._pos[1]:r,i=typeof i!="number"?c._pos[2]:i,typeof n=="number")c._pos=[n,r,i],typeof c.ctx.listener.positionX<"u"?(c.ctx.listener.positionX.setTargetAtTime(c._pos[0],Howler.ctx.currentTime,.1),c.ctx.listener.positionY.setTargetAtTime(c._pos[1],Howler.ctx.currentTime,.1),c.ctx.listener.positionZ.setTargetAtTime(c._pos[2],Howler.ctx.currentTime,.1)):c.ctx.listener.setPosition(c._pos[0],c._pos[1],c._pos[2]);else return c._pos;return c},HowlerGlobal.prototype.orientation=function(n,r,i,c,l,u){var f=this;if(!f.ctx||!f.ctx.listener)return f;var m=f._orientation;if(r=typeof r!="number"?m[1]:r,i=typeof i!="number"?m[2]:i,c=typeof c!="number"?m[3]:c,l=typeof l!="number"?m[4]:l,u=typeof u!="number"?m[5]:u,typeof n=="number")f._orientation=[n,r,i,c,l,u],typeof f.ctx.listener.forwardX<"u"?(f.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),f.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),f.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),f.ctx.listener.upX.setTargetAtTime(c,Howler.ctx.currentTime,.1),f.ctx.listener.upY.setTargetAtTime(l,Howler.ctx.currentTime,.1),f.ctx.listener.upZ.setTargetAtTime(u,Howler.ctx.currentTime,.1)):f.ctx.listener.setOrientation(n,r,i,c,l,u);else return m;return f},Howl.prototype.init=function(n){return function(r){var i=this;return i._orientation=r.orientation||[1,0,0],i._stereo=r.stereo||null,i._pos=r.pos||null,i._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},i._onstereo=r.onstereo?[{fn:r.onstereo}]:[],i._onpos=r.onpos?[{fn:r.onpos}]:[],i._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(n,r)}}),i;var c=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")i._stereo=n,i._pos=[n,0,0];else return i._stereo;for(var l=i._getSoundIds(r),u=0;u<l.length;u++){var f=i._soundById(l[u]);if(f)if(typeof n=="number")f._stereo=n,f._pos=[n,0,0],f._node&&(f._pannerAttr.panningModel="equalpower",(!f._panner||!f._panner.pan)&&t(f,c),c==="spatial"?typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):f._panner.setPosition(n,0,0):f._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),i._emit("stereo",f._id);else return f._stereo}return i},Howl.prototype.pos=function(n,r,i,c){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"pos",action:function(){l.pos(n,r,i,c)}}),l;if(r=typeof r!="number"?0:r,i=typeof i!="number"?-.5:i,typeof c>"u")if(typeof n=="number")l._pos=[n,r,i];else return l._pos;for(var u=l._getSoundIds(c),f=0;f<u.length;f++){var m=l._soundById(u[f]);if(m)if(typeof n=="number")m._pos=[n,r,i],m._node&&((!m._panner||m._panner.pan)&&t(m,"spatial"),typeof m._panner.positionX<"u"?(m._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),m._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),m._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):m._panner.setPosition(n,r,i)),l._emit("pos",m._id);else return m._pos}return l},Howl.prototype.orientation=function(n,r,i,c){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"orientation",action:function(){l.orientation(n,r,i,c)}}),l;if(r=typeof r!="number"?l._orientation[1]:r,i=typeof i!="number"?l._orientation[2]:i,typeof c>"u")if(typeof n=="number")l._orientation=[n,r,i];else return l._orientation;for(var u=l._getSoundIds(c),f=0;f<u.length;f++){var m=l._soundById(u[f]);if(m)if(typeof n=="number")m._orientation=[n,r,i],m._node&&(m._panner||(m._pos||(m._pos=l._pos||[0,0,-.5]),t(m,"spatial")),typeof m._panner.orientationX<"u"?(m._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),m._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),m._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):m._panner.setOrientation(n,r,i)),l._emit("orientation",m._id);else return m._orientation}return l},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,i,c,l;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")i=r[0],typeof c>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),n._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:n._panningModel});else return l=n._soundById(parseInt(r[0],10)),l?l._pannerAttr:n._pannerAttr;else r.length===2&&(i=r[0],c=parseInt(r[1],10));for(var u=n._getSoundIds(c),f=0;f<u.length;f++)if(l=n._soundById(u[f]),l){var m=l._pannerAttr;m={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:m.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:m.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:m.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:m.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:m.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:m.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:m.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:m.panningModel};var x=l._panner;x||(l._pos||(l._pos=n._pos||[0,0,-.5]),t(l,"spatial"),x=l._panner),x.coneInnerAngle=m.coneInnerAngle,x.coneOuterAngle=m.coneOuterAngle,x.coneOuterGain=m.coneOuterGain,x.distanceModel=m.distanceModel,x.maxDistance=m.maxDistance,x.refDistance=m.refDistance,x.rolloffFactor=m.rolloffFactor,x.panningModel=m.panningModel}return n},Sound.prototype.init=function(n){return function(){var r=this,i=r._parent;r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,n.call(this),r._stereo?i.stereo(r._stereo):r._pos&&i.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,i=r._parent;return r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,r._stereo?i.stereo(r._stereo):r._pos?i.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,i._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var t=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(_o);const ax=vo(_o),sx=ch({__proto__:null,default:ax},[_o]);var _d={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(wn,function(){var n,r,i=1e3,c=6e4,l=36e5,u=864e5,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m=31536e6,x=2628e6,a=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,p={years:m,months:x,days:u,hours:l,minutes:c,seconds:i,milliseconds:1,weeks:6048e5},g=function(Q){return Q instanceof Y},_=function(Q,q,V){return new Y(Q,V,q.$l)},T=function(Q){return r.p(Q)+"s"},j=function(Q){return Q<0},k=function(Q){return j(Q)?Math.ceil(Q):Math.floor(Q)},F=function(Q){return Math.abs(Q)},$=function(Q,q){return Q?j(Q)?{negative:!0,format:""+F(Q)+q}:{negative:!1,format:""+Q+q}:{negative:!1,format:""}},Y=function(){function Q(V,ne,ce){var xe=this;if(this.$d={},this.$l=ce,V===void 0&&(this.$ms=0,this.parseFromMilliseconds()),ne)return _(V*p[T(ne)],this);if(typeof V=="number")return this.$ms=V,this.parseFromMilliseconds(),this;if(typeof V=="object")return Object.keys(V).forEach(function(we){xe.$d[T(we)]=V[we]}),this.calMilliseconds(),this;if(typeof V=="string"){var Oe=V.match(a);if(Oe){var Pe=Oe.slice(2).map(function(we){return we!=null?Number(we):0});return this.$d.years=Pe[0],this.$d.months=Pe[1],this.$d.weeks=Pe[2],this.$d.days=Pe[3],this.$d.hours=Pe[4],this.$d.minutes=Pe[5],this.$d.seconds=Pe[6],this.calMilliseconds(),this}}return this}var q=Q.prototype;return q.calMilliseconds=function(){var V=this;this.$ms=Object.keys(this.$d).reduce(function(ne,ce){return ne+(V.$d[ce]||0)*p[ce]},0)},q.parseFromMilliseconds=function(){var V=this.$ms;this.$d.years=k(V/m),V%=m,this.$d.months=k(V/x),V%=x,this.$d.days=k(V/u),V%=u,this.$d.hours=k(V/l),V%=l,this.$d.minutes=k(V/c),V%=c,this.$d.seconds=k(V/i),V%=i,this.$d.milliseconds=V},q.toISOString=function(){var V=$(this.$d.years,"Y"),ne=$(this.$d.months,"M"),ce=+this.$d.days||0;this.$d.weeks&&(ce+=7*this.$d.weeks);var xe=$(ce,"D"),Oe=$(this.$d.hours,"H"),Pe=$(this.$d.minutes,"M"),we=this.$d.seconds||0;this.$d.milliseconds&&(we+=this.$d.milliseconds/1e3,we=Math.round(1e3*we)/1e3);var $e=$(we,"S"),pt=V.negative||ne.negative||xe.negative||Oe.negative||Pe.negative||$e.negative,Ee=Oe.format||Pe.format||$e.format?"T":"",me=(pt?"-":"")+"P"+V.format+ne.format+xe.format+Ee+Oe.format+Pe.format+$e.format;return me==="P"||me==="-P"?"P0D":me},q.toJSON=function(){return this.toISOString()},q.format=function(V){var ne=V||"YYYY-MM-DDTHH:mm:ss",ce={Y:this.$d.years,YY:r.s(this.$d.years,2,"0"),YYYY:r.s(this.$d.years,4,"0"),M:this.$d.months,MM:r.s(this.$d.months,2,"0"),D:this.$d.days,DD:r.s(this.$d.days,2,"0"),H:this.$d.hours,HH:r.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:r.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:r.s(this.$d.seconds,2,"0"),SSS:r.s(this.$d.milliseconds,3,"0")};return ne.replace(f,function(xe,Oe){return Oe||String(ce[xe])})},q.as=function(V){return this.$ms/p[T(V)]},q.get=function(V){var ne=this.$ms,ce=T(V);return ce==="milliseconds"?ne%=1e3:ne=ce==="weeks"?k(ne/p[ce]):this.$d[ce],ne||0},q.add=function(V,ne,ce){var xe;return xe=ne?V*p[T(ne)]:g(V)?V.$ms:_(V,this).$ms,_(this.$ms+xe*(ce?-1:1),this)},q.subtract=function(V,ne){return this.add(V,ne,!0)},q.locale=function(V){var ne=this.clone();return ne.$l=V,ne},q.clone=function(){return _(this.$ms,this)},q.humanize=function(V){return n().add(this.$ms,"ms").locale(this.$l).fromNow(!V)},q.valueOf=function(){return this.asMilliseconds()},q.milliseconds=function(){return this.get("milliseconds")},q.asMilliseconds=function(){return this.as("milliseconds")},q.seconds=function(){return this.get("seconds")},q.asSeconds=function(){return this.as("seconds")},q.minutes=function(){return this.get("minutes")},q.asMinutes=function(){return this.as("minutes")},q.hours=function(){return this.get("hours")},q.asHours=function(){return this.as("hours")},q.days=function(){return this.get("days")},q.asDays=function(){return this.as("days")},q.weeks=function(){return this.get("weeks")},q.asWeeks=function(){return this.as("weeks")},q.months=function(){return this.get("months")},q.asMonths=function(){return this.as("months")},q.years=function(){return this.get("years")},q.asYears=function(){return this.as("years")},Q}(),X=function(Q,q,V){return Q.add(q.years()*V,"y").add(q.months()*V,"M").add(q.days()*V,"d").add(q.hours()*V,"h").add(q.minutes()*V,"m").add(q.seconds()*V,"s").add(q.milliseconds()*V,"ms")};return function(Q,q,V){n=V,r=V().$utils(),V.duration=function(xe,Oe){var Pe=V.locale();return _(xe,{$l:Pe},Oe)},V.isDuration=g;var ne=q.prototype.add,ce=q.prototype.subtract;q.prototype.add=function(xe,Oe){return g(xe)?X(this,xe,1):ne.bind(this)(xe,Oe)},q.prototype.subtract=function(xe,Oe){return g(xe)?X(this,xe,-1):ce.bind(this)(xe,Oe)}}})})(_d);var cx=_d.exports;const wd=vo(cx),lx={wait:{label:"Wait",getDescription:e=>{const t=e;return`Wait ${t.amount||0} ${t.unit}`},supportsCountdown:!0,getCountdownMs:()=>null},waitUntil:{label:"Wait Until",getDescription:e=>{const t=e;return`Wait until ${t.time||"--:--"} ${t.ampm}`},supportsCountdown:!0,getCountdownMs:()=>null},playSound:{label:"Play Sound",getDescription:e=>`Play sound â ${e.label||"Sound"}`},playSoundUntil:{label:"Play Sound Until",getDescription:e=>`Play sound (wait) â ${e.label||"Sound"}`},notify:{label:"Notify",getDescription:e=>`Notify â ${e.title||"Notification"}`},notifyUntil:{label:"Notify",getDescription:e=>`Notify â ${e.title||"Notification"}`,supportsCountdown:!0,getCountdownMs:e=>e.timeoutMs??1e4},loop:{label:"Loop",getDescription:e=>{const t=e;return t.repeat===-1?"Repeat forever":`Repeat ${t.repeat||1} ${t.repeat===1?"time":"times"}`}}};function kd(e){return lx[e]||{label:"Unknown",getDescription:()=>"Unknown block"}}const ux=e=>{if(e.length===0)return null;const t=e[0];if(t.type==="wait"){const n=t;return yd(n.amount||0,n.unit)}if(t.type==="waitUntil"){const n=t;return xd(n.time||"07:00",n.ampm)}return null};ri.extend(wd);const Ki=e=>{if(e===null||Number.isNaN(e))return null;const t=ri.duration(Math.max(0,e)),n=Math.floor(t.asHours()),r=t.minutes(),i=t.seconds(),c=`${r.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`;return n>0?`${n.toString().padStart(2,"0")}:${c}`:c},ul=e=>{if(e==null||Number.isNaN(e))return"00:00.00";const t=ri.duration(e),n=Math.floor(t.asHours()),r=t.minutes(),i=t.seconds(),c=Math.floor(t.milliseconds()/10),l=`${r.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}.${c.toString().padStart(2,"0")}`;return n>0?`${n.toString().padStart(2,"0")}:${l}`:l},dx=e=>ls(e,"MM/dd/yy hh:mm:ss a"),px=e=>{const t="/sounds/alarm.mp3";return(e.soundType==="custom"?"url":e.soundType??"default")==="default"?t:e.customUrl||t},Td=e=>{const t=[];for(const n of e)n.type==="playSound"||n.type==="playSoundUntil"?t.push(n):n.type==="loop"&&t.push(...Td(n.children));return t},fx=e=>kd(e.type).getDescription(e),Sd=({blocks:e,activeBlockId:t,collapsedMap:n,onToggleLoop:r,durationsMap:i,remainingMs:c,depth:l=0})=>y.jsx(y.Fragment,{children:e.map(u=>{const f=u.id===t,m=u.type==="loop",x=m?n[u.id]??!0:!1,a=kd(u.type),p=!a.supportsCountdown||!f||c===null?null:u.type==="wait"||u.type==="waitUntil"||u.type==="notifyUntil"?Ki(c):null;return y.jsxs("div",{className:"mb-1 mt-1",children:[y.jsxs("div",{className:`pastel-card flex items-center justify-between rounded-xl px-3 py-2 text-xs transition-all ${f?"bg-accent-100 text-accent-600 soft-glow":"text-accent-500"}`,style:{marginLeft:l*12},children:[y.jsx("span",{children:fx(u)}),y.jsxs("div",{className:"flex items-center gap-2",children:[p&&y.jsx("span",{className:"text-accent-500 text-[11px]",children:p}),m&&y.jsxs("button",{type:"button",onClick:g=>{g.stopPropagation(),r(u.id)},className:"flex items-center gap-1 text-[10px] uppercase tracking-wide text-accent-400",children:[y.jsx("span",{className:"inline-block",children:x?"â¶":"â¼"}),y.jsx("span",{children:"Container"})]})]})]}),m&&!x&&y.jsx(Sd,{blocks:u.children,activeBlockId:t,collapsedMap:n,onToggleLoop:r,durationsMap:i,remainingMs:c,depth:l+1})]},u.id)})}),hx=({timer:e,isVisible:t,onClose:n,onPlay:r,onPause:i,onRestart:c,onLog:l,isRunning:u,activeBlockId:f,remainingMs:m,elapsedMs:x,hasStarted:a=!1,logs:p=[]})=>{var Ee;const[g,_]=ut.useState({}),[T,j]=ut.useState(!1),[k,F]=ut.useState({});ut.useEffect(()=>{let me=!1;return(async()=>{const U=Td(e.blocks),pe=await Promise.all(U.map(ke=>new Promise(Ze=>{const yt=px(ke),Ae=new _o.Howl({src:[yt],html5:!0,onload:()=>{Ze({id:ke.id,duration:Ae.duration()}),Ae.unload()},onloaderror:()=>{Ze({id:ke.id,duration:void 0}),Ae.unload()}})})));if(me)return;const ge={};pe.forEach(ke=>{ke.duration&&!Number.isNaN(ke.duration)&&(ge[ke.id]=ke.duration)}),F(ge)})(),()=>{me=!0}},[e.blocks]),ut.useEffect(()=>{j(!1),_({})},[e.id]);const $=me=>{_(De=>({...De,[me]:!(De[me]??!0)}))},Y=e.mode==="simpleStopwatch",X=!Y,Q=t,q=X?e.blocks.length>0:!1,V=Y||q,ne=Y||q,ce=Y?"Start":"Play",xe=u?"Pause":a||Y&&x&&x>0?"Resume":ce,Oe=u?i:r,Pe=u?!1:!V,we=(Ee=e.logs)!=null&&Ee.length?e.logs:p,$e=!Y&&!a&&m===null?ux(e.blocks):m,pt=Y?ul(x??0):Ki($e??0)??"--:--";return t?y.jsx("div",{className:"w-full max-w-4xl mb-4 animate-slide-down-soft",children:y.jsxs("div",{className:"play-panel",children:[y.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"panel-label",children:"Play Menu"}),y.jsx("span",{className:"panel-title",children:Q?e.name||"Selected Timer":"No timer selected"})]}),y.jsx("button",{type:"button",onClick:n,className:"soft-button-ghost text-xs px-3 py-1",children:"Close"})]}),y.jsx("div",{className:"digital-bar",children:y.jsx("span",{className:"digital-time",children:pt})}),y.jsxs("div",{className:"flex flex-wrap items-center gap-3 justify-center",children:[y.jsx("button",{type:"button",onClick:Oe,className:"soft-button bg-accent-100 text-accent-500 hover:bg-accent-200 min-w-[110px]",disabled:Pe,children:xe}),Y?y.jsxs(y.Fragment,{children:[y.jsx("button",{type:"button",onClick:l,className:"soft-button bg-accent-100 text-accent-500 hover:bg-accent-200 min-w-[110px]",disabled:!l,children:"Mark"}),y.jsx("button",{type:"button",onClick:c,className:"soft-button bg-accent-100 text-accent-500 hover:bg-accent-200 min-w-[110px]",children:"Restart"})]}):y.jsx("button",{type:"button",onClick:c,className:"soft-button bg-accent-100 text-accent-500 hover:bg-accent-200 min-w-[110px]",disabled:!ne,children:"Restart"})]}),y.jsx("div",{className:"mt-1 pr-1",children:Q?Y?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[T?y.jsx("span",{className:"text-xs text-accent-400",children:"Logs"}):y.jsx("span",{className:"text-xs text-accent-400",children:"Logs are hidden. Click Show to view them."}),y.jsx("button",{type:"button",onClick:()=>j(me=>!me),className:"text-[11px] uppercase tracking-wide text-accent-500 hover:text-accent-600",children:T?"Hide logs":"Show logs"})]}),T?we.length?y.jsx("div",{className:"flex flex-col gap-2 max-h-64 overflow-y-auto pr-1",children:[...we].slice().reverse().map(me=>{var De;return y.jsxs("div",{className:"pastel-card flex items-center justify-between rounded-xl px-3 py-2 text-xs text-accent-500",children:[y.jsx("span",{className:"text-[11px] tracking-wide text-accent-300",children:(De=me.name)!=null&&De.trim()?me.name:dx(me.loggedAt)}),y.jsx("span",{className:"font-mono text-sm text-accent-600",children:ul(me.elapsedMs)})]},`${me.loggedAt}-${me.elapsedMs}`)})}):y.jsx("p",{className:"text-xs text-accent-400",children:"No logs yet. Press Mark to log elapsed time."}):null]}):X?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[T?y.jsx("span",{className:"text-xs text-accent-400",children:"Blocks"}):y.jsx("span",{className:"text-xs text-accent-400",children:"Blocks are hidden. Click Show to view the sequence."}),y.jsx("button",{type:"button",onClick:()=>j(me=>!me),className:"text-[11px] uppercase tracking-wide text-accent-500 hover:text-accent-600",children:T?"Hide blocks":"Show blocks"})]}),T?q?y.jsx(Sd,{blocks:e.blocks,activeBlockId:f,collapsedMap:g,onToggleLoop:$,durationsMap:k,remainingMs:m}):y.jsx("p",{className:"text-xs text-accent-400",children:"No blocks yet. Edit it to add blocks."}):null]}):null:y.jsx("p",{className:"text-xs text-accent-400",children:"No timer selected. Choose a timer to play."})})]})}):null};var Ad=Symbol.for("immer-nothing"),dl=Symbol.for("immer-draftable"),$t=Symbol.for("immer-state");function Qt(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Kr=Object.getPrototypeOf;function mr(e){return!!e&&!!e[$t]}function Un(e){var t;return e?jd(e)||Array.isArray(e)||!!e[dl]||!!((t=e.constructor)!=null&&t[dl])||ii(e)||ko(e):!1}var mx=Object.prototype.constructor.toString(),pl=new WeakMap;function jd(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=pl.get(n);return r===void 0&&(r=Function.toString.call(n),pl.set(n,r)),r===mx}function to(e,t,n=!0){wo(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function wo(e){const t=e[$t];return t?t.type_:Array.isArray(e)?1:ii(e)?2:ko(e)?3:0}function Ea(e,t){return wo(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Pd(e,t,n){const r=wo(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function vx(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ii(e){return e instanceof Map}function ko(e){return e instanceof Set}function Mn(e){return e.copy_||e.base_}function Na(e,t){if(ii(e))return new Map(e);if(ko(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=jd(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[$t];let i=Reflect.ownKeys(r);for(let c=0;c<i.length;c++){const l=i[c],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(Kr(e),r)}else{const r=Kr(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Zr(e,t=!1){return To(e)||mr(e)||!Un(e)||(wo(e)>1&&Object.defineProperties(e,{set:zi,add:zi,clear:zi,delete:zi}),Object.freeze(e),t&&Object.values(e).forEach(n=>Zr(n,!0))),e}function gx(){Qt(2)}var zi={value:gx};function To(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var yx={};function Kn(e){const t=yx[e];return t||Qt(0,e),t}var qr;function Dd(){return qr}function xx(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function fl(e,t){t&&(Kn("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Oa(e){Ma(e),e.drafts_.forEach(bx),e.drafts_=null}function Ma(e){e===qr&&(qr=e.parent_)}function hl(e){return qr=xx(qr,e)}function bx(e){const t=e[$t];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ml(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[$t].modified_&&(Oa(t),Qt(4)),Un(e)&&(e=no(t,e),t.parent_||ro(t,e)),t.patches_&&Kn("Patches").generateReplacementPatches_(n[$t].base_,e,t.patches_,t.inversePatches_)):e=no(t,n,[]),Oa(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Ad?e:void 0}function no(e,t,n){if(To(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[$t];if(!i)return to(t,(c,l)=>vl(e,i,t,c,l,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return ro(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const c=i.copy_;let l=c,u=!1;i.type_===3&&(l=new Set(c),c.clear(),u=!0),to(l,(f,m)=>vl(e,i,c,f,m,n,u),r),ro(e,c,!1),n&&e.patches_&&Kn("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function vl(e,t,n,r,i,c,l){if(i==null||typeof i!="object"&&!l)return;const u=To(i);if(!(u&&!l)){if(mr(i)){const f=c&&t&&t.type_!==3&&!Ea(t.assigned_,r)?c.concat(r):void 0,m=no(e,i,f);if(Pd(n,r,m),mr(m))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Un(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&u)return;no(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(ii(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&ro(e,i)}}}function ro(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Zr(t,n)}function _x(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Dd(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,c=ws;n&&(i=[r],c=Wr);const{revoke:l,proxy:u}=Proxy.revocable(i,c);return r.draft_=u,r.revoke_=l,u}var ws={get(e,t){if(t===$t)return e;const n=Mn(e);if(!Ea(n,t))return wx(e,n,t);const r=n[t];return e.finalized_||!Un(r)?r:r===aa(e.base_,t)?(sa(e),e.copy_[t]=Ra(r,e)):r},has(e,t){return t in Mn(e)},ownKeys(e){return Reflect.ownKeys(Mn(e))},set(e,t,n){const r=Cd(Mn(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=aa(Mn(e),t),c=i==null?void 0:i[$t];if(c&&c.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(vx(n,i)&&(n!==void 0||Ea(e.base_,t)))return!0;sa(e),Ia(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return aa(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,sa(e),Ia(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Mn(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Qt(11)},getPrototypeOf(e){return Kr(e.base_)},setPrototypeOf(){Qt(12)}},Wr={};to(ws,(e,t)=>{Wr[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Wr.deleteProperty=function(e,t){return Wr.set.call(this,e,t,void 0)};Wr.set=function(e,t,n){return ws.set.call(this,e[0],t,n,e[0])};function aa(e,t){const n=e[$t];return(n?Mn(n):e)[t]}function wx(e,t,n){var i;const r=Cd(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function Cd(e,t){if(!(t in e))return;let n=Kr(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Kr(n)}}function Ia(e){e.modified_||(e.modified_=!0,e.parent_&&Ia(e.parent_))}function sa(e){e.copy_||(e.copy_=Na(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var kx=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const c=n;n=t;const l=this;return function(f=c,...m){return l.produce(f,x=>n.call(this,x,...m))}}typeof n!="function"&&Qt(6),r!==void 0&&typeof r!="function"&&Qt(7);let i;if(Un(t)){const c=hl(this),l=Ra(t,void 0);let u=!0;try{i=n(l),u=!1}finally{u?Oa(c):Ma(c)}return fl(c,r),ml(i,c)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===Ad&&(i=void 0),this.autoFreeze_&&Zr(i,!0),r){const c=[],l=[];Kn("Patches").generateReplacementPatches_(t,i,c,l),r(c,l)}return i}else Qt(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,f=>t(f,...u));let r,i;return[this.produce(t,n,(l,u)=>{r=l,i=u}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Un(e)||Qt(8),mr(e)&&(e=Tx(e));const t=hl(this),n=Ra(e,void 0);return n[$t].isManual_=!0,Ma(t),n}finishDraft(e,t){const n=e&&e[$t];(!n||!n.isManual_)&&Qt(9);const{scope_:r}=n;return fl(r,t),ml(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Kn("Patches").applyPatches_;return mr(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Ra(e,t){const n=ii(e)?Kn("MapSet").proxyMap_(e,t):ko(e)?Kn("MapSet").proxySet_(e,t):_x(e,t);return(t?t.scope_:Dd()).drafts_.push(n),n}function Tx(e){return mr(e)||Qt(10,e),Ed(e)}function Ed(e){if(!Un(e)||To(e))return e;const t=e[$t];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Na(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Na(e,!0);return to(n,(i,c)=>{Pd(n,i,Ed(c))},r),t&&(t.finalized_=!1),n}var Sx=new kx,Ax=Sx.produce;function jx(e){var t=z.useState(function(){return Zr(typeof e=="function"?e():e,!0)}),n=t[1];return[t[0],z.useCallback(function(r){n(typeof r=="function"?Ax(r):Zr(r))},[])]}const Kt=(e,t)=>`drop:${e}:${t}`,Hr=e=>e.type==="loop"?{...e,children:e.children.map(Hr)}:e.type==="notifyUntil"?{...e,children:e.children?e.children.map(Hr):[]}:{...e},Nd=e=>e.map(Hr),Px=e=>{const[t,n,r]=e.split(":");return t!=="drop"||!n||!r?null:n==="root"?r==="empty"?{kind:"root-empty"}:r==="prepend"||r==="append"?{kind:"root",position:r}:null:r==="before"||r==="after"||r==="inside"?{kind:"block",targetId:n,position:r}:null},gl=e=>{switch(e){case"wait":return{id:Ot(),type:"wait",amount:5,unit:"seconds"};case"waitUntil":return{id:Ot(),type:"waitUntil",time:"07:00",ampm:"AM"};case"playSound":return{id:Ot(),type:"playSound",soundType:"default",label:"Beep"};case"playSoundUntil":return{id:Ot(),type:"playSoundUntil",soundType:"default",label:"Beep"};case"notify":return{id:Ot(),type:"notify",title:"Reminder",body:"Your timer is running."};case"notifyUntil":return{id:Ot(),type:"notifyUntil",title:"Reminder",body:"Your timer is running.",label:"Beep",timeoutMs:1e4,soundType:"default",interval:.2,children:[]};case"loop":default:return{id:Ot(),type:"loop",repeat:2,children:[]}}},io=(e,t)=>{const n=[];for(const r of e)r.id!==t&&(r.type==="loop"?n.push({...r,children:io(r.children,t)}):r.type==="notifyUntil"?n.push({...r,children:io(r.children||[],t)}):n.push(r));return n},Gr=(e,t)=>{for(const n of e){if(n.id===t)return n;if(n.type==="loop"){const r=Gr(n.children,t);if(r)return r}if(n.type==="notifyUntil"){const r=Gr(n.children||[],t);if(r)return r}}return null},oo=(e,t)=>{let n=null;const r=[];for(const i of e){if(i.id===t){n=i;continue}if(i.type==="loop"){const c=oo(i.children,t);c.found&&!n&&(n=c.found),r.push({...i,children:c.without})}else if(i.type==="notifyUntil"){const c=oo(i.children||[],t);c.found&&!n&&(n=c.found),r.push({...i,children:c.without})}else r.push(i)}return{found:n,without:r}},Od=(e,t)=>{if(e.type!=="loop"&&e.type!=="notifyUntil")return!1;const n=e.type==="loop"?e.children:e.children||[];for(const r of n)if(r.id===t||(r.type==="loop"||r.type==="notifyUntil")&&Od(r,t))return!0;return!1},ao=(e,t,n,r)=>{const i=[];for(const c of e)c.id===t?r==="before"?i.push(n,c):r==="after"?i.push(c,n):r==="inside"&&(c.type==="loop"||c.type==="notifyUntil")?i.push({...c,...c.type==="loop"?{children:[...c.children,n]}:{children:[...c.children||[],n]}}):i.push(c):c.type==="loop"?i.push({...c,children:ao(c.children,t,n,r)}):c.type==="notifyUntil"?i.push({...c,children:ao(c.children||[],t,n,r)}):i.push(c);return i},Dx=(e,t,n,r)=>{if(t===n||!Gr(e,n))return e;const{found:c,without:l}=oo(e,t);return!c||c.type==="loop"&&Od(c,n)?e:ao(l,n,Hr(c),r)},Cx=(e,t,n)=>{const r=Nd(e);return n.kind==="root-empty"?[...r,t]:n.kind==="root"?n.position==="prepend"?[t,...r]:[...r,t]:n.kind==="block"?ao(r,n.targetId,t,n.position):r},Ex=(e,t,n)=>{const r=Nd(e);if(n.kind==="block")return Dx(r,t,n.targetId,n.position);const{found:i,without:c}=oo(r,t);if(!i)return r;const l=Hr(i);return n.kind==="root-empty"?[...c,l]:n.kind==="root"?n.position==="prepend"?[l,...c]:[...c,l]:r},bn=e=>{switch(e){case"wait":return"Wait";case"waitUntil":return"Wait Until";case"playSound":return"Play Sound";case"playSoundUntil":return"Play Sound Until";case"notify":return"Notify";case"notifyUntil":return"Notify For";case"loop":return"Loop";default:return"Block"}},Fi=({id:e,className:t="",activeClassName:n,children:r})=>{const{isOver:i,setNodeRef:c}=Vu({id:e}),l=`${t} ${i&&n?n:""}`.trim();return y.jsx("div",{ref:c,className:l,style:{touchAction:"none"},children:typeof r=="function"?r(i):r})},Nx=()=>y.jsx("div",{className:"drop-line"}),cn=({id:e})=>{const{isOver:t,setNodeRef:n}=Vu({id:e}),r=t;return y.jsxs("div",{className:`relative w-full pointer-events-none ${r?"h-12":"h-0"}`,children:[y.jsx("div",{ref:n,className:"absolute left-0 right-0 top-0 -translate-y-1/2 h-20 z-10 pointer-events-auto",style:{touchAction:"none"}}),r?y.jsx(Nx,{}):null]})},Ox=({id:e,data:t,children:n})=>{const{attributes:r,listeners:i,setNodeRef:c,transform:l,isDragging:u}=Uu({id:e,data:t}),f=a=>{const p=a.target;return p?!!p.closest("button, [data-no-drag]"):!1},m=Object.fromEntries(Object.entries(i||{}).map(([a,p])=>[a,g=>{if(!f(g))return p(g)}])),x={transform:l?nh.Translate.toString({x:0,y:l.y,scaleX:1,scaleY:1}):void 0,touchAction:"none"};return y.jsx(y.Fragment,{children:n({setNodeRef:c,attributes:r,listeners:m,style:x,isDragging:u})})},Mx=({blockType:e,label:t,desc:n})=>{const{setNodeRef:r,attributes:i,listeners:c,isDragging:l}=Uu({id:`palette:${e}`,data:{kind:"palette",blockType:e}});return y.jsxs("div",{ref:r,...i,...c,className:`palette-draggable pastel-card pastel-hover p-3 cursor-grab select-none transition-opacity ${l?"opacity-75":""}`,children:[y.jsx("div",{className:"text-sm font-semibold text-accent-600 break-words",children:t}),y.jsx("div",{className:"text-xs text-accent-400 break-words",children:n})]})},Ix=({block:e})=>y.jsx("div",{className:"pastel-card pastel-hover p-3 min-w-[180px] pointer-events-none select-none",children:y.jsx("span",{className:"text-xs text-accent-400",children:bn(e.type)})}),Rx=({block:e,renderContent:t,width:n})=>y.jsx(th,{dropAnimation:null,children:e?y.jsx("div",{style:{width:n?`${n}px`:"200px",pointerEvents:"none"},children:t?t(e):y.jsx(Ix,{block:e})}):null}),zx=[{value:"seconds",label:"Seconds"},{value:"minutes",label:"Minutes"},{value:"hours",label:"Hours"},{value:"days",label:"Days"}];var Md={exports:{}},Fx="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$x=Fx,Lx=$x;function Id(){}function Rd(){}Rd.resetWarningCache=Id;var Bx=function(){function e(r,i,c,l,u,f){if(f!==Lx){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Rd,resetWarningCache:Id};return n.PropTypes=n,n};Md.exports=Bx();var Vx=Md.exports;const We=vo(Vx);function Yn(e,t,n,r){function i(c){return c instanceof n?c:new n(function(l){l(c)})}return new(n||(n=Promise))(function(c,l){function u(x){try{m(r.next(x))}catch(a){l(a)}}function f(x){try{m(r.throw(x))}catch(a){l(a)}}function m(x){x.done?c(x.value):i(x.value).then(u,f)}m((r=r.apply(e,t||[])).next())})}const Ux=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function vr(e,t,n){const r=Kx(e),{webkitRelativePath:i}=e,c=typeof t=="string"?t:typeof i=="string"&&i.length>0?i:`./${e.name}`;return typeof r.path!="string"&&yl(r,"path",c),yl(r,"relativePath",c),r}function Kx(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const r=t.split(".").pop().toLowerCase(),i=Ux.get(r);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}function yl(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const Zx=[".DS_Store","Thumbs.db"];function qx(e){return Yn(this,void 0,void 0,function*(){return so(e)&&Wx(e.dataTransfer)?Xx(e.dataTransfer,e.type):Hx(e)?Gx(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?Yx(e):[]})}function Wx(e){return so(e)}function Hx(e){return so(e)&&so(e.target)}function so(e){return typeof e=="object"&&e!==null}function Gx(e){return za(e.target.files).map(t=>vr(t))}function Yx(e){return Yn(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>vr(n))})}function Xx(e,t){return Yn(this,void 0,void 0,function*(){if(e.items){const n=za(e.items).filter(i=>i.kind==="file");if(t!=="drop")return n;const r=yield Promise.all(n.map(Qx));return xl(zd(r))}return xl(za(e.files).map(n=>vr(n)))})}function xl(e){return e.filter(t=>Zx.indexOf(t.name)===-1)}function za(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r)}return t}function Qx(e){if(typeof e.webkitGetAsEntry!="function")return bl(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?Fd(t):bl(e,t)}function zd(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?zd(n):[n]],[])}function bl(e,t){return Yn(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const c=yield e.getAsFileSystemHandle();if(c===null)throw new Error(`${e} is not a File`);if(c!==void 0){const l=yield c.getFile();return l.handle=c,vr(l)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return vr(r,(n=t==null?void 0:t.fullPath)!==null&&n!==void 0?n:void 0)})}function Jx(e){return Yn(this,void 0,void 0,function*(){return e.isDirectory?Fd(e):eb(e)})}function Fd(e){const t=e.createReader();return new Promise((n,r)=>{const i=[];function c(){t.readEntries(l=>Yn(this,void 0,void 0,function*(){if(l.length){const u=Promise.all(l.map(Jx));i.push(u),c()}else try{const u=yield Promise.all(i);n(u)}catch(u){r(u)}}),l=>{r(l)})}c()})}function eb(e){return Yn(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(r=>{const i=vr(r,e.fullPath);t(i)},r=>{n(r)})})})}var ca=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var r=e.name||"",i=(e.type||"").toLowerCase(),c=i.replace(/\/.*$/,"");return n.some(function(l){var u=l.trim().toLowerCase();return u.charAt(0)==="."?r.toLowerCase().endsWith(u):u.endsWith("/*")?c===u.replace(/\/.*$/,""):i===u})}return!0};function _l(e){return rb(e)||nb(e)||Ld(e)||tb()}function tb(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nb(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rb(e){if(Array.isArray(e))return Fa(e)}function wl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wl(Object(n),!0).forEach(function(r){$d(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yr(e,t){return ab(e)||ob(e,t)||Ld(e,t)||ib()}function ib(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ld(e,t){if(e){if(typeof e=="string")return Fa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fa(e,t)}}function Fa(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ob(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,c=!1,l,u;try{for(n=n.call(e);!(i=(l=n.next()).done)&&(r.push(l.value),!(t&&r.length===t));i=!0);}catch(f){c=!0,u=f}finally{try{!i&&n.return!=null&&n.return()}finally{if(c)throw u}}return r}}function ab(e){if(Array.isArray(e))return e}var sb=typeof ca=="function"?ca:ca.default,cb="file-invalid-type",lb="file-too-large",ub="file-too-small",db="too-many-files",pb=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:cb,message:"File type must be ".concat(r)}},Tl=function(t){return{code:lb,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},Sl=function(t){return{code:ub,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},fb={code:db,message:"Too many files"};function Bd(e,t){var n=e.type==="application/x-moz-file"||sb(e,t);return[n,n?null:pb(t)]}function Vd(e,t,n){if(Rn(e.size))if(Rn(t)&&Rn(n)){if(e.size>n)return[!1,Tl(n)];if(e.size<t)return[!1,Sl(t)]}else{if(Rn(t)&&e.size<t)return[!1,Sl(t)];if(Rn(n)&&e.size>n)return[!1,Tl(n)]}return[!0,null]}function Rn(e){return e!=null}function hb(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,c=e.multiple,l=e.maxFiles,u=e.validator;return!c&&t.length>1||c&&l>=1&&t.length>l?!1:t.every(function(f){var m=Bd(f,n),x=Yr(m,1),a=x[0],p=Vd(f,r,i),g=Yr(p,1),_=g[0],T=u?u(f):null;return a&&_&&!T})}function co(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function $i(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Al(e){e.preventDefault()}function mb(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function vb(e){return e.indexOf("Edge/")!==-1}function gb(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return mb(e)||vb(e)}function tn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var i=arguments.length,c=new Array(i>1?i-1:0),l=1;l<i;l++)c[l-1]=arguments[l];return t.some(function(u){return!co(r)&&u&&u.apply(void 0,[r].concat(c)),co(r)})}}function yb(){return"showOpenFilePicker"in window}function xb(e){if(Rn(e)){var t=Object.entries(e).filter(function(n){var r=Yr(n,2),i=r[0],c=r[1],l=!0;return Ud(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),l=!1),(!Array.isArray(c)||!c.every(Kd))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),l=!1),l}).reduce(function(n,r){var i=Yr(r,2),c=i[0],l=i[1];return kl(kl({},n),{},$d({},c,l))},{});return[{description:"Files",accept:t}]}return e}function bb(e){if(Rn(e))return Object.entries(e).reduce(function(t,n){var r=Yr(n,2),i=r[0],c=r[1];return[].concat(_l(t),[i],_l(c))},[]).filter(function(t){return Ud(t)||Kd(t)}).join(",")}function _b(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function wb(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function Ud(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function Kd(e){return/^.*\.[\w]+$/.test(e)}var kb=["children"],Tb=["open"],Sb=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Ab=["refKey","onChange","onClick"];function jb(e){return Cb(e)||Db(e)||Zd(e)||Pb()}function Pb(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Db(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Cb(e){if(Array.isArray(e))return $a(e)}function la(e,t){return Ob(e)||Nb(e,t)||Zd(e,t)||Eb()}function Eb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zd(e,t){if(e){if(typeof e=="string")return $a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $a(e,t)}}function $a(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nb(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,c=!1,l,u;try{for(n=n.call(e);!(i=(l=n.next()).done)&&(r.push(l.value),!(t&&r.length===t));i=!0);}catch(f){c=!0,u=f}finally{try{!i&&n.return!=null&&n.return()}finally{if(c)throw u}}return r}}function Ob(e){if(Array.isArray(e))return e}function jl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jl(Object(n),!0).forEach(function(r){La(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function La(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lo(e,t){if(e==null)return{};var n=Mb(e,t),r,i;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)r=c[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Mb(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,c;for(c=0;c<r.length;c++)i=r[c],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var ks=z.forwardRef(function(e,t){var n=e.children,r=lo(e,kb),i=Wd(r),c=i.open,l=lo(i,Tb);return z.useImperativeHandle(t,function(){return{open:c}},[c]),ut.createElement(z.Fragment,null,n(et(et({},l),{},{open:c})))});ks.displayName="Dropzone";var qd={disabled:!1,getFilesFromEvent:qx,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};ks.defaultProps=qd;ks.propTypes={children:We.func,accept:We.objectOf(We.arrayOf(We.string)),multiple:We.bool,preventDropOnDocument:We.bool,noClick:We.bool,noKeyboard:We.bool,noDrag:We.bool,noDragEventsBubbling:We.bool,minSize:We.number,maxSize:We.number,maxFiles:We.number,disabled:We.bool,getFilesFromEvent:We.func,onFileDialogCancel:We.func,onFileDialogOpen:We.func,useFsAccessApi:We.bool,autoFocus:We.bool,onDragEnter:We.func,onDragLeave:We.func,onDragOver:We.func,onDrop:We.func,onDropAccepted:We.func,onDropRejected:We.func,onError:We.func,validator:We.func};var Ba={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Wd(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=et(et({},qd),e),n=t.accept,r=t.disabled,i=t.getFilesFromEvent,c=t.maxSize,l=t.minSize,u=t.multiple,f=t.maxFiles,m=t.onDragEnter,x=t.onDragLeave,a=t.onDragOver,p=t.onDrop,g=t.onDropAccepted,_=t.onDropRejected,T=t.onFileDialogCancel,j=t.onFileDialogOpen,k=t.useFsAccessApi,F=t.autoFocus,$=t.preventDropOnDocument,Y=t.noClick,X=t.noKeyboard,Q=t.noDrag,q=t.noDragEventsBubbling,V=t.onError,ne=t.validator,ce=z.useMemo(function(){return bb(n)},[n]),xe=z.useMemo(function(){return xb(n)},[n]),Oe=z.useMemo(function(){return typeof j=="function"?j:Pl},[j]),Pe=z.useMemo(function(){return typeof T=="function"?T:Pl},[T]),we=z.useRef(null),$e=z.useRef(null),pt=z.useReducer(Ib,Ba),Ee=la(pt,2),me=Ee[0],De=Ee[1],U=me.isFocused,pe=me.isFileDialogActive,ge=z.useRef(typeof window<"u"&&window.isSecureContext&&k&&yb()),ke=function(){!ge.current&&pe&&setTimeout(function(){if($e.current){var fe=$e.current.files;fe.length||(De({type:"closeDialog"}),Pe())}},300)};z.useEffect(function(){return window.addEventListener("focus",ke,!1),function(){window.removeEventListener("focus",ke,!1)}},[$e,pe,Pe,ge]);var Ze=z.useRef([]),yt=function(fe){we.current&&we.current.contains(fe.target)||(fe.preventDefault(),Ze.current=[])};z.useEffect(function(){return $&&(document.addEventListener("dragover",Al,!1),document.addEventListener("drop",yt,!1)),function(){$&&(document.removeEventListener("dragover",Al),document.removeEventListener("drop",yt))}},[we,$]),z.useEffect(function(){return!r&&F&&we.current&&we.current.focus(),function(){}},[we,F,r]);var Ae=z.useCallback(function(se){V?V(se):console.error(se)},[V]),Le=z.useCallback(function(se){se.preventDefault(),se.persist(),Lt(se),Ze.current=[].concat(jb(Ze.current),[se.target]),$i(se)&&Promise.resolve(i(se)).then(function(fe){if(!(co(se)&&!q)){var ue=fe.length,Te=ue>0&&hb({files:fe,accept:ce,minSize:l,maxSize:c,multiple:u,maxFiles:f,validator:ne}),ze=ue>0&&!Te;De({isDragAccept:Te,isDragReject:ze,isDragActive:!0,type:"setDraggedFiles"}),m&&m(se)}}).catch(function(fe){return Ae(fe)})},[i,m,Ae,q,ce,l,c,u,f,ne]),Rt=z.useCallback(function(se){se.preventDefault(),se.persist(),Lt(se);var fe=$i(se);if(fe&&se.dataTransfer)try{se.dataTransfer.dropEffect="copy"}catch{}return fe&&a&&a(se),!1},[a,q]),le=z.useCallback(function(se){se.preventDefault(),se.persist(),Lt(se);var fe=Ze.current.filter(function(Te){return we.current&&we.current.contains(Te)}),ue=fe.indexOf(se.target);ue!==-1&&fe.splice(ue,1),Ze.current=fe,!(fe.length>0)&&(De({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),$i(se)&&x&&x(se))},[we,x,q]),Yt=z.useCallback(function(se,fe){var ue=[],Te=[];se.forEach(function(ze){var Ne=Bd(ze,ce),Ge=la(Ne,2),Je=Ge[0],mt=Ge[1],Et=Vd(ze,l,c),Bt=la(Et,2),G=Bt[0],W=Bt[1],be=ne?ne(ze):null;if(Je&&G&&!be)ue.push(ze);else{var Re=[mt,W];be&&(Re=Re.concat(be)),Te.push({file:ze,errors:Re.filter(function(qe){return qe})})}}),(!u&&ue.length>1||u&&f>=1&&ue.length>f)&&(ue.forEach(function(ze){Te.push({file:ze,errors:[fb]})}),ue.splice(0)),De({acceptedFiles:ue,fileRejections:Te,isDragReject:Te.length>0,type:"setFiles"}),p&&p(ue,Te,fe),Te.length>0&&_&&_(Te,fe),ue.length>0&&g&&g(ue,fe)},[De,u,ce,l,c,f,p,g,_,ne]),Ue=z.useCallback(function(se){se.preventDefault(),se.persist(),Lt(se),Ze.current=[],$i(se)&&Promise.resolve(i(se)).then(function(fe){co(se)&&!q||Yt(fe,se)}).catch(function(fe){return Ae(fe)}),De({type:"reset"})},[i,Yt,Ae,q]),Me=z.useCallback(function(){if(ge.current){De({type:"openDialog"}),Oe();var se={multiple:u,types:xe};window.showOpenFilePicker(se).then(function(fe){return i(fe)}).then(function(fe){Yt(fe,null),De({type:"closeDialog"})}).catch(function(fe){_b(fe)?(Pe(fe),De({type:"closeDialog"})):wb(fe)?(ge.current=!1,$e.current?($e.current.value=null,$e.current.click()):Ae(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Ae(fe)});return}$e.current&&(De({type:"openDialog"}),Oe(),$e.current.value=null,$e.current.click())},[De,Oe,Pe,k,Yt,Ae,xe,u]),H=z.useCallback(function(se){!we.current||!we.current.isEqualNode(se.target)||(se.key===" "||se.key==="Enter"||se.keyCode===32||se.keyCode===13)&&(se.preventDefault(),Me())},[we,Me]),he=z.useCallback(function(){De({type:"focus"})},[]),ye=z.useCallback(function(){De({type:"blur"})},[]),Be=z.useCallback(function(){Y||(gb()?setTimeout(Me,0):Me())},[Y,Me]),at=function(fe){return r?null:fe},ht=function(fe){return X?null:at(fe)},Pt=function(fe){return Q?null:at(fe)},Lt=function(fe){q&&fe.stopPropagation()},xt=z.useMemo(function(){return function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=se.refKey,ue=fe===void 0?"ref":fe,Te=se.role,ze=se.onKeyDown,Ne=se.onFocus,Ge=se.onBlur,Je=se.onClick,mt=se.onDragEnter,Et=se.onDragOver,Bt=se.onDragLeave,G=se.onDrop,W=lo(se,Sb);return et(et(La({onKeyDown:ht(tn(ze,H)),onFocus:ht(tn(Ne,he)),onBlur:ht(tn(Ge,ye)),onClick:at(tn(Je,Be)),onDragEnter:Pt(tn(mt,Le)),onDragOver:Pt(tn(Et,Rt)),onDragLeave:Pt(tn(Bt,le)),onDrop:Pt(tn(G,Ue)),role:typeof Te=="string"&&Te!==""?Te:"presentation"},ue,we),!r&&!X?{tabIndex:0}:{}),W)}},[we,H,he,ye,Be,Le,Rt,le,Ue,X,Q,r]),on=z.useCallback(function(se){se.stopPropagation()},[]),ft=z.useMemo(function(){return function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=se.refKey,ue=fe===void 0?"ref":fe,Te=se.onChange,ze=se.onClick,Ne=lo(se,Ab),Ge=La({accept:ce,multiple:u,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:at(tn(Te,Ue)),onClick:at(tn(ze,on)),tabIndex:-1},ue,$e);return et(et({},Ge),Ne)}},[$e,n,u,Ue,r]);return et(et({},me),{},{isFocused:U&&!r,getRootProps:xt,getInputProps:ft,rootRef:we,inputRef:$e,open:at(Me)})}function Ib(e,t){switch(t.type){case"focus":return et(et({},e),{},{isFocused:!0});case"blur":return et(et({},e),{},{isFocused:!1});case"openDialog":return et(et({},Ba),{},{isFileDialogActive:!0});case"closeDialog":return et(et({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return et(et({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return et(et({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return et({},Ba);default:return e}}function Pl(){}const Ts=({onFile:e,className:t="",children:n,disabled:r=!1})=>{const i=z.useCallback(f=>{const m=f[0];m&&e(m)},[e]),{getRootProps:c,getInputProps:l,isDragActive:u}=Wd({multiple:!1,accept:{"audio/*":[]},onDropAccepted:i,disabled:r});return y.jsxs("div",{...c({className:`${t} ${u&&!r?"drag-hover":""}`.trim()}),children:[y.jsx("input",{...l()}),n]})},Dl=({block:e,mutateBlock:t,draggingBlockId:n,showSoundControls:r=!1,showTimeoutControls:i=!1})=>{const c=m=>new Promise(x=>{const a=new FileReader;a.onload=()=>{x(typeof a.result=="string"?a.result:void 0)},a.onerror=()=>x(void 0),a.readAsDataURL(m)}),l=e,u=l.soundType==="custom"?"url":l.soundType??"default",f=async m=>{const x=await c(m);x&&t(e.id,a=>{a.customUrl=x,a.soundType="upload",a.label=m.name||a.label})};return y.jsxs(y.Fragment,{children:[y.jsx("input",{className:"soft-input w-full",placeholder:"Notification title",value:l.title||"",onChange:m=>t(e.id,x=>{x.title=m.target.value.slice(0,100)})}),y.jsx("textarea",{className:"soft-input min-h-[70px] resize-none w-full",placeholder:"Notification message",value:l.body||"",onChange:m=>t(e.id,x=>{x.body=m.target.value.slice(0,200)})}),r&&y.jsxs("div",{className:"flex items-center gap-2 flex-nowrap flex-1 min-w-0",children:[y.jsxs("select",{className:"soft-input shrink-0",value:u,"data-no-drag":!0,onChange:m=>{const x=m.target.value;t(e.id,a=>{a.soundType=x,x==="default"&&(a.customUrl="",a.label=a.label||"Beep")})},children:[y.jsx("option",{value:"default",children:"Default"}),y.jsx("option",{value:"url",children:"URL"}),y.jsx("option",{value:"upload",children:"Upload"})]}),u==="default"&&y.jsx("select",{className:"soft-input sound-default-select",value:l.label||"Beep","data-no-drag":!0,onChange:m=>t(e.id,x=>{x.label=m.target.value}),children:y.jsx("option",{value:"Beep",children:"Beep"})}),u==="url"&&y.jsx("input",{type:"text",className:"soft-text-input min-w-0",placeholder:"https://example.com/audio.mp3",value:l.customUrl||"","data-no-drag":!0,onChange:m=>t(e.id,x=>{x.customUrl=m.target.value})}),u==="upload"&&y.jsx(Ts,{onFile:f,className:"soft-text-input upload-input flex items-center min-w-0 cursor-pointer",disabled:!!n,children:y.jsx("span",{className:"truncate text-sm text-accent-500 w-full text-left",children:l.customUrl?l.label||"Audio file loaded":"Upload or drag a sound file"})})]})]})},Rb=({block:e,mutateBlock:t})=>y.jsxs("div",{className:"flex items-center gap-2 flex-nowrap",children:[y.jsx("input",{type:"number",min:0,step:e.unit==="minutes"?5:1,className:"soft-input wait-number",value:e.amount,"data-no-drag":!0,onChange:n=>t(e.id,r=>{r.amount=Number(n.target.value)})}),y.jsx("select",{className:"soft-input wait-unit",value:e.unit,"data-no-drag":!0,onChange:n=>t(e.id,r=>{r.unit=n.target.value}),children:zx.map(({value:n,label:r})=>y.jsx("option",{value:n,children:r},n))})]}),zb=({block:e,mutateBlock:t})=>{const n=ir(e.time,"07:00"),[r,i]=n.split(":"),c=Array.from({length:12},(u,f)=>(f+1).toString()),l=Array.from({length:60},(u,f)=>f.toString().padStart(2,"0"));return y.jsxs("div",{className:"flex items-center gap-2 flex-nowrap",children:[y.jsx("select",{className:"soft-input wait-time",value:r,"data-no-drag":!0,onChange:u=>t(e.id,f=>{f.time=`${u.target.value}:${i}`}),children:c.map(u=>y.jsx("option",{value:u,children:u},u))}),y.jsx("select",{className:"soft-input wait-time",value:i,"data-no-drag":!0,onChange:u=>t(e.id,f=>{f.time=`${r}:${u.target.value}`}),children:l.map(u=>y.jsx("option",{value:u,children:u},u))}),y.jsxs("select",{className:"soft-input wait-ampm",value:e.ampm,"data-no-drag":!0,onChange:u=>t(e.id,f=>{f.ampm=u.target.value}),children:[y.jsx("option",{children:"AM"}),y.jsx("option",{children:"PM"})]})]})},Fb=({block:e,mutateBlock:t,draggingBlockId:n})=>{const r=l=>new Promise(u=>{const f=new FileReader;f.onload=()=>{u(typeof f.result=="string"?f.result:void 0)},f.onerror=()=>u(void 0),f.readAsDataURL(l)}),i=e.soundType==="custom"?"url":e.soundType??"default",c=async l=>{const u=await r(l);u&&t(e.id,f=>{const m=f;m.customUrl=u,m.label=l.name||m.label,m.soundType="upload"})};return y.jsxs("div",{className:"flex items-center gap-2 flex-nowrap flex-1 min-w-0",children:[y.jsxs("select",{className:"soft-input shrink-0",value:i,"data-no-drag":!0,onChange:l=>t(e.id,u=>{u.soundType=l.target.value}),children:[y.jsx("option",{value:"default",children:"Default"}),y.jsx("option",{value:"url",children:"URL"}),y.jsx("option",{value:"upload",children:"Upload"})]}),i==="default"&&y.jsx("select",{className:"soft-input sound-default-select",value:e.label||"Beep","data-no-drag":!0,onChange:l=>t(e.id,u=>{u.label=l.target.value}),children:y.jsx("option",{value:"Beep",children:"Beep"})}),i==="url"&&y.jsx("input",{className:"soft-text-input min-w-0",placeholder:"https://example.com/audio.mp3",value:e.customUrl||"","data-no-drag":!0,onChange:l=>t(e.id,u=>{u.customUrl=l.target.value})}),i==="upload"&&y.jsx(Ts,{onFile:c,className:"soft-text-input upload-input flex items-center min-w-0 cursor-pointer",disabled:!!n,children:y.jsx("span",{className:"truncate text-sm text-accent-500 w-full text-left",children:e.customUrl?e.label||"Audio file loaded":"Upload or drag a sound file"})})]})},$b=({block:e,mutateBlock:t,draggingBlockId:n})=>{const r=l=>new Promise(u=>{const f=new FileReader;f.onload=()=>{u(typeof f.result=="string"?f.result:void 0)},f.onerror=()=>u(void 0),f.readAsDataURL(l)}),i=e.soundType==="custom"?"url":e.soundType??"default",c=async l=>{const u=await r(l);u&&t(e.id,f=>{const m=f;m.customUrl=u,m.label=l.name||m.label,m.soundType="upload"})};return y.jsxs("div",{className:"flex items-center gap-2 flex-nowrap flex-1 min-w-0",children:[y.jsxs("select",{className:"soft-input shrink-0",value:i,"data-no-drag":!0,onChange:l=>t(e.id,u=>{u.soundType=l.target.value}),children:[y.jsx("option",{value:"default",children:"Default"}),y.jsx("option",{value:"url",children:"URL"}),y.jsx("option",{value:"upload",children:"Upload"})]}),i==="default"&&y.jsx("select",{className:"soft-input sound-default-select",value:e.label||"Beep","data-no-drag":!0,onChange:l=>t(e.id,u=>{u.label=l.target.value}),children:y.jsx("option",{value:"Beep",children:"Beep"})}),i==="url"&&y.jsx("input",{className:"soft-text-input min-w-0",placeholder:"https://example.com/audio.mp3",value:e.customUrl||"","data-no-drag":!0,onChange:l=>t(e.id,u=>{u.customUrl=l.target.value})}),i==="upload"&&y.jsx(Ts,{onFile:c,className:"soft-text-input upload-input flex items-center min-w-0 cursor-pointer",disabled:!!n,children:y.jsx("span",{className:"truncate text-sm text-accent-500 w-full text-left",children:e.customUrl?e.label||"Audio file loaded":"Upload or drag a sound file"})})]})},Lb=e=>!e||e.duration==null&&e.nextTrigger==null&&e.scheduledAt==null,Bb=e=>e?typeof e.paused=="boolean"?e.paused:typeof e.running=="boolean"?!e.running:typeof e.remaining=="number"?e.remaining<=0:!1:!1,Vb=(e,t=Date.now())=>{const n={...e,paused:!1,id:e.id,restart:!0};if(e.duration!=null)n.startedAt=t,n.remaining=e.duration;else if(e.nextTrigger!=null||e.scheduledAt!=null||e.time!=null){const r=e.nextTrigger??e.scheduledAt??e.time;n.nextTrigger=Math.max(Number(r)||t,t),n.startedAt=t}else n.startedAt=t;return n},Ub=()=>({isLikelyStopwatch:Lb,isPaused:Bb,buildRestartPayload:Vb}),xn=e=>({...e,mode:e.mode??"stopwatch"}),Kb=(e,t)=>JSON.stringify(e)===JSON.stringify(t),Zb=({timer:e,onBack:t,onSave:n,activeBlockId:r})=>{const[i,c]=jx(()=>xn(e)),[l,u]=z.useState(!1),[f,m]=z.useState(null),[x,a]=z.useState(void 0),[p,g]=z.useState(null),[_,T]=z.useState(null),[j,k]=z.useState(!1),[F,$]=z.useState(!1),[Y,X]=z.useState(400),Q=z.useRef(new Map),q=z.useRef(new Map),V=z.useRef(xn(e)),ne=z.useRef(null),ce=z.useRef(null),xe=z.useRef(null),Oe=z.useRef(null),Pe=z.useRef(null),we=z.useCallback(()=>{var H;return Math.max((((H=Pe.current)==null?void 0:H.clientWidth)??0)-45,350)},[]),$e=rh(zc(sh,{activationConstraint:{delay:120,tolerance:8}}),zc(ah,{activationConstraint:{distance:4}}));z.useEffect(()=>{V.current=xn(e)},[e]);const pt=z.useMemo(()=>!Kb(xn(i),V.current),[i]),Ee=()=>{m(null),k(!1),a(void 0)},me=()=>{const H=`${(i.name||"timer").replace(/[^a-z0-9]/gi,"-")||"timer"}.json`,he=JSON.stringify(i,null,2),ye=new Blob([he],{type:"application/json"}),Be=URL.createObjectURL(ye),at=document.createElement("a");at.href=Be,at.download=H,at.click(),URL.revokeObjectURL(Be)},De=H=>{const he=H.active.data.current;if(he)if(k(!0),T(he),he.kind==="existing"){const ye=Gr(i.blocks,he.blockId);ye&&m(ye);const Be=Q.current.get(he.blockId);a(Be),g(he.blockId)}else m(gl(he.blockType)),a(we()),g(null)},U=H=>{var at;const he=_,ye=(at=H.over)==null?void 0:at.id;if(ye==="delete-zone"&&he&&he.kind==="existing"){c(ht=>{ht.blocks=io(ht.blocks,he.blockId)}),Ee(),g(null),T(null);return}const Be=typeof ye=="string"?Px(ye):null;if(he&&Be)if(he.kind==="palette"){const ht=gl(he.blockType);c(Pt=>{Pt.blocks=Cx(Pt.blocks,ht,Be)})}else c(ht=>{ht.blocks=Ex(ht.blocks,he.blockId,Be)});Ee(),g(null),T(null)},pe=()=>{Ee(),g(null),T(null),k(!1)};z.useEffect(()=>{const H=()=>{var ye;const he=(ye=Oe.current)==null?void 0:ye.getBoundingClientRect().height;he&&he>0?X(Math.max(400,he+200)):X(Be=>Math.max(400,Be))};return H(),window.addEventListener("resize",H),()=>window.removeEventListener("resize",H)},[]);const ge=()=>{if(pt){$(!0);return}t()},ke=()=>{$(!1),t()},Ze=()=>{$(!1)};z.useEffect(()=>{const H=()=>{q.current.forEach((he,ye)=>{Q.current.set(ye,he.getBoundingClientRect().width)})};return window.addEventListener("resize",H),()=>window.removeEventListener("resize",H)},[]);const yt=z.useMemo(()=>[{blockType:"loop",label:bn("loop"),desc:"Repeat blocks"},{blockType:"wait",label:bn("wait"),desc:"Pause duration"},{blockType:"waitUntil",label:bn("waitUntil"),desc:"Pause until time"},{blockType:"playSound",label:bn("playSound"),desc:"Play audio"},{blockType:"playSoundUntil",label:bn("playSoundUntil"),desc:"Play audio and wait until it ends"},{blockType:"notify",label:bn("notify"),desc:"Show a notification"},{blockType:"notifyUntil",label:bn("notifyUntil"),desc:"Notify and loop sound until dismissed or timeout"}],[]),Ae=z.useCallback((H,he)=>{c(ye=>{const Be=Gr(ye.blocks,H);Be&&he(Be)})},[c]);z.useCallback(H=>{c(he=>{he.blocks=io(he.blocks,H)})},[c]);const Le=(H,he=0,ye=!1,Be=!1,at=!1,ht=!1,Pt=!1,Lt=!1)=>{const xt=()=>{const ue=H,Te=p?ue.children.filter(Ne=>Ne.id!==p):ue.children,ze=Te.length===0;return Be?y.jsxs("div",{className:"flex flex-col gap-2",children:[!ze&&y.jsx("div",{className:"flex flex-col",children:ue.children.map(Ne=>y.jsx(ut.Fragment,{children:Le(Ne,he+1,!0,!0)},Ne.id))}),ze&&y.jsx("div",{className:"rounded-xl bg-accent-50-70 p-3",children:y.jsx("p",{className:"text-[11px] text-accent-300 text-center select-none",children:"Drag blocks here to include them in this loop."})})]}):y.jsxs("div",{className:"flex flex-col gap-2",children:[ze&&y.jsx(Fi,{id:Kt(ue.id,"inside"),className:"rounded-xl bg-accent-50-70 p-3 transition-all",activeClassName:"outline outline-2 outline-dashed outline-accent-200",children:()=>y.jsx("div",{className:"rounded-xl",children:y.jsx("p",{className:"text-[11px] text-accent-300 text-center select-none",children:"Drag blocks here to include them in this loop."})})}),!ze&&y.jsxs("div",{className:"flex flex-col",children:[Te.length>0&&y.jsx(cn,{id:Kt(Te[0].id,"before")}),ue.children.map((Ne,Ge)=>{const Je=Te.findIndex(Et=>Et.id===Ne.id),mt=Je===Te.length-1;return y.jsxs(ut.Fragment,{children:[Le(Ne,he+1,!0,!1),!mt&&Je!==-1&&y.jsx(cn,{id:Kt(Ne.id,"after")})]},Ne.id)}),y.jsx(cn,{id:Kt(ue.id,"inside")})]})]})},on=()=>{const ue=H,Te=ue.children||[],ze=p?Te.filter(Je=>Je.id!==p):Te,Ne=ze.length===0,Ge=Be?y.jsx("div",{className:"flex flex-col gap-2",children:Te.length===0?y.jsx("div",{className:"rounded-xl bg-accent-50-70 p-3",children:y.jsx("p",{className:"text-[11px] text-accent-300 text-center select-none",children:"Drag blocks here to include them in this loop."})}):Te.map(Je=>y.jsx(ut.Fragment,{children:Le(Je,he+1,!0,!0)},Je.id))}):y.jsxs("div",{className:"flex flex-col gap-2",children:[Ne&&y.jsx(Fi,{id:Kt(ue.id,"inside"),className:"rounded-xl bg-accent-50-70 p-3 transition-all",activeClassName:"outline outline-2 outline-dashed outline-accent-200",children:()=>y.jsx("div",{className:"rounded-xl",children:y.jsx("p",{className:"text-[11px] text-accent-300 text-center select-none",children:"Drag blocks here to include them in this loop."})})}),!Ne&&y.jsxs("div",{className:"flex flex-col",children:[ze.length>0&&y.jsx(cn,{id:Kt(ze[0].id,"before")}),Te.map(Je=>{const mt=ze.findIndex(Bt=>Bt.id===Je.id),Et=mt===ze.length-1;return y.jsxs(ut.Fragment,{children:[Le(Je,he+1,!0,!1),!Et&&mt!==-1&&y.jsx(cn,{id:Kt(Je.id,"after")})]},Je.id)}),y.jsx(cn,{id:Kt(ue.id,"inside")})]})]});return y.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[!Be&&y.jsx(Dl,{block:ue,mutateBlock:Ae,draggingBlockId:p}),Ge]})},ft=H.type==="wait"?"Wait":H.type==="waitUntil"?"Wait Until":H.type==="playSound"?"Play Sound":H.type==="playSoundUntil"?"Play Sound Until":H.type==="notify"||H.type==="notifyUntil"?"Notify":"Loop",se=r===H.id,fe=ue=>{var Te,ze;return y.jsxs("div",{ref:Ne=>{ue!=null&&ue.setNodeRef&&(ue.setNodeRef(Ne),Ne?(q.current.set(H.id,Ne),Q.current.set(H.id,Ne.getBoundingClientRect().width)):(q.current.delete(H.id),Q.current.delete(H.id)))},style:{...ue==null?void 0:ue.style,...ue!=null&&ue.isDragging?{display:"none"}:{opacity:((Te=ue==null?void 0:ue.style)==null?void 0:Te.opacity)??1,visibility:((ze=ue==null?void 0:ue.style)==null?void 0:ze.visibility)??"visible"}},className:`draggable-card pastel-card pastel-hover p-3 w-full relative z-20 ${se?"ring-2 ring-accent-300":""}`,...ue==null?void 0:ue.attributes,...ue==null?void 0:ue.listeners,children:[y.jsx("div",{className:"flex items-center justify-between mb-2",children:H.type==="loop"?y.jsxs("div",{className:"flex items-center gap-2 flex-wrap flex-1",children:[y.jsx("span",{className:"text-xs text-accent-400 cursor-grab select-none",children:ft}),H.repeat!==-1&&y.jsxs(y.Fragment,{children:[y.jsx("input",{type:"number",min:1,className:"soft-input loop-input soft-number",value:H.repeat,onChange:Ne=>Ae(H.id,Ge=>{Ge.repeat=Math.max(1,Number(Ne.target.value)||1)})}),y.jsx("span",{className:"text-xs text-accent-400",children:"times"})]}),y.jsxs("label",{className:"flex items-center gap-1 text-xs text-accent-400 ml-auto pr-2 select-none",children:[y.jsx("input",{type:"checkbox",checked:H.repeat===-1,onChange:Ne=>Ae(H.id,Ge=>{Ge.repeat=Ne.target.checked?-1:Math.max(1,Number(Ge.repeat)||1)}),className:"accent-accent-500 h-4 w-4"}),y.jsx("span",{children:"Forever"})]})]}):H.type==="wait"?y.jsxs("div",{className:"flex items-center gap-3 flex-wrap flex-1",children:[y.jsx("span",{className:"text-xs text-accent-400 cursor-grab select-none shrink-0",children:ft}),y.jsx("div",{className:"flex items-center gap-2 flex-wrap flex-1",children:y.jsx(Rb,{block:H,mutateBlock:Ae})})]}):H.type==="waitUntil"?y.jsxs("div",{className:"flex items-center gap-3 flex-wrap flex-1",children:[y.jsx("span",{className:"text-xs text-accent-400 cursor-grab select-none shrink-0",children:ft}),y.jsx("div",{className:"flex items-center gap-2 flex-wrap flex-1",children:y.jsx(zb,{block:H,mutateBlock:Ae})})]}):H.type==="playSound"?y.jsxs("div",{className:"flex items-center gap-3 flex-wrap flex-1",children:[y.jsx("span",{className:"text-xs text-accent-400 cursor-grab select-none shrink-0",children:ft}),y.jsx("div",{className:"flex items-center gap-2 flex-wrap flex-1",children:y.jsx(Fb,{block:H,mutateBlock:Ae,draggingBlockId:p})})]}):H.type==="playSoundUntil"?y.jsxs("div",{className:"flex items-center gap-3 flex-wrap flex-1",children:[y.jsx("span",{className:"text-xs text-accent-400 cursor-grab select-none shrink-0",children:ft}),y.jsx("div",{className:"flex items-center gap-2 flex-wrap flex-1",children:y.jsx($b,{block:H,mutateBlock:Ae,draggingBlockId:p})})]}):H.type==="notifyUntil"?y.jsxs("div",{className:"flex items-center gap-2 flex-wrap flex-1 text-xs text-accent-400",children:[y.jsx("span",{className:"cursor-grab select-none shrink-0",children:ft}),y.jsx("span",{className:"shrink-0",children:"for"}),y.jsx("input",{type:"number",min:1,step:1,"aria-label":"Notify for seconds",className:"soft-input soft-number w-[80px]",value:Math.round((H.timeoutMs??1e4)/1e3),"data-no-drag":!0,onChange:Ne=>Ae(H.id,Ge=>{Ge.timeoutMs=Math.max(1e3,Number(Ne.target.value)||10)*1e3})}),y.jsx("span",{className:"shrink-0",children:"seconds"})]}):H.type==="notify"?y.jsx("span",{className:"text-xs text-accent-400 flex items-center gap-2 cursor-grab select-none",children:ft}):y.jsx("span",{className:"text-xs text-accent-400 flex items-center gap-2 cursor-grab select-none",children:ft})}),H.type==="loop"&&xt(),H.type==="notify"&&y.jsx("div",{className:"flex flex-col gap-2 mt-2",children:y.jsx(Dl,{block:H,mutateBlock:Ae,draggingBlockId:p})}),H.type==="notifyUntil"&&on()]})};return Be?y.jsx("div",{className:"relative min-w-0",children:fe()},H.id):p===H.id&&!Lt?null:Pt?y.jsx("div",{className:"relative min-w-0",children:fe()},H.id):y.jsxs("div",{className:"relative min-w-0",children:[y.jsx(Ox,{id:`block:${H.id}`,data:{kind:"existing",blockId:H.id},children:({setNodeRef:ue,attributes:Te,listeners:ze,style:Ne,isDragging:Ge})=>fe({setNodeRef:ue,attributes:Te,listeners:ze,style:Ne,isDragging:Ge})}),!ye&&!at&&y.jsx(cn,{id:Kt(H.id,"after")})]},H.id)},Rt=p?i.blocks.filter(H=>H.id!==p):i.blocks,le=i.mode==="alarm"?"Alarm Editor":"Timer Editor",{isLikelyStopwatch:Yt,buildRestartPayload:Ue}=Ub(),Me=H=>{const he=H??i;if(Yt(he)){V.current=xn({...he}),c(Be=>({...Be,...he})),n({...he});return}const ye=Ue(he);ye.edited=!0,c(Be=>({...Be,...ye})),ne.current=String(ye.id),ce.current=String(ye.id),V.current=xn(ye),n(ye)};return z.useEffect(()=>{if(!(e!=null&&e.id)||(xe.current!==e.id&&(xe.current=e.id,ne.current=null,ce.current=null),ce.current===e.id)||!e.edited||ne.current===String(e.id)||e.duration==null&&e.nextTrigger==null&&e.scheduledAt==null)return;ce.current=e.id;const he=Date.now(),ye={...e,paused:!1,edited:!1,id:e.id};if(e.duration!=null)ye.startedAt=he,ye.remaining=e.duration;else if(e.nextTrigger!=null||e.scheduledAt!=null||e.time!=null){const Be=e.nextTrigger??e.scheduledAt??e.time;ye.nextTrigger=Math.max(Number(Be)||he,he),ye.startedAt=he}else ye.startedAt=he;c(()=>xn(ye)),dispatch(updateTimer(ye)),V.current=xn(ye)},[e==null?void 0:e.id,e==null?void 0:e.edited]),y.jsx("div",{className:"app-shell",style:{touchAction:j?"none":"auto"},children:y.jsxs(ih,{sensors:$e,collisionDetection:oh,onDragStart:De,onDragEnd:U,onDragCancel:pe,children:[y.jsxs("div",{className:"w-full max-w-4xl flex flex-col pastel-card pastel-hover p-6",children:[y.jsxs("div",{className:"flex flex-col gap-3 mb-4",children:[y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("p",{className:"text-[11px] uppercase tracking-wide text-accent-300",children:le}),y.jsx("input",{className:"soft-input w-full text-xl font-semibold text-accent-600",value:i.name,placeholder:"New Timer",onChange:H=>{u(!0),c(he=>({...he,name:H.target.value.slice(0,20)}))},onFocus:H=>H.target.select(),onKeyDown:H=>{H.key==="Enter"&&(H.preventDefault(),H.currentTarget.blur())}})]}),y.jsxs("div",{className:"flex flex-col gap-1 max-w-xs",children:[y.jsx("p",{className:"text-[11px] uppercase tracking-wide text-accent-300",children:"Timer type"}),y.jsxs("select",{className:"soft-input w-full",value:i.mode??"stopwatch",onChange:H=>{const he=H.target.value;c(ye=>{const Be={...ye,mode:he},at=ye.mode??"stopwatch",ht="New Timer",Pt="New Timer";return!l&&ye.name.trim().toLowerCase()===ht.toLowerCase()?{...Be,name:Pt}:Be})},children:[y.jsx("option",{value:"stopwatch",children:"Timer"}),y.jsx("option",{value:"alarm",children:"Alarm"})]})]})]}),y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("div",{className:"flex flex-col gap-2 flex-shrink-0",children:[y.jsx("p",{className:"text-[11px] uppercase tracking-wide text-accent-300 pl-1",children:"Block palette"}),j?y.jsx(Fi,{id:"delete-zone",className:"palette-column flex flex-col items-center justify-center gap-2 rounded-xl border-2 border-dashed transition-colors h-full min-h-[530px] border-accent-200 bg-accent-50",activeClassName:"border-accent-300 bg-accent-100",children:H=>y.jsx("span",{className:`text-xs font-medium ${H?"text-accent-600":"text-accent-400"}`,children:"ðï¸ Drop to delete"})}):y.jsx("aside",{className:"palette-column flex flex-col gap-2 items-stretch",children:yt.map(H=>y.jsx(Mx,{...H},H.blockType))})]}),y.jsxs("div",{className:"flex-1 flex flex-col gap-2 min-w-0",children:[y.jsx("p",{className:"text-[11px] uppercase tracking-wide text-accent-300 pl-1",children:"Timer builder"}),y.jsx("div",{className:"max-h-[530px] overflow-auto",ref:Pe,children:y.jsx("main",{className:"rounded-xl border border-accent-100 bg-accent-50-70 p-3 min-h-[530px] flex flex-col min-w-[350px]",children:Rt.length===0?y.jsx("div",{className:"relative flex-1 min-h-[320px]",children:y.jsx(Fi,{id:Kt("root","empty"),className:"absolute inset-0 rounded-lg flex items-center justify-center border border-dashed border-accent-100 bg-accent-50-90",activeClassName:"outline outline-2 outline-dashed outline-accent-200",children:()=>y.jsx("p",{className:"text-xs text-accent-400 text-center px-4 py-2 rounded-lg",children:"Drag blocks here to build your timer."})})}):y.jsxs("div",{className:"rounded-lg bg-accent-50-90 p-2 flex flex-col gap-0",children:[y.jsx(cn,{id:Kt("root","prepend")}),Rt.map((H,he)=>y.jsx(ut.Fragment,{children:Le(H,0,!1,!1,he===Rt.length-1)},H.id)),y.jsx(cn,{id:Kt("root","append")})]})})})]})]}),y.jsxs("div",{className:"flex justify-between items-center mt-6 gap-2",children:[y.jsx("div",{children:y.jsx("button",{onClick:ge,className:"soft-button-primary px-3 shrink-0",children:"â Back"})}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{type:"button",onClick:me,className:"soft-button-primary","aria-label":"Export timer",title:"Export timer",children:"Export"}),y.jsx("button",{onClick:()=>Me(i),className:"soft-button-primary shrink-0",children:"Save"})]})]})]}),y.jsx(Rx,{block:f,width:x,renderContent:H=>Le(H,0,!1,!1,!1,!0,!0,!0)}),F&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fixed inset-0 z-40 bg-slate-900/20 backdrop-blur-sm pointer-events-none"}),y.jsx("div",{className:"fixed inset-0 z-40 overflow-y-scroll",children:y.jsx("div",{className:"min-h-screen flex items-start justify-center px-4 py-6 sm:py-12",children:y.jsxs("div",{className:"pastel-card w-full max-w-sm shadow-accent-soft p-5",children:[y.jsxs("div",{className:"flex items-start justify-between gap-3 mb-4",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-xs uppercase tracking-wide text-accent-300",children:"Unsaved changes"}),y.jsx("p",{className:"text-base font-semibold text-accent-600",children:"Leave without saving?"})]}),y.jsx("button",{type:"button",onClick:Ze,className:"soft-button bg-accent-50 hover:bg-accent-100 text-xs px-2 py-1",children:"â"})]}),y.jsx("p",{className:"text-sm text-accent-400 mb-5",children:"You have unsaved changes. Leaving now will discard them."}),y.jsxs("div",{className:"flex items-center justify-end gap-2",children:[y.jsx("button",{type:"button",onClick:Ze,className:"soft-button bg-accent-50 hover:bg-accent-100 text-accent-500",children:"Cancel"}),y.jsx("button",{type:"button",onClick:ke,className:"soft-button-primary",children:"Leave"})]})]})})})]})]})})};ri.extend(wd);const qb=e=>{const t=ri.duration(e),n=Math.floor(t.asHours()),r=t.minutes(),i=t.seconds(),c=`${r.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`;return n>0?`${n.toString().padStart(2,"0")}:${c}`:c},Wb=e=>ls(e,"MM/dd/yy hh:mm:ss a"),Hb=({timer:e,onBack:t,onSave:n})=>{const[r,i]=z.useState(e.name||"Stopwatch"),[c,l]=z.useState(e.logs??[]),[u,f]=z.useState(!1);z.useEffect(()=>{i(e.name||"Stopwatch"),l(e.logs??[])},[e]);const m=()=>{const T=`${(r||"stopwatch").replace(/[^a-z0-9]/gi,"-")||"stopwatch"}.json`,j=JSON.stringify({...e,name:r,logs:c},null,2),k=new Blob([j],{type:"application/json"}),F=URL.createObjectURL(k),$=document.createElement("a");$.href=F,$.download=T,$.click(),URL.revokeObjectURL(F)},x=z.useMemo(()=>r.trim()!==(e.name||"Stopwatch")||JSON.stringify(c)!==JSON.stringify(e.logs??[]),[r,c,e]),a=()=>{x?f(!0):t()},p=()=>{const T={...e,name:r.trim()||"Stopwatch",logs:c};n(T)},g=T=>{l(j=>j.filter(k=>k.id!==T))},_=(T,j)=>{l(k=>k.map(F=>F.id===T?{...F,name:j}:F))};return y.jsxs("div",{className:"app-shell",children:[y.jsxs("div",{className:"w-full max-w-4xl pastel-card p-6 shadow-accent-soft",children:[y.jsx("div",{className:"flex items-start justify-between mb-4 gap-3",children:y.jsxs("div",{children:[y.jsx("p",{className:"text-xs uppercase tracking-wide text-accent-300",children:"Stopwatch Editor"}),y.jsx("h2",{className:"text-xl font-semibold text-accent-600",children:e.name||"Stopwatch"})]})}),y.jsxs("div",{className:"flex flex-col gap-4",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-[11px] uppercase tracking-wide text-accent-300 mb-1",children:"Stopwatch name"}),y.jsx("input",{type:"text",className:"soft-input",value:r,onChange:T=>i(T.target.value),placeholder:"Stopwatch name"})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("p",{className:"text-[11px] uppercase tracking-wide text-accent-300",children:"Logs"}),y.jsx("span",{className:"text-xs text-accent-400",children:c.length?`${c.length} log${c.length===1?"":"s"}`:"No logs yet"})]}),c.length===0?y.jsx("p",{className:"text-xs text-accent-400",children:"No logs yet. Press Mark in the play menu to add one."}):y.jsx("div",{className:"flex flex-col gap-3 max-h-80 overflow-y-auto pr-1",children:c.slice().sort((T,j)=>j.loggedAt-T.loggedAt).map(T=>y.jsxs("div",{className:"pastel-card p-3 flex flex-col gap-2",children:[y.jsxs("div",{className:"flex items-center justify-between gap-2",children:[y.jsx("span",{className:"text-[11px] uppercase tracking-wide text-accent-300",children:Wb(T.loggedAt)}),y.jsx("button",{type:"button",onClick:()=>g(T.id),className:"soft-button bg-accent-100 text-accent-500 hover:bg-accent-200 text-xs px-3 py-1",children:"Delete"})]}),y.jsxs("div",{className:"flex items-center justify-between gap-2",children:[y.jsx("input",{type:"text",className:"soft-input",value:T.name,onChange:j=>_(T.id,j.target.value),placeholder:"Log name"}),y.jsx("span",{className:"font-mono text-sm text-accent-600 whitespace-nowrap",children:qb(T.elapsedMs)})]})]},T.id))})]})]}),y.jsxs("div",{className:"flex justify-between items-center mt-6 gap-2",children:[y.jsx("div",{children:y.jsx("button",{type:"button",onClick:a,className:"soft-button-primary",children:"Back"})}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{type:"button",onClick:m,className:"soft-button-primary","aria-label":"Export stopwatch",title:"Export stopwatch",children:"Export"}),y.jsx("button",{type:"button",onClick:p,className:"soft-button-primary",children:"Save"})]})]})]}),u&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fixed inset-0 z-40 bg-slate-900/20 backdrop-blur-sm pointer-events-none"}),y.jsx("div",{className:"fixed inset-0 z-40 overflow-y-scroll",children:y.jsx("div",{className:"min-h-screen flex items-start justify-center px-4 py-6 sm:py-12",children:y.jsxs("div",{className:"pastel-card w-full max-w-sm shadow-accent-soft p-5",children:[y.jsxs("div",{className:"flex items-start justify-between gap-3 mb-4",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-xs uppercase tracking-wide text-accent-300",children:"Unsaved changes"}),y.jsx("p",{className:"text-base font-semibold text-accent-600",children:"Leave without saving?"})]}),y.jsx("button",{type:"button",onClick:()=>f(!1),className:"soft-button bg-accent-50 hover:bg-accent-100 text-xs px-2 py-1",children:"â"})]}),y.jsx("p",{className:"text-sm text-accent-400 mb-5",children:"You have unsaved changes. Leaving now will discard them."}),y.jsxs("div",{className:"flex items-center justify-end gap-2",children:[y.jsx("button",{type:"button",onClick:()=>f(!1),className:"soft-button bg-accent-50 hover:bg-accent-100 text-accent-500",children:"Cancel"}),y.jsx("button",{type:"button",onClick:t,className:"soft-button-primary",children:"Leave"})]})]})})})]})]})},Hd=z.createContext({});function Gb(e){const t=z.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ss=typeof window<"u",Yb=Ss?z.useLayoutEffect:z.useEffect,As=z.createContext(null);function js(e,t){e.indexOf(t)===-1&&e.push(t)}function Ps(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ln=(e,t,n)=>n>t?t:n<e?e:n;let Ds=()=>{};const un={},Gd=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Yd(e){return typeof e=="object"&&e!==null}const Xd=e=>/^0[^.\s]+$/u.test(e);function Cs(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ht=e=>e,Xb=(e,t)=>n=>t(e(n)),oi=(...e)=>e.reduce(Xb),Xr=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Es{constructor(){this.subscriptions=[]}add(t){return js(this.subscriptions,t),()=>Ps(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let c=0;c<i;c++){const l=this.subscriptions[c];l&&l(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const nn=e=>e*1e3,Wt=e=>e/1e3;function Qd(e,t){return t?e*(1e3/t):0}const Jd=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Qb=1e-7,Jb=12;function e0(e,t,n,r,i){let c,l,u=0;do l=t+(n-t)/2,c=Jd(l,r,i)-e,c>0?n=l:t=l;while(Math.abs(c)>Qb&&++u<Jb);return l}function ai(e,t,n,r){if(e===t&&n===r)return Ht;const i=c=>e0(c,0,1,e,n);return c=>c===0||c===1?c:Jd(i(c),t,r)}const ep=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,tp=e=>t=>1-e(1-t),np=ai(.33,1.53,.69,.99),Ns=tp(np),rp=ep(Ns),ip=e=>(e*=2)<1?.5*Ns(e):.5*(2-Math.pow(2,-10*(e-1))),Os=e=>1-Math.sin(Math.acos(e)),op=tp(Os),ap=ep(Os),t0=ai(.42,0,1,1),n0=ai(0,0,.58,1),sp=ai(.42,0,.58,1),r0=e=>Array.isArray(e)&&typeof e[0]!="number",cp=e=>Array.isArray(e)&&typeof e[0]=="number",i0={linear:Ht,easeIn:t0,easeInOut:sp,easeOut:n0,circIn:Os,circInOut:ap,circOut:op,backIn:Ns,backInOut:rp,backOut:np,anticipate:ip},o0=e=>typeof e=="string",Cl=e=>{if(cp(e)){Ds(e.length===4);const[t,n,r,i]=e;return ai(t,n,r,i)}else if(o0(e))return i0[e];return e},Li=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function a0(e,t){let n=new Set,r=new Set,i=!1,c=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function f(x){l.has(x)&&(m.schedule(x),e()),x(u)}const m={schedule:(x,a=!1,p=!1)=>{const _=p&&i?n:r;return a&&l.add(x),_.has(x)||_.add(x),x},cancel:x=>{r.delete(x),l.delete(x)},process:x=>{if(u=x,i){c=!0;return}i=!0,[n,r]=[r,n],n.forEach(f),n.clear(),i=!1,c&&(c=!1,m.process(x))}};return m}const s0=40;function lp(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},c=()=>n=!0,l=Li.reduce(($,Y)=>($[Y]=a0(c),$),{}),{setup:u,read:f,resolveKeyframes:m,preUpdate:x,update:a,preRender:p,render:g,postRender:_}=l,T=()=>{const $=un.useManualTiming?i.timestamp:performance.now();n=!1,un.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min($-i.timestamp,s0),1)),i.timestamp=$,i.isProcessing=!0,u.process(i),f.process(i),m.process(i),x.process(i),a.process(i),p.process(i),g.process(i),_.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(T))},j=()=>{n=!0,r=!0,i.isProcessing||e(T)};return{schedule:Li.reduce(($,Y)=>{const X=l[Y];return $[Y]=(Q,q=!1,V=!1)=>(n||j(),X.schedule(Q,q,V)),$},{}),cancel:$=>{for(let Y=0;Y<Li.length;Y++)l[Li[Y]].cancel($)},state:i,steps:l}}const{schedule:Xe,cancel:kn,state:_t,steps:ua}=lp(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ht,!0);let Zi;function c0(){Zi=void 0}const Mt={now:()=>(Zi===void 0&&Mt.set(_t.isProcessing||un.useManualTiming?_t.timestamp:performance.now()),Zi),set:e=>{Zi=e,queueMicrotask(c0)}},up=e=>t=>typeof t=="string"&&t.startsWith(e),Ms=up("--"),l0=up("var(--"),Is=e=>l0(e)?u0.test(e.split("/*")[0].trim()):!1,u0=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,br={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Qr={...br,transform:e=>ln(0,1,e)},Bi={...br,default:1},zr=e=>Math.round(e*1e5)/1e5,Rs=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function d0(e){return e==null}const p0=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,zs=(e,t)=>n=>!!(typeof n=="string"&&p0.test(n)&&n.startsWith(e)||t&&!d0(n)&&Object.prototype.hasOwnProperty.call(n,t)),dp=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,c,l,u]=r.match(Rs);return{[e]:parseFloat(i),[t]:parseFloat(c),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},f0=e=>ln(0,255,e),da={...br,transform:e=>Math.round(f0(e))},zn={test:zs("rgb","red"),parse:dp("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+da.transform(e)+", "+da.transform(t)+", "+da.transform(n)+", "+zr(Qr.transform(r))+")"};function h0(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Va={test:zs("#"),parse:h0,transform:zn.transform},si=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),_n=si("deg"),rn=si("%"),_e=si("px"),m0=si("vh"),v0=si("vw"),El={...rn,parse:e=>rn.parse(e)/100,transform:e=>rn.transform(e*100)},ar={test:zs("hsl","hue"),parse:dp("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+rn.transform(zr(t))+", "+rn.transform(zr(n))+", "+zr(Qr.transform(r))+")"},dt={test:e=>zn.test(e)||Va.test(e)||ar.test(e),parse:e=>zn.test(e)?zn.parse(e):ar.test(e)?ar.parse(e):Va.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?zn.transform(e):ar.transform(e),getAnimatableNone:e=>{const t=dt.parse(e);return t.alpha=0,dt.transform(t)}},g0=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function y0(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Rs))==null?void 0:t.length)||0)+(((n=e.match(g0))==null?void 0:n.length)||0)>0}const pp="number",fp="color",x0="var",b0="var(",Nl="${}",_0=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Jr(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let c=0;const u=t.replace(_0,f=>(dt.test(f)?(r.color.push(c),i.push(fp),n.push(dt.parse(f))):f.startsWith(b0)?(r.var.push(c),i.push(x0),n.push(f)):(r.number.push(c),i.push(pp),n.push(parseFloat(f))),++c,Nl)).split(Nl);return{values:n,split:u,indexes:r,types:i}}function hp(e){return Jr(e).values}function mp(e){const{split:t,types:n}=Jr(e),r=t.length;return i=>{let c="";for(let l=0;l<r;l++)if(c+=t[l],i[l]!==void 0){const u=n[l];u===pp?c+=zr(i[l]):u===fp?c+=dt.transform(i[l]):c+=i[l]}return c}}const w0=e=>typeof e=="number"?0:dt.test(e)?dt.getAnimatableNone(e):e;function k0(e){const t=hp(e);return mp(e)(t.map(w0))}const Tn={test:y0,parse:hp,createTransformer:mp,getAnimatableNone:k0};function pa(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function T0({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,c=0,l=0;if(!t)i=c=l=n;else{const u=n<.5?n*(1+t):n+t-n*t,f=2*n-u;i=pa(f,u,e+1/3),c=pa(f,u,e),l=pa(f,u,e-1/3)}return{red:Math.round(i*255),green:Math.round(c*255),blue:Math.round(l*255),alpha:r}}function uo(e,t){return n=>n>0?t:e}const tt=(e,t,n)=>e+(t-e)*n,fa=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},S0=[Va,zn,ar],A0=e=>S0.find(t=>t.test(e));function Ol(e){const t=A0(e);if(!t)return!1;let n=t.parse(e);return t===ar&&(n=T0(n)),n}const Ml=(e,t)=>{const n=Ol(e),r=Ol(t);if(!n||!r)return uo(e,t);const i={...n};return c=>(i.red=fa(n.red,r.red,c),i.green=fa(n.green,r.green,c),i.blue=fa(n.blue,r.blue,c),i.alpha=tt(n.alpha,r.alpha,c),zn.transform(i))},Ua=new Set(["none","hidden"]);function j0(e,t){return Ua.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function P0(e,t){return n=>tt(e,t,n)}function Fs(e){return typeof e=="number"?P0:typeof e=="string"?Is(e)?uo:dt.test(e)?Ml:E0:Array.isArray(e)?vp:typeof e=="object"?dt.test(e)?Ml:D0:uo}function vp(e,t){const n=[...e],r=n.length,i=e.map((c,l)=>Fs(c)(c,t[l]));return c=>{for(let l=0;l<r;l++)n[l]=i[l](c);return n}}function D0(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Fs(e[i])(e[i],t[i]));return i=>{for(const c in r)n[c]=r[c](i);return n}}function C0(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const c=t.types[i],l=e.indexes[c][r[c]],u=e.values[l]??0;n[i]=u,r[c]++}return n}const E0=(e,t)=>{const n=Tn.createTransformer(t),r=Jr(e),i=Jr(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Ua.has(e)&&!i.values.length||Ua.has(t)&&!r.values.length?j0(e,t):oi(vp(C0(r,i),i.values),n):uo(e,t)};function gp(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?tt(e,t,n):Fs(e)(e,t)}const N0=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Xe.update(t,n),stop:()=>kn(t),now:()=>_t.isProcessing?_t.timestamp:Mt.now()}},yp=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let c=0;c<i;c++)r+=Math.round(e(c/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},po=2e4;function $s(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<po;)t+=n,r=e.next(t);return t>=po?1/0:t}function O0(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min($s(r),po);return{type:"keyframes",ease:c=>r.next(i*c).value/t,duration:Wt(i)}}const M0=5;function xp(e,t,n){const r=Math.max(t-M0,0);return Qd(n-e(r),t-r)}const it={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ha=.001;function I0({duration:e=it.duration,bounce:t=it.bounce,velocity:n=it.velocity,mass:r=it.mass}){let i,c,l=1-t;l=ln(it.minDamping,it.maxDamping,l),e=ln(it.minDuration,it.maxDuration,Wt(e)),l<1?(i=m=>{const x=m*l,a=x*e,p=x-n,g=Ka(m,l),_=Math.exp(-a);return ha-p/g*_},c=m=>{const a=m*l*e,p=a*n+n,g=Math.pow(l,2)*Math.pow(m,2)*e,_=Math.exp(-a),T=Ka(Math.pow(m,2),l);return(-i(m)+ha>0?-1:1)*((p-g)*_)/T}):(i=m=>{const x=Math.exp(-m*e),a=(m-n)*e+1;return-ha+x*a},c=m=>{const x=Math.exp(-m*e),a=(n-m)*(e*e);return x*a});const u=5/e,f=z0(i,c,u);if(e=nn(e),isNaN(f))return{stiffness:it.stiffness,damping:it.damping,duration:e};{const m=Math.pow(f,2)*r;return{stiffness:m,damping:l*2*Math.sqrt(r*m),duration:e}}}const R0=12;function z0(e,t,n){let r=n;for(let i=1;i<R0;i++)r=r-e(r)/t(r);return r}function Ka(e,t){return e*Math.sqrt(1-t*t)}const F0=["duration","bounce"],$0=["stiffness","damping","mass"];function Il(e,t){return t.some(n=>e[n]!==void 0)}function L0(e){let t={velocity:it.velocity,stiffness:it.stiffness,damping:it.damping,mass:it.mass,isResolvedFromDuration:!1,...e};if(!Il(e,$0)&&Il(e,F0))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,c=2*ln(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:it.mass,stiffness:i,damping:c}}else{const n=I0(e);t={...t,...n,mass:it.mass},t.isResolvedFromDuration=!0}return t}function fo(e=it.visualDuration,t=it.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const c=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:c},{stiffness:f,damping:m,mass:x,duration:a,velocity:p,isResolvedFromDuration:g}=L0({...n,velocity:-Wt(n.velocity||0)}),_=p||0,T=m/(2*Math.sqrt(f*x)),j=l-c,k=Wt(Math.sqrt(f/x)),F=Math.abs(j)<5;r||(r=F?it.restSpeed.granular:it.restSpeed.default),i||(i=F?it.restDelta.granular:it.restDelta.default);let $;if(T<1){const X=Ka(k,T);$=Q=>{const q=Math.exp(-T*k*Q);return l-q*((_+T*k*j)/X*Math.sin(X*Q)+j*Math.cos(X*Q))}}else if(T===1)$=X=>l-Math.exp(-k*X)*(j+(_+k*j)*X);else{const X=k*Math.sqrt(T*T-1);$=Q=>{const q=Math.exp(-T*k*Q),V=Math.min(X*Q,300);return l-q*((_+T*k*j)*Math.sinh(V)+X*j*Math.cosh(V))/X}}const Y={calculatedDuration:g&&a||null,next:X=>{const Q=$(X);if(g)u.done=X>=a;else{let q=X===0?_:0;T<1&&(q=X===0?nn(_):xp($,X,Q));const V=Math.abs(q)<=r,ne=Math.abs(l-Q)<=i;u.done=V&&ne}return u.value=u.done?l:Q,u},toString:()=>{const X=Math.min($s(Y),po),Q=yp(q=>Y.next(X*q).value,X,30);return X+"ms "+Q},toTransition:()=>{}};return Y}fo.applyToOptions=e=>{const t=O0(e,100,fo);return e.ease=t.ease,e.duration=nn(t.duration),e.type="keyframes",e};function Za({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:c=500,modifyTarget:l,min:u,max:f,restDelta:m=.5,restSpeed:x}){const a=e[0],p={done:!1,value:a},g=V=>u!==void 0&&V<u||f!==void 0&&V>f,_=V=>u===void 0?f:f===void 0||Math.abs(u-V)<Math.abs(f-V)?u:f;let T=n*t;const j=a+T,k=l===void 0?j:l(j);k!==j&&(T=k-a);const F=V=>-T*Math.exp(-V/r),$=V=>k+F(V),Y=V=>{const ne=F(V),ce=$(V);p.done=Math.abs(ne)<=m,p.value=p.done?k:ce};let X,Q;const q=V=>{g(p.value)&&(X=V,Q=fo({keyframes:[p.value,_(p.value)],velocity:xp($,V,p.value),damping:i,stiffness:c,restDelta:m,restSpeed:x}))};return q(0),{calculatedDuration:null,next:V=>{let ne=!1;return!Q&&X===void 0&&(ne=!0,Y(V),q(V)),X!==void 0&&V>=X?Q.next(V-X):(!ne&&Y(V),p)}}}function B0(e,t,n){const r=[],i=n||un.mix||gp,c=e.length-1;for(let l=0;l<c;l++){let u=i(e[l],e[l+1]);if(t){const f=Array.isArray(t)?t[l]||Ht:t;u=oi(f,u)}r.push(u)}return r}function V0(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const c=e.length;if(Ds(c===t.length),c===1)return()=>t[0];if(c===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[c-1]&&(e=[...e].reverse(),t=[...t].reverse());const u=B0(t,r,i),f=u.length,m=x=>{if(l&&x<e[0])return t[0];let a=0;if(f>1)for(;a<e.length-2&&!(x<e[a+1]);a++);const p=Xr(e[a],e[a+1],x);return u[a](p)};return n?x=>m(ln(e[0],e[c-1],x)):m}function U0(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Xr(0,t,r);e.push(tt(n,1,i))}}function K0(e){const t=[0];return U0(t,e.length-1),t}function Z0(e,t){return e.map(n=>n*t)}function q0(e,t){return e.map(()=>t||sp).splice(0,e.length-1)}function Fr({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=r0(r)?r.map(Cl):Cl(r),c={done:!1,value:t[0]},l=Z0(n&&n.length===t.length?n:K0(t),e),u=V0(l,t,{ease:Array.isArray(i)?i:q0(t,i)});return{calculatedDuration:e,next:f=>(c.value=u(f),c.done=f>=e,c)}}const W0=e=>e!==null;function Ls(e,{repeat:t,repeatType:n="loop"},r,i=1){const c=e.filter(W0),u=i<0||t&&n!=="loop"&&t%2===1?0:c.length-1;return!u||r===void 0?c[u]:r}const H0={decay:Za,inertia:Za,tween:Fr,keyframes:Fr,spring:fo};function bp(e){typeof e.type=="string"&&(e.type=H0[e.type])}class Bs{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const G0=e=>e/100;class Vs extends Bs{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Mt.now()&&this.tick(Mt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;bp(t);const{type:n=Fr,repeat:r=0,repeatDelay:i=0,repeatType:c,velocity:l=0}=t;let{keyframes:u}=t;const f=n||Fr;f!==Fr&&typeof u[0]!="number"&&(this.mixKeyframes=oi(G0,gp(u[0],u[1])),u=[0,100]);const m=f({...t,keyframes:u});c==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...u].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=$s(m));const{calculatedDuration:x}=m;this.calculatedDuration=x,this.resolvedDuration=x+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=m}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:c,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:x,repeat:a,repeatType:p,repeatDelay:g,type:_,onUpdate:T,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const k=this.currentTime-m*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?k<0:k>i;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let $=this.currentTime,Y=r;if(a){const V=Math.min(this.currentTime,i)/u;let ne=Math.floor(V),ce=V%1;!ce&&V>=1&&(ce=1),ce===1&&ne--,ne=Math.min(ne,a+1),!!(ne%2)&&(p==="reverse"?(ce=1-ce,g&&(ce-=g/u)):p==="mirror"&&(Y=l)),$=ln(0,1,ce)*u}const X=F?{done:!1,value:x[0]}:Y.next($);c&&(X.value=c(X.value));let{done:Q}=X;!F&&f!==null&&(Q=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Q);return q&&_!==Za&&(X.value=Ls(x,this.options,j,this.speed)),T&&T(X.value),q&&this.finish(),X}then(t,n){return this.finished.then(t,n)}get duration(){return Wt(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Wt(t)}get time(){return Wt(this.currentTime)}set time(t){var n;t=nn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Mt.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Wt(this.currentTime))}play(){var i,c;if(this.isStopped)return;const{driver:t=N0,startTime:n}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),(c=(i=this.options).onPlay)==null||c.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Mt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function Y0(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Fn=e=>e*180/Math.PI,qa=e=>{const t=Fn(Math.atan2(e[1],e[0]));return Wa(t)},X0={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:qa,rotateZ:qa,skewX:e=>Fn(Math.atan(e[1])),skewY:e=>Fn(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Wa=e=>(e=e%360,e<0&&(e+=360),e),Rl=qa,zl=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Fl=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Q0={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:zl,scaleY:Fl,scale:e=>(zl(e)+Fl(e))/2,rotateX:e=>Wa(Fn(Math.atan2(e[6],e[5]))),rotateY:e=>Wa(Fn(Math.atan2(-e[2],e[0]))),rotateZ:Rl,rotate:Rl,skewX:e=>Fn(Math.atan(e[4])),skewY:e=>Fn(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Ha(e){return e.includes("scale")?1:0}function Ga(e,t){if(!e||e==="none")return Ha(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=Q0,i=n;else{const u=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=X0,i=u}if(!i)return Ha(t);const c=r[t],l=i[1].split(",").map(e_);return typeof c=="function"?c(l):l[c]}const J0=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Ga(n,t)};function e_(e){return parseFloat(e.trim())}const _r=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wr=new Set(_r),$l=e=>e===br||e===_e,t_=new Set(["x","y","z"]),n_=_r.filter(e=>!t_.has(e));function r_(e){const t=[];return n_.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const $n={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Ga(t,"x"),y:(e,{transform:t})=>Ga(t,"y")};$n.translateX=$n.x;$n.translateY=$n.y;const Ln=new Set;let Ya=!1,Xa=!1,Qa=!1;function _p(){if(Xa){const e=Array.from(Ln).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=r_(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([c,l])=>{var u;(u=r.getValue(c))==null||u.set(l)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Xa=!1,Ya=!1,Ln.forEach(e=>e.complete(Qa)),Ln.clear()}function wp(){Ln.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Xa=!0)})}function i_(){Qa=!0,wp(),_p(),Qa=!1}class Us{constructor(t,n,r,i,c,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=c,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Ln.add(this),Ya||(Ya=!0,Xe.read(wp),Xe.resolveKeyframes(_p))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const c=i==null?void 0:i.get(),l=t[t.length-1];if(c!==void 0)t[0]=c;else if(r&&n){const u=r.readValue(n,l);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=l),i&&c===void 0&&i.set(t[0])}Y0(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ln.delete(this)}cancel(){this.state==="scheduled"&&(Ln.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const o_=e=>e.startsWith("--");function a_(e,t,n){o_(t)?e.style.setProperty(t,n):e.style[t]=n}const s_=Cs(()=>window.ScrollTimeline!==void 0),c_={};function l_(e,t){const n=Cs(e);return()=>c_[t]??n()}const kp=l_(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Rr=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Ll={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Rr([0,.65,.55,1]),circOut:Rr([.55,0,1,.45]),backIn:Rr([.31,.01,.66,-.59]),backOut:Rr([.33,1.53,.69,.99])};function Tp(e,t){if(e)return typeof e=="function"?kp()?yp(e,t):"ease-out":cp(e)?Rr(e):Array.isArray(e)?e.map(n=>Tp(n,t)||Ll.easeOut):Ll[e]}function u_(e,t,n,{delay:r=0,duration:i=300,repeat:c=0,repeatType:l="loop",ease:u="easeOut",times:f}={},m=void 0){const x={[t]:n};f&&(x.offset=f);const a=Tp(u,i);Array.isArray(a)&&(x.easing=a);const p={delay:r,duration:i,easing:Array.isArray(a)?"linear":a,fill:"both",iterations:c+1,direction:l==="reverse"?"alternate":"normal"};return m&&(p.pseudoElement=m),e.animate(x,p)}function Sp(e){return typeof e=="function"&&"applyToOptions"in e}function d_({type:e,...t}){return Sp(e)&&kp()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class p_ extends Bs{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:c,allowFlatten:l=!1,finalKeyframe:u,onComplete:f}=t;this.isPseudoElement=!!c,this.allowFlatten=l,this.options=t,Ds(typeof t.type!="string");const m=d_(t);this.animation=u_(n,r,i,m,c),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const x=Ls(i,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(x):a_(n,r,x),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Wt(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Wt(t)}get time(){return Wt(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=nn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&s_()?(this.animation.timeline=t,Ht):n(this)}}const Ap={anticipate:ip,backInOut:rp,circInOut:ap};function f_(e){return e in Ap}function h_(e){typeof e.ease=="string"&&f_(e.ease)&&(e.ease=Ap[e.ease])}const Bl=10;class m_ extends p_{constructor(t){h_(t),bp(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:c,...l}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const u=new Vs({...l,autoplay:!1}),f=nn(this.finishedTime??this.time);n.setWithVelocity(u.sample(f-Bl).value,u.sample(f).value,Bl),u.stop()}}const Vl=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Tn.test(e)||e==="0")&&!e.startsWith("url("));function v_(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function g_(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const c=e[e.length-1],l=Vl(i,t),u=Vl(c,t);return!l||!u?!1:v_(e)||(n==="spring"||Sp(n))&&r}function Ja(e){e.duration=0,e.type="keyframes"}const y_=new Set(["opacity","clipPath","filter","transform"]),x_=Cs(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function b_(e){var x;const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:c,type:l}=e;if(!(((x=t==null?void 0:t.owner)==null?void 0:x.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=t.owner.getProps();return x_()&&n&&y_.has(n)&&(n!=="transform"||!m)&&!f&&!r&&i!=="mirror"&&c!==0&&l!=="inertia"}const __=40;class w_ extends Bs{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:c=0,repeatType:l="loop",keyframes:u,name:f,motionValue:m,element:x,...a}){var _;super(),this.stop=()=>{var T,j;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),(j=this.keyframeResolver)==null||j.cancel()},this.createdAt=Mt.now();const p={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:c,repeatType:l,name:f,motionValue:m,element:x,...a},g=(x==null?void 0:x.KeyframeResolver)||Us;this.keyframeResolver=new g(u,(T,j,k)=>this.onKeyframesResolved(T,j,p,!k),f,m,x),(_=this.keyframeResolver)==null||_.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:c,type:l,velocity:u,delay:f,isHandoff:m,onUpdate:x}=r;this.resolvedAt=Mt.now(),g_(t,c,l,u)||((un.instantAnimations||!f)&&(x==null||x(Ls(t,r,n))),t[0]=t[t.length-1],Ja(r),r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>__?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},g=!m&&b_(p)?new m_({...p,element:p.motionValue.owner.current}):new Vs(p);g.finished.then(()=>this.notifyFinished()).catch(Ht),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),i_()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const k_=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function T_(e){const t=k_.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function jp(e,t,n=1){const[r,i]=T_(e);if(!r)return;const c=window.getComputedStyle(t).getPropertyValue(r);if(c){const l=c.trim();return Gd(l)?parseFloat(l):l}return Is(i)?jp(i,t,n+1):i}function Ks(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Pp=new Set(["width","height","top","left","right","bottom",..._r]),S_={test:e=>e==="auto",parse:e=>e},Dp=e=>t=>t.test(e),Cp=[br,_e,rn,_n,v0,m0,S_],Ul=e=>Cp.find(Dp(e));function A_(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Xd(e):!0}const j_=new Set(["brightness","contrast","saturate","opacity"]);function P_(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Rs)||[];if(!r)return e;const i=n.replace(r,"");let c=j_.has(t)?1:0;return r!==n&&(c*=100),t+"("+c+i+")"}const D_=/\b([a-z-]*)\(.*?\)/gu,es={...Tn,getAnimatableNone:e=>{const t=e.match(D_);return t?t.map(P_).join(" "):e}},Kl={...br,transform:Math.round},C_={rotate:_n,rotateX:_n,rotateY:_n,rotateZ:_n,scale:Bi,scaleX:Bi,scaleY:Bi,scaleZ:Bi,skew:_n,skewX:_n,skewY:_n,distance:_e,translateX:_e,translateY:_e,translateZ:_e,x:_e,y:_e,z:_e,perspective:_e,transformPerspective:_e,opacity:Qr,originX:El,originY:El,originZ:_e},Zs={borderWidth:_e,borderTopWidth:_e,borderRightWidth:_e,borderBottomWidth:_e,borderLeftWidth:_e,borderRadius:_e,radius:_e,borderTopLeftRadius:_e,borderTopRightRadius:_e,borderBottomRightRadius:_e,borderBottomLeftRadius:_e,width:_e,maxWidth:_e,height:_e,maxHeight:_e,top:_e,right:_e,bottom:_e,left:_e,padding:_e,paddingTop:_e,paddingRight:_e,paddingBottom:_e,paddingLeft:_e,margin:_e,marginTop:_e,marginRight:_e,marginBottom:_e,marginLeft:_e,backgroundPositionX:_e,backgroundPositionY:_e,...C_,zIndex:Kl,fillOpacity:Qr,strokeOpacity:Qr,numOctaves:Kl},E_={...Zs,color:dt,backgroundColor:dt,outlineColor:dt,fill:dt,stroke:dt,borderColor:dt,borderTopColor:dt,borderRightColor:dt,borderBottomColor:dt,borderLeftColor:dt,filter:es,WebkitFilter:es},Ep=e=>E_[e];function Np(e,t){let n=Ep(e);return n!==es&&(n=Tn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const N_=new Set(["auto","none","0"]);function O_(e,t,n){let r=0,i;for(;r<e.length&&!i;){const c=e[r];typeof c=="string"&&!N_.has(c)&&Jr(c).values.length&&(i=e[r]),r++}if(i&&n)for(const c of t)e[c]=Np(n,i)}class M_ extends Us{constructor(t,n,r,i,c){super(t,n,r,i,c,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let m=t[f];if(typeof m=="string"&&(m=m.trim(),Is(m))){const x=jp(m,n.current);x!==void 0&&(t[f]=x),f===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!Pp.has(r)||t.length!==2)return;const[i,c]=t,l=Ul(i),u=Ul(c);if(l!==u)if($l(l)&&$l(u))for(let f=0;f<t.length;f++){const m=t[f];typeof m=="string"&&(t[f]=parseFloat(m))}else $n[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||A_(t[i]))&&r.push(i);r.length&&O_(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$n[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var u;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const c=r.length-1,l=r[c];r[c]=$n[n](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([f,m])=>{t.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function I_(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=(n==null?void 0:n[e])??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const Op=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function R_(e){return Yd(e)&&"offsetHeight"in e}const Zl=30,z_=e=>!isNaN(parseFloat(e));class F_{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var c;const i=Mt.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Mt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=z_(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Es);const r=this.events[t].add(n);return t==="change"?()=>{r(),Xe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Mt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Zl)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Zl);return Qd(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gr(e,t){return new F_(e,t)}const{schedule:qs}=lp(queueMicrotask,!1),Xt={x:!1,y:!1};function Mp(){return Xt.x||Xt.y}function $_(e){return e==="x"||e==="y"?Xt[e]?null:(Xt[e]=!0,()=>{Xt[e]=!1}):Xt.x||Xt.y?null:(Xt.x=Xt.y=!0,()=>{Xt.x=Xt.y=!1})}function Ip(e,t){const n=I_(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function ql(e){return!(e.pointerType==="touch"||Mp())}function L_(e,t,n={}){const[r,i,c]=Ip(e,n),l=u=>{if(!ql(u))return;const{target:f}=u,m=t(f,u);if(typeof m!="function"||!f)return;const x=a=>{ql(a)&&(m(a),f.removeEventListener("pointerleave",x))};f.addEventListener("pointerleave",x,i)};return r.forEach(u=>{u.addEventListener("pointerenter",l,i)}),c}const Rp=(e,t)=>t?e===t?!0:Rp(e,t.parentElement):!1,Ws=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,B_=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function V_(e){return B_.has(e.tagName)||e.tabIndex!==-1}const qi=new WeakSet;function Wl(e){return t=>{t.key==="Enter"&&e(t)}}function ma(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const U_=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Wl(()=>{if(qi.has(n))return;ma(n,"down");const i=Wl(()=>{ma(n,"up")}),c=()=>ma(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",c,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Hl(e){return Ws(e)&&!Mp()}function K_(e,t,n={}){const[r,i,c]=Ip(e,n),l=u=>{const f=u.currentTarget;if(!Hl(u))return;qi.add(f);const m=t(f,u),x=(g,_)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",p),qi.has(f)&&qi.delete(f),Hl(g)&&typeof m=="function"&&m(g,{success:_})},a=g=>{x(g,f===window||f===document||n.useGlobalTarget||Rp(f,g.target))},p=g=>{x(g,!1)};window.addEventListener("pointerup",a,i),window.addEventListener("pointercancel",p,i)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,i),R_(u)&&(u.addEventListener("focus",m=>U_(m,i)),!V_(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),c}function zp(e){return Yd(e)&&"ownerSVGElement"in e}function Z_(e){return zp(e)&&e.tagName==="svg"}const jt=e=>!!(e&&e.getVelocity),q_=[...Cp,dt,Tn],W_=e=>q_.find(Dp(e)),Fp=z.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function H_(e=!0){const t=z.useContext(As);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,c=z.useId();z.useEffect(()=>{if(e)return i(c)},[e]);const l=z.useCallback(()=>e&&r&&r(c),[c,r,e]);return!n&&r?[!1,l]:[!0]}const $p=z.createContext({strict:!1}),Gl={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},yr={};for(const e in Gl)yr[e]={isEnabled:t=>Gl[e].some(n=>!!t[n])};function G_(e){for(const t in e)yr[t]={...yr[t],...e[t]}}const Y_=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ho(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Y_.has(e)}let Lp=e=>!ho(e);function X_(e){typeof e=="function"&&(Lp=t=>t.startsWith("on")?!ho(t):e(t))}try{X_(require("@emotion/is-prop-valid").default)}catch{}function Q_(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(Lp(i)||n===!0&&ho(i)||!t&&!ho(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const So=z.createContext({});function Ao(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ei(e){return typeof e=="string"||Array.isArray(e)}const Hs=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gs=["initial",...Hs];function jo(e){return Ao(e.animate)||Gs.some(t=>ei(e[t]))}function Bp(e){return!!(jo(e)||e.variants)}function J_(e,t){if(jo(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ei(n)?n:void 0,animate:ei(r)?r:void 0}}return e.inherit!==!1?t:{}}function ew(e){const{initial:t,animate:n}=J_(e,z.useContext(So));return z.useMemo(()=>({initial:t,animate:n}),[Yl(t),Yl(n)])}function Yl(e){return Array.isArray(e)?e.join(" "):e}const ti={};function tw(e){for(const t in e)ti[t]=e[t],Ms(t)&&(ti[t].isCSSVariable=!0)}function Vp(e,{layout:t,layoutId:n}){return wr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ti[e]||e==="opacity")}const nw={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rw=_r.length;function iw(e,t,n){let r="",i=!0;for(let c=0;c<rw;c++){const l=_r[c],u=e[l];if(u===void 0)continue;let f=!0;if(typeof u=="number"?f=u===(l.startsWith("scale")?1:0):f=parseFloat(u)===0,!f||n){const m=Op(u,Zs[l]);if(!f){i=!1;const x=nw[l]||l;r+=`${x}(${m}) `}n&&(t[l]=m)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function Ys(e,t,n){const{style:r,vars:i,transformOrigin:c}=e;let l=!1,u=!1;for(const f in t){const m=t[f];if(wr.has(f)){l=!0;continue}else if(Ms(f)){i[f]=m;continue}else{const x=Op(m,Zs[f]);f.startsWith("origin")?(u=!0,c[f]=x):r[f]=x}}if(t.transform||(l||n?r.transform=iw(t,e.transform,n):r.transform&&(r.transform="none")),u){const{originX:f="50%",originY:m="50%",originZ:x=0}=c;r.transformOrigin=`${f} ${m} ${x}`}}const Xs=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Up(e,t,n){for(const r in t)!jt(t[r])&&!Vp(r,n)&&(e[r]=t[r])}function ow({transformTemplate:e},t){return z.useMemo(()=>{const n=Xs();return Ys(n,t,e),Object.assign({},n.vars,n.style)},[t])}function aw(e,t){const n=e.style||{},r={};return Up(r,n,e),Object.assign(r,ow(e,t)),r}function sw(e,t){const n={},r=aw(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const cw={offset:"stroke-dashoffset",array:"stroke-dasharray"},lw={offset:"strokeDashoffset",array:"strokeDasharray"};function uw(e,t,n=1,r=0,i=!0){e.pathLength=1;const c=i?cw:lw;e[c.offset]=_e.transform(-r);const l=_e.transform(t),u=_e.transform(n);e[c.array]=`${l} ${u}`}function Kp(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:c=1,pathOffset:l=0,...u},f,m,x){if(Ys(e,u,m),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:a,style:p}=e;a.transform&&(p.transform=a.transform,delete a.transform),(p.transform||a.transformOrigin)&&(p.transformOrigin=a.transformOrigin??"50% 50%",delete a.transformOrigin),p.transform&&(p.transformBox=(x==null?void 0:x.transformBox)??"fill-box",delete a.transformBox),t!==void 0&&(a.x=t),n!==void 0&&(a.y=n),r!==void 0&&(a.scale=r),i!==void 0&&uw(a,i,c,l,!1)}const Zp=()=>({...Xs(),attrs:{}}),qp=e=>typeof e=="string"&&e.toLowerCase()==="svg";function dw(e,t,n,r){const i=z.useMemo(()=>{const c=Zp();return Kp(c,t,qp(r),e.transformTemplate,e.style),{...c.attrs,style:{...c.style}}},[t]);if(e.style){const c={};Up(c,e.style,e),i.style={...c,...i.style}}return i}const pw=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Qs(e){return typeof e!="string"||e.includes("-")?!1:!!(pw.indexOf(e)>-1||/[A-Z]/u.test(e))}function fw(e,t,n,{latestValues:r},i,c=!1){const u=(Qs(e)?dw:sw)(t,r,i,e),f=Q_(t,typeof e=="string",c),m=e!==z.Fragment?{...f,...u,ref:n}:{},{children:x}=t,a=z.useMemo(()=>jt(x)?x.get():x,[x]);return z.createElement(e,{...m,children:a})}function Xl(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Js(e,t,n,r){if(typeof t=="function"){const[i,c]=Xl(r);t=t(n!==void 0?n:e.custom,i,c)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,c]=Xl(r);t=t(n!==void 0?n:e.custom,i,c)}return t}function Wi(e){return jt(e)?e.get():e}function hw({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:mw(n,r,i,e),renderState:t()}}function mw(e,t,n,r){const i={},c=r(e,{});for(const p in c)i[p]=Wi(c[p]);let{initial:l,animate:u}=e;const f=jo(e),m=Bp(e);t&&m&&!f&&e.inherit!==!1&&(l===void 0&&(l=t.initial),u===void 0&&(u=t.animate));let x=n?n.initial===!1:!1;x=x||l===!1;const a=x?u:l;if(a&&typeof a!="boolean"&&!Ao(a)){const p=Array.isArray(a)?a:[a];for(let g=0;g<p.length;g++){const _=Js(e,p[g]);if(_){const{transitionEnd:T,transition:j,...k}=_;for(const F in k){let $=k[F];if(Array.isArray($)){const Y=x?$.length-1:0;$=$[Y]}$!==null&&(i[F]=$)}for(const F in T)i[F]=T[F]}}}return i}const Wp=e=>(t,n)=>{const r=z.useContext(So),i=z.useContext(As),c=()=>hw(e,t,r,i);return n?c():Gb(c)};function ec(e,t,n){var c;const{style:r}=e,i={};for(const l in r)(jt(r[l])||t.style&&jt(t.style[l])||Vp(l,e)||((c=n==null?void 0:n.getValue(l))==null?void 0:c.liveStyle)!==void 0)&&(i[l]=r[l]);return i}const vw=Wp({scrapeMotionValuesFromProps:ec,createRenderState:Xs});function Hp(e,t,n){const r=ec(e,t,n);for(const i in e)if(jt(e[i])||jt(t[i])){const c=_r.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[c]=e[i]}return r}const gw=Wp({scrapeMotionValuesFromProps:Hp,createRenderState:Zp}),yw=Symbol.for("motionComponentSymbol");function sr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function xw(e,t,n){return z.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):sr(n)&&(n.current=r))},[t])}const tc=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),bw="framerAppearId",Gp="data-"+tc(bw),Yp=z.createContext({});function _w(e,t,n,r,i){var T,j;const{visualElement:c}=z.useContext(So),l=z.useContext($p),u=z.useContext(As),f=z.useContext(Fp).reducedMotion,m=z.useRef(null);r=r||l.renderer,!m.current&&r&&(m.current=r(e,{visualState:t,parent:c,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f}));const x=m.current,a=z.useContext(Yp);x&&!x.projection&&i&&(x.type==="html"||x.type==="svg")&&ww(m.current,n,i,a);const p=z.useRef(!1);z.useInsertionEffect(()=>{x&&p.current&&x.update(n,u)});const g=n[Gp],_=z.useRef(!!g&&!((T=window.MotionHandoffIsComplete)!=null&&T.call(window,g))&&((j=window.MotionHasOptimisedAnimation)==null?void 0:j.call(window,g)));return Yb(()=>{x&&(p.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),_.current&&x.animationState&&x.animationState.animateChanges())}),z.useEffect(()=>{x&&(!_.current&&x.animationState&&x.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,g)}),_.current=!1),x.enteringChildren=void 0)}),x}function ww(e,t,n,r){const{layoutId:i,layout:c,drag:l,dragConstraints:u,layoutScroll:f,layoutRoot:m,layoutCrossfade:x}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Xp(e.parent)),e.projection.setOptions({layoutId:i,layout:c,alwaysMeasureLayout:!!l||u&&sr(u),visualElement:e,animationType:typeof c=="string"?c:"both",initialPromotionConfig:r,crossfade:x,layoutScroll:f,layoutRoot:m})}function Xp(e){if(e)return e.options.allowProjection!==!1?e.projection:Xp(e.parent)}function va(e,{forwardMotionProps:t=!1}={},n,r){n&&G_(n);const i=Qs(e)?gw:vw;function c(u,f){let m;const x={...z.useContext(Fp),...u,layoutId:kw(u)},{isStatic:a}=x,p=ew(u),g=i(u,a);if(!a&&Ss){Tw();const _=Sw(x);m=_.MeasureLayout,p.visualElement=_w(e,g,x,r,_.ProjectionNode)}return y.jsxs(So.Provider,{value:p,children:[m&&p.visualElement?y.jsx(m,{visualElement:p.visualElement,...x}):null,fw(e,u,xw(g,p.visualElement,f),g,a,t)]})}c.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=z.forwardRef(c);return l[yw]=e,l}function kw({layoutId:e}){const t=z.useContext(Hd).id;return t&&e!==void 0?t+"-"+e:e}function Tw(e,t){z.useContext($p).strict}function Sw(e){const{drag:t,layout:n}=yr;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Aw(e,t){if(typeof Proxy>"u")return va;const n=new Map,r=(c,l)=>va(c,l,e,t),i=(c,l)=>r(c,l);return new Proxy(i,{get:(c,l)=>l==="create"?r:(n.has(l)||n.set(l,va(l,void 0,e,t)),n.get(l))})}function Qp({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function jw({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Pw(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ga(e){return e===void 0||e===1}function ts({scale:e,scaleX:t,scaleY:n}){return!ga(e)||!ga(t)||!ga(n)}function In(e){return ts(e)||Jp(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Jp(e){return Ql(e.x)||Ql(e.y)}function Ql(e){return e&&e!=="0%"}function mo(e,t,n){const r=e-n,i=t*r;return n+i}function Jl(e,t,n,r,i){return i!==void 0&&(e=mo(e,i,r)),mo(e,n,r)+t}function ns(e,t=0,n=1,r,i){e.min=Jl(e.min,t,n,r,i),e.max=Jl(e.max,t,n,r,i)}function ef(e,{x:t,y:n}){ns(e.x,t.translate,t.scale,t.originPoint),ns(e.y,n.translate,n.scale,n.originPoint)}const eu=.999999999999,tu=1.0000000000001;function Dw(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let c,l;for(let u=0;u<i;u++){c=n[u],l=c.projectionDelta;const{visualElement:f}=c.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&c.options.layoutScroll&&c.scroll&&c!==c.root&&lr(e,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,ef(e,l)),r&&In(c.latestValues)&&lr(e,c.latestValues))}t.x<tu&&t.x>eu&&(t.x=1),t.y<tu&&t.y>eu&&(t.y=1)}function cr(e,t){e.min=e.min+t,e.max=e.max+t}function nu(e,t,n,r,i=.5){const c=tt(e.min,e.max,i);ns(e,t,n,c,r)}function lr(e,t){nu(e.x,t.x,t.scaleX,t.scale,t.originX),nu(e.y,t.y,t.scaleY,t.scale,t.originY)}function tf(e,t){return Qp(Pw(e.getBoundingClientRect(),t))}function Cw(e,t,n){const r=tf(e,n),{scroll:i}=t;return i&&(cr(r.x,i.offset.x),cr(r.y,i.offset.y)),r}const ru=()=>({translate:0,scale:1,origin:0,originPoint:0}),ur=()=>({x:ru(),y:ru()}),iu=()=>({min:0,max:0}),lt=()=>({x:iu(),y:iu()}),rs={current:null},nf={current:!1};function Ew(){if(nf.current=!0,!!Ss)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>rs.current=e.matches;e.addEventListener("change",t),t()}else rs.current=!1}const Nw=new WeakMap;function Ow(e,t,n){for(const r in t){const i=t[r],c=n[r];if(jt(i))e.addValue(r,i);else if(jt(c))e.addValue(r,gr(i,{owner:e}));else if(c!==i)if(e.hasValue(r)){const l=e.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=e.getStaticValue(r);e.addValue(r,gr(l!==void 0?l:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const ou=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Mw{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:c,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Us,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Mt.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Xe.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=l;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!c,this.isControllingVariants=jo(n),this.isVariantNode=Bp(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:x,...a}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in a){const g=a[p];f[p]!==void 0&&jt(g)&&g.set(f[p])}}mount(t){var n;this.current=t,Nw.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),nf.current||Ew(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rs.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),kn(this.notifyUpdate),kn(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=wr.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Xe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),c&&c(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in yr){const n=yr[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const c=this.features[t];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):lt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ou.length;r++){const i=ou[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const c="on"+i,l=t[c];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=Ow(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=gr(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Gd(r)||Xd(r))?r=parseFloat(r):!W_(r)&&Tn.test(n)&&(r=Np(t,n)),this.setBaseTarget(t,jt(r)?r.get():r)),jt(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var c;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=Js(this.props,n,(c=this.presenceContext)==null?void 0:c.custom);l&&(r=l[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!jt(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Es),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){qs.render(this.render)}}class rf extends Mw{constructor(){super(...arguments),this.KeyframeResolver=M_}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;jt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function of(e,{style:t,vars:n},r,i){const c=e.style;let l;for(l in t)c[l]=t[l];i==null||i.applyProjectionStyles(c,r);for(l in n)c.setProperty(l,n[l])}function Iw(e){return window.getComputedStyle(e)}class Rw extends rf{constructor(){super(...arguments),this.type="html",this.renderInstance=of}readValueFromInstance(t,n){var r;if(wr.has(n))return(r=this.projection)!=null&&r.isProjecting?Ha(n):J0(t,n);{const i=Iw(t),c=(Ms(n)?i.getPropertyValue(n):i[n])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(t,{transformPagePoint:n}){return tf(t,n)}build(t,n,r){Ys(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return ec(t,n,r)}}const af=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function zw(e,t,n,r){of(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(af.has(i)?i:tc(i),t.attrs[i])}class Fw extends rf{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=lt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(wr.has(n)){const r=Ep(n);return r&&r.default||0}return n=af.has(n)?n:tc(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Hp(t,n,r)}build(t,n,r){Kp(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){zw(t,n,r,i)}mount(t){this.isSVGTag=qp(t.tagName),super.mount(t)}}const $w=(e,t)=>Qs(e)?new Fw(t):new Rw(t,{allowProjection:e!==z.Fragment});function pr(e,t,n){const r=e.getProps();return Js(r,t,n!==void 0?n:r.custom,e)}const is=e=>Array.isArray(e);function Lw(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,gr(n))}function Bw(e){return is(e)?e[e.length-1]||0:e}function Vw(e,t){const n=pr(e,t);let{transitionEnd:r={},transition:i={},...c}=n||{};c={...c,...r};for(const l in c){const u=Bw(c[l]);Lw(e,l,u)}}function Uw(e){return!!(jt(e)&&e.add)}function os(e,t){const n=e.getValue("willChange");if(Uw(n))return n.add(t);if(!n&&un.WillChange){const r=new un.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function sf(e){return e.props[Gp]}const Kw=e=>e!==null;function Zw(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(Kw),c=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[c]}const qw={type:"spring",stiffness:500,damping:25,restSpeed:10},Ww=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Hw={type:"keyframes",duration:.8},Gw={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Yw=(e,{keyframes:t})=>t.length>2?Hw:wr.has(e)?e.startsWith("scale")?Ww(t[1]):qw:Gw;function Xw({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:c,repeatType:l,repeatDelay:u,from:f,elapsed:m,...x}){return!!Object.keys(x).length}const nc=(e,t,n,r={},i,c)=>l=>{const u=Ks(r,e)||{},f=u.delay||r.delay||0;let{elapsed:m=0}=r;m=m-nn(f);const x={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-m,onUpdate:p=>{t.set(p),u.onUpdate&&u.onUpdate(p)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:e,motionValue:t,element:c?void 0:i};Xw(u)||Object.assign(x,Yw(e,x)),x.duration&&(x.duration=nn(x.duration)),x.repeatDelay&&(x.repeatDelay=nn(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let a=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(Ja(x),x.delay===0&&(a=!0)),(un.instantAnimations||un.skipAnimations)&&(a=!0,Ja(x),x.delay=0),x.allowFlatten=!u.type&&!u.ease,a&&!c&&t.get()!==void 0){const p=Zw(x.keyframes,u);if(p!==void 0){Xe.update(()=>{x.onUpdate(p),x.onComplete()});return}}return u.isSync?new Vs(x):new w_(x)};function Qw({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function cf(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:c=e.getDefaultTransition(),transitionEnd:l,...u}=t;r&&(c=r);const f=[],m=i&&e.animationState&&e.animationState.getState()[i];for(const x in u){const a=e.getValue(x,e.latestValues[x]??null),p=u[x];if(p===void 0||m&&Qw(m,x))continue;const g={delay:n,...Ks(c||{},x)},_=a.get();if(_!==void 0&&!a.isAnimating&&!Array.isArray(p)&&p===_&&!g.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const k=sf(e);if(k){const F=window.MotionHandoffAnimation(k,x,Xe);F!==null&&(g.startTime=F,T=!0)}}os(e,x),a.start(nc(x,a,p,e.shouldReduceMotion&&Pp.has(x)?{type:!1}:g,e,T));const j=a.animation;j&&f.push(j)}return l&&Promise.all(f).then(()=>{Xe.update(()=>{l&&Vw(e,l)})}),f}function lf(e,t,n,r=0,i=1){const c=Array.from(e).sort((m,x)=>m.sortNodePosition(x)).indexOf(t),l=e.size,u=(l-1)*r;return typeof n=="function"?n(c,l):i===1?c*r:u-c*r}function as(e,t,n={}){var f;const r=pr(e,t,n.type==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const c=r?()=>Promise.all(cf(e,r,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:x=0,staggerChildren:a,staggerDirection:p}=i;return Jw(e,t,m,x,a,p,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[m,x]=u==="beforeChildren"?[c,l]:[l,c];return m().then(()=>x())}else return Promise.all([c(),l(n.delay)])}function Jw(e,t,n=0,r=0,i=0,c=1,l){const u=[];for(const f of e.variantChildren)f.notify("AnimationStart",t),u.push(as(f,t,{...l,delay:n+(typeof r=="function"?0:r)+lf(e.variantChildren,f,r,i,c)}).then(()=>f.notify("AnimationComplete",t)));return Promise.all(u)}function ek(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(c=>as(e,c,n));r=Promise.all(i)}else if(typeof t=="string")r=as(e,t,n);else{const i=typeof t=="function"?pr(e,t,n.custom):t;r=Promise.all(cf(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function uf(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const tk=Gs.length;function df(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?df(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<tk;n++){const r=Gs[n],i=e.props[r];(ei(i)||i===!1)&&(t[r]=i)}return t}const nk=[...Hs].reverse(),rk=Hs.length;function ik(e){return t=>Promise.all(t.map(({animation:n,options:r})=>ek(e,n,r)))}function ok(e){let t=ik(e),n=au(),r=!0;const i=f=>(m,x)=>{var p;const a=pr(e,x,f==="exit"?(p=e.presenceContext)==null?void 0:p.custom:void 0);if(a){const{transition:g,transitionEnd:_,...T}=a;m={...m,...T,..._}}return m};function c(f){t=f(e)}function l(f){const{props:m}=e,x=df(e.parent)||{},a=[],p=new Set;let g={},_=1/0;for(let j=0;j<rk;j++){const k=nk[j],F=n[k],$=m[k]!==void 0?m[k]:x[k],Y=ei($),X=k===f?F.isActive:null;X===!1&&(_=j);let Q=$===x[k]&&$!==m[k]&&Y;if(Q&&r&&e.manuallyAnimateOnMount&&(Q=!1),F.protectedKeys={...g},!F.isActive&&X===null||!$&&!F.prevProp||Ao($)||typeof $=="boolean")continue;const q=ak(F.prevProp,$);let V=q||k===f&&F.isActive&&!Q&&Y||j>_&&Y,ne=!1;const ce=Array.isArray($)?$:[$];let xe=ce.reduce(i(k),{});X===!1&&(xe={});const{prevResolvedValues:Oe={}}=F,Pe={...Oe,...xe},we=Ee=>{V=!0,p.has(Ee)&&(ne=!0,p.delete(Ee)),F.needsAnimating[Ee]=!0;const me=e.getValue(Ee);me&&(me.liveStyle=!1)};for(const Ee in Pe){const me=xe[Ee],De=Oe[Ee];if(g.hasOwnProperty(Ee))continue;let U=!1;is(me)&&is(De)?U=!uf(me,De):U=me!==De,U?me!=null?we(Ee):p.add(Ee):me!==void 0&&p.has(Ee)?we(Ee):F.protectedKeys[Ee]=!0}F.prevProp=$,F.prevResolvedValues=xe,F.isActive&&(g={...g,...xe}),r&&e.blockInitialAnimation&&(V=!1);const $e=Q&&q;V&&(!$e||ne)&&a.push(...ce.map(Ee=>{const me={type:k};if(typeof Ee=="string"&&r&&!$e&&e.manuallyAnimateOnMount&&e.parent){const{parent:De}=e,U=pr(De,Ee);if(De.enteringChildren&&U){const{delayChildren:pe}=U.transition||{};me.delay=lf(De.enteringChildren,e,pe)}}return{animation:Ee,options:me}}))}if(p.size){const j={};if(typeof m.initial!="boolean"){const k=pr(e,Array.isArray(m.initial)?m.initial[0]:m.initial);k&&k.transition&&(j.transition=k.transition)}p.forEach(k=>{const F=e.getBaseTarget(k),$=e.getValue(k);$&&($.liveStyle=!0),j[k]=F??null}),a.push({animation:j})}let T=!!a.length;return r&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(T=!1),r=!1,T?t(a):Promise.resolve()}function u(f,m){var a;if(n[f].isActive===m)return Promise.resolve();(a=e.variantChildren)==null||a.forEach(p=>{var g;return(g=p.animationState)==null?void 0:g.setActive(f,m)}),n[f].isActive=m;const x=l(f);for(const p in n)n[p].protectedKeys={};return x}return{animateChanges:l,setActive:u,setAnimateFunction:c,getState:()=>n,reset:()=>{n=au()}}}function ak(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!uf(t,e):!1}function On(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function au(){return{animate:On(!0),whileInView:On(),whileHover:On(),whileTap:On(),whileDrag:On(),whileFocus:On(),exit:On()}}class An{constructor(t){this.isMounted=!1,this.node=t}update(){}}class sk extends An{constructor(t){super(t),t.animationState||(t.animationState=ok(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ao(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let ck=0;class lk extends An{constructor(){super(...arguments),this.id=ck++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const uk={animation:{Feature:sk},exit:{Feature:lk}};function ni(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function ci(e){return{point:{x:e.pageX,y:e.pageY}}}const dk=e=>t=>Ws(t)&&e(t,ci(t));function $r(e,t,n,r){return ni(e,t,dk(n),r)}const pf=1e-4,pk=1-pf,fk=1+pf,ff=.01,hk=0-ff,mk=0+ff;function Ct(e){return e.max-e.min}function vk(e,t,n){return Math.abs(e-t)<=n}function su(e,t,n,r=.5){e.origin=r,e.originPoint=tt(t.min,t.max,e.origin),e.scale=Ct(n)/Ct(t),e.translate=tt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=pk&&e.scale<=fk||isNaN(e.scale))&&(e.scale=1),(e.translate>=hk&&e.translate<=mk||isNaN(e.translate))&&(e.translate=0)}function Lr(e,t,n,r){su(e.x,t.x,n.x,r?r.originX:void 0),su(e.y,t.y,n.y,r?r.originY:void 0)}function cu(e,t,n){e.min=n.min+t.min,e.max=e.min+Ct(t)}function gk(e,t,n){cu(e.x,t.x,n.x),cu(e.y,t.y,n.y)}function lu(e,t,n){e.min=t.min-n.min,e.max=e.min+Ct(t)}function Br(e,t,n){lu(e.x,t.x,n.x),lu(e.y,t.y,n.y)}function qt(e){return[e("x"),e("y")]}const hf=({current:e})=>e?e.ownerDocument.defaultView:null,uu=(e,t)=>Math.abs(e-t);function yk(e,t){const n=uu(e.x,t.x),r=uu(e.y,t.y);return Math.sqrt(n**2+r**2)}class mf{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:c=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=xa(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,_=yk(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!_)return;const{point:T}=p,{timestamp:j}=_t;this.history.push({...T,timestamp:j});const{onStart:k,onMove:F}=this.handlers;g||(k&&k(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=ya(g,this.transformPagePoint),Xe.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:_,onSessionEnd:T,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=xa(p.type==="pointercancel"?this.lastMoveEventInfo:ya(g,this.transformPagePoint),this.history);this.startEvent&&_&&_(p,k),T&&T(p,k)},!Ws(t))return;this.dragSnapToOrigin=c,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=i||window;const u=ci(t),f=ya(u,this.transformPagePoint),{point:m}=f,{timestamp:x}=_t;this.history=[{...m,timestamp:x}];const{onSessionStart:a}=n;a&&a(t,xa(f,this.history)),this.removeListeners=oi($r(this.contextWindow,"pointermove",this.handlePointerMove),$r(this.contextWindow,"pointerup",this.handlePointerUp),$r(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),kn(this.updatePoint)}}function ya(e,t){return t?{point:t(e.point)}:e}function du(e,t){return{x:e.x-t.x,y:e.y-t.y}}function xa({point:e},t){return{point:e,delta:du(e,vf(t)),offset:du(e,xk(t)),velocity:bk(t,.1)}}function xk(e){return e[0]}function vf(e){return e[e.length-1]}function bk(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=vf(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>nn(t)));)n--;if(!r)return{x:0,y:0};const c=Wt(i.timestamp-r.timestamp);if(c===0)return{x:0,y:0};const l={x:(i.x-r.x)/c,y:(i.y-r.y)/c};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function _k(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?tt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?tt(n,e,r.max):Math.min(e,n)),e}function pu(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function wk(e,{top:t,left:n,bottom:r,right:i}){return{x:pu(e.x,n,i),y:pu(e.y,t,r)}}function fu(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function kk(e,t){return{x:fu(e.x,t.x),y:fu(e.y,t.y)}}function Tk(e,t){let n=.5;const r=Ct(e),i=Ct(t);return i>r?n=Xr(t.min,t.max-r,e.min):r>i&&(n=Xr(e.min,e.max-i,t.min)),ln(0,1,n)}function Sk(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const ss=.35;function Ak(e=ss){return e===!1?e=0:e===!0&&(e=ss),{x:hu(e,"left","right"),y:hu(e,"top","bottom")}}function hu(e,t,n){return{min:mu(e,t),max:mu(e,n)}}function mu(e,t){return typeof e=="number"?e:e[t]||0}const jk=new WeakMap;class Pk{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=lt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const c=a=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ci(a).point)},l=(a,p)=>{const{drag:g,dragPropagation:_,onDragStart:T}=this.getProps();if(g&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$_(g),!this.openDragLock))return;this.latestPointerEvent=a,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qt(k=>{let F=this.getAxisMotionValue(k).get()||0;if(rn.test(F)){const{projection:$}=this.visualElement;if($&&$.layout){const Y=$.layout.layoutBox[k];Y&&(F=Ct(Y)*(parseFloat(F)/100))}}this.originPoint[k]=F}),T&&Xe.postRender(()=>T(a,p)),os(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},u=(a,p)=>{this.latestPointerEvent=a,this.latestPanInfo=p;const{dragPropagation:g,dragDirectionLock:_,onDirectionLock:T,onDrag:j}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:k}=p;if(_&&this.currentDirection===null){this.currentDirection=Dk(k),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",p.point,k),this.updateAxis("y",p.point,k),this.visualElement.render(),j&&j(a,p)},f=(a,p)=>{this.latestPointerEvent=a,this.latestPanInfo=p,this.stop(a,p),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>qt(a=>{var p;return this.getAnimationState(a)==="paused"&&((p=this.getAxisMotionValue(a).animation)==null?void 0:p.play())}),{dragSnapToOrigin:x}=this.getProps();this.panSession=new mf(t,{onSessionStart:c,onStart:l,onMove:u,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,distanceThreshold:r,contextWindow:hf(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!i||!r)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&Xe.postRender(()=>u(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Vi(t,i,this.currentDirection))return;const c=this.getAxisMotionValue(t);let l=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(l=_k(l,this.constraints[t],this.elastic[t])),c.set(l)}resolveConstraints(){var c;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(c=this.visualElement.projection)==null?void 0:c.layout,i=this.constraints;t&&sr(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=wk(r.layoutBox,t):this.constraints=!1,this.elastic=Ak(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&qt(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Sk(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!sr(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const c=Cw(r,i.root,this.visualElement.getTransformPagePoint());let l=kk(i.layout.layoutBox,c);if(n){const u=n(jw(l));this.hasMutatedConstraints=!!u,u&&(l=Qp(u))}return l}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:c,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},m=qt(x=>{if(!Vi(x,n,this.currentDirection))return;let a=f&&f[x]||{};l&&(a={min:0,max:0});const p=i?200:1e6,g=i?40:1e7,_={type:"inertia",velocity:r?t[x]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...c,...a};return this.startAxisValueAnimation(x,_)});return Promise.all(m).then(u)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return os(this.visualElement,t),r.start(nc(t,r,0,n,this.visualElement,!1))}stopAnimation(){qt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){qt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){qt(n=>{const{drag:r}=this.getProps();if(!Vi(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,c=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:u}=i.layout.layoutBox[n];c.set(t[n]-tt(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!sr(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};qt(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const f=u.get();i[l]=Tk({min:f,max:f},this.constraints[l])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),qt(l=>{if(!Vi(l,t,null))return;const u=this.getAxisMotionValue(l),{min:f,max:m}=this.constraints[l];u.set(tt(f,m,i[l]))})}addListeners(){if(!this.visualElement.current)return;jk.set(this.visualElement,this);const t=this.visualElement.current,n=$r(t,"pointerdown",f=>{const{drag:m,dragListener:x=!0}=this.getProps();m&&x&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();sr(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,c=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Xe.read(r);const l=ni(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(qt(x=>{const a=this.getAxisMotionValue(x);a&&(this.originPoint[x]+=f[x].translate,a.set(a.get()+f[x].translate))}),this.visualElement.render())});return()=>{l(),n(),c(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:c=!1,dragElastic:l=ss,dragMomentum:u=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:c,dragElastic:l,dragMomentum:u}}}function Vi(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Dk(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Ck extends An{constructor(t){super(t),this.removeGroupControls=Ht,this.removeListeners=Ht,this.controls=new Pk(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ht}unmount(){this.removeGroupControls(),this.removeListeners()}}const vu=e=>(t,n)=>{e&&Xe.postRender(()=>e(t,n))};class Ek extends An{constructor(){super(...arguments),this.removePointerDownListener=Ht}onPointerDown(t){this.session=new mf(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hf(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:vu(t),onStart:vu(n),onMove:r,onEnd:(c,l)=>{delete this.session,i&&Xe.postRender(()=>i(c,l))}}}mount(){this.removePointerDownListener=$r(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Hi={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function gu(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Mr={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(_e.test(e))e=parseFloat(e);else return e;const n=gu(e,t.target.x),r=gu(e,t.target.y);return`${n}% ${r}%`}},Nk={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Tn.parse(e);if(i.length>5)return r;const c=Tn.createTransformer(e),l=typeof i[0]!="number"?1:0,u=n.x.scale*t.x,f=n.y.scale*t.y;i[0+l]/=u,i[1+l]/=f;const m=tt(u,f,.5);return typeof i[2+l]=="number"&&(i[2+l]/=m),typeof i[3+l]=="number"&&(i[3+l]/=m),c(i)}};let ba=!1;class Ok extends z.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:c}=t;tw(Mk),c&&(n.group&&n.group.add(c),r&&r.register&&i&&r.register(c),ba&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),Hi.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:c}=this.props,{projection:l}=r;return l&&(l.isPresent=c,ba=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==c?l.willUpdate():this.safeToRemove(),t.isPresent!==c&&(c?l.promote():l.relegate()||Xe.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),qs.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;ba=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function gf(e){const[t,n]=H_(),r=z.useContext(Hd);return y.jsx(Ok,{...e,layoutGroup:r,switchLayoutGroup:z.useContext(Yp),isPresent:t,safeToRemove:n})}const Mk={borderRadius:{...Mr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Mr,borderTopRightRadius:Mr,borderBottomLeftRadius:Mr,borderBottomRightRadius:Mr,boxShadow:Nk};function Ik(e,t,n){const r=jt(e)?e:gr(e);return r.start(nc("",r,t,n)),r.animation}const Rk=(e,t)=>e.depth-t.depth;class zk{constructor(){this.children=[],this.isDirty=!1}add(t){js(this.children,t),this.isDirty=!0}remove(t){Ps(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Rk),this.isDirty=!1,this.children.forEach(t)}}function Fk(e,t){const n=Mt.now(),r=({timestamp:i})=>{const c=i-n;c>=t&&(kn(r),e(c-t))};return Xe.setup(r,!0),()=>kn(r)}const yf=["TopLeft","TopRight","BottomLeft","BottomRight"],$k=yf.length,yu=e=>typeof e=="string"?parseFloat(e):e,xu=e=>typeof e=="number"||_e.test(e);function Lk(e,t,n,r,i,c){i?(e.opacity=tt(0,n.opacity??1,Bk(r)),e.opacityExit=tt(t.opacity??1,0,Vk(r))):c&&(e.opacity=tt(t.opacity??1,n.opacity??1,r));for(let l=0;l<$k;l++){const u=`border${yf[l]}Radius`;let f=bu(t,u),m=bu(n,u);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||xu(f)===xu(m)?(e[u]=Math.max(tt(yu(f),yu(m),r),0),(rn.test(m)||rn.test(f))&&(e[u]+="%")):e[u]=m}(t.rotate||n.rotate)&&(e.rotate=tt(t.rotate||0,n.rotate||0,r))}function bu(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Bk=xf(0,.5,op),Vk=xf(.5,.95,Ht);function xf(e,t,n){return r=>r<e?0:r>t?1:n(Xr(e,t,r))}function _u(e,t){e.min=t.min,e.max=t.max}function Zt(e,t){_u(e.x,t.x),_u(e.y,t.y)}function wu(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function ku(e,t,n,r,i){return e-=t,e=mo(e,1/n,r),i!==void 0&&(e=mo(e,1/i,r)),e}function Uk(e,t=0,n=1,r=.5,i,c=e,l=e){if(rn.test(t)&&(t=parseFloat(t),t=tt(l.min,l.max,t/100)-l.min),typeof t!="number")return;let u=tt(c.min,c.max,r);e===c&&(u-=t),e.min=ku(e.min,t,n,u,i),e.max=ku(e.max,t,n,u,i)}function Tu(e,t,[n,r,i],c,l){Uk(e,t[n],t[r],t[i],t.scale,c,l)}const Kk=["x","scaleX","originX"],Zk=["y","scaleY","originY"];function Su(e,t,n,r){Tu(e.x,t,Kk,n?n.x:void 0,r?r.x:void 0),Tu(e.y,t,Zk,n?n.y:void 0,r?r.y:void 0)}function Au(e){return e.translate===0&&e.scale===1}function bf(e){return Au(e.x)&&Au(e.y)}function ju(e,t){return e.min===t.min&&e.max===t.max}function qk(e,t){return ju(e.x,t.x)&&ju(e.y,t.y)}function Pu(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function _f(e,t){return Pu(e.x,t.x)&&Pu(e.y,t.y)}function Du(e){return Ct(e.x)/Ct(e.y)}function Cu(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Wk{constructor(){this.members=[]}add(t){js(this.members,t),t.scheduleRender()}remove(t){if(Ps(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const c=this.members[i];if(c.isPresent!==!1){r=c;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Hk(e,t,n){let r="";const i=e.x.translate/t.x,c=e.y.translate/t.y,l=(n==null?void 0:n.z)||0;if((i||c||l)&&(r=`translate3d(${i}px, ${c}px, ${l}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:m,rotate:x,rotateX:a,rotateY:p,skewX:g,skewY:_}=n;m&&(r=`perspective(${m}px) ${r}`),x&&(r+=`rotate(${x}deg) `),a&&(r+=`rotateX(${a}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),_&&(r+=`skewY(${_}deg) `)}const u=e.x.scale*t.x,f=e.y.scale*t.y;return(u!==1||f!==1)&&(r+=`scale(${u}, ${f})`),r||"none"}const _a=["","X","Y","Z"],Gk=1e3;let Yk=0;function wa(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function wf(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=sf(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:c}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Xe,!(i||c))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&wf(r)}function kf({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},u=t==null?void 0:t()){this.id=Yk++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Jk),this.nodes.forEach(rT),this.nodes.forEach(iT),this.nodes.forEach(eT)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new zk)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Es),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const f=this.eventHandlers.get(l);f&&f.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=zp(l)&&!Z_(l),this.instance=l;const{layoutId:u,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||u)&&(this.isLayoutDirty=!0),e){let x,a=0;const p=()=>this.root.updateBlockedByResize=!1;Xe.read(()=>{a=window.innerWidth}),e(l,()=>{const g=window.innerWidth;g!==a&&(a=g,this.root.updateBlockedByResize=!0,x&&x(),x=Fk(p,250),Hi.hasAnimatedSinceResize&&(Hi.hasAnimatedSinceResize=!1,this.nodes.forEach(Ou)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&m&&(u||f)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:a,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||m.getDefaultTransition()||lT,{onLayoutAnimationStart:T,onLayoutAnimationComplete:j}=m.getProps(),k=!this.targetLayout||!_f(this.targetLayout,g),F=!a&&p;if(this.options.layoutRoot||this.resumeFrom||F||a&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const $={...Ks(_,"layout"),onPlay:T,onComplete:j};(m.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($),this.setAnimationOrigin(x,F)}else a||Ou(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),kn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oT),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&wf(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const a=this.path[x];a.shouldResetTransform=!0,a.updateScroll("snapshot"),a.options.layoutRoot&&a.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Eu);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Nu);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(nT),this.nodes.forEach(Xk),this.nodes.forEach(Qk)):this.nodes.forEach(Nu),this.clearAllSnapshots();const u=Mt.now();_t.delta=ln(0,1e3/60,u-_t.timestamp),_t.timestamp=u,_t.isProcessing=!0,ua.update.process(_t),ua.preRender.process(_t),ua.render.process(_t),_t.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qs.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(tT),this.sharedNodes.forEach(aT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ct(this.snapshot.measuredBox.x)&&!Ct(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!bf(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,x=m!==this.prevTransformTemplateValue;l&&this.instance&&(u||In(this.latestValues)||x)&&(i(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return l&&(f=this.removeTransform(f)),uT(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:l}=this.options;if(!l)return lt();const u=l.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(dT))){const{scroll:x}=this.root;x&&(cr(u.x,x.offset.x),cr(u.y,x.offset.y))}return u}removeElementScroll(l){var f;const u=lt();if(Zt(u,l),(f=this.scroll)!=null&&f.wasRoot)return u;for(let m=0;m<this.path.length;m++){const x=this.path[m],{scroll:a,options:p}=x;x!==this.root&&a&&p.layoutScroll&&(a.wasRoot&&Zt(u,l),cr(u.x,a.offset.x),cr(u.y,a.offset.y))}return u}applyTransform(l,u=!1){const f=lt();Zt(f,l);for(let m=0;m<this.path.length;m++){const x=this.path[m];!u&&x.options.layoutScroll&&x.scroll&&x!==x.root&&lr(f,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),In(x.latestValues)&&lr(f,x.latestValues)}return In(this.latestValues)&&lr(f,this.latestValues),f}removeTransform(l){const u=lt();Zt(u,l);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!In(m.latestValues))continue;ts(m.latestValues)&&m.updateSnapshot();const x=lt(),a=m.measurePageBox();Zt(x,a),Su(u,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,x)}return In(this.latestValues)&&Su(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_t.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var p;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==u;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:a}=this.options;if(!(!this.layout||!(x||a))){if(this.resolvedRelativeTargetAt=_t.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=lt(),this.relativeTargetOrigin=lt(),Br(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Zt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=lt(),this.targetWithTransforms=lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),gk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zt(this.target,this.layout.layoutBox),ef(this.target,this.targetDelta)):Zt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=lt(),this.relativeTargetOrigin=lt(),Br(this.relativeTargetOrigin,this.target,g.target),Zt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ts(this.parent.latestValues)||Jp(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var _;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty)&&(f=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===_t.timestamp&&(f=!1),f)return;const{layout:m,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||x))return;Zt(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,p=this.treeScale.y;Dw(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=lt());const{target:g}=l;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(wu(this.prevProjectionDelta.x,this.projectionDelta.x),wu(this.prevProjectionDelta.y,this.projectionDelta.y)),Lr(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==a||this.treeScale.y!==p||!Cu(this.projectionDelta.x,this.prevProjectionDelta.x)||!Cu(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),l){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ur(),this.projectionDelta=ur(),this.projectionDeltaWithTransform=ur()}setAnimationOrigin(l,u=!1){const f=this.snapshot,m=f?f.latestValues:{},x={...this.latestValues},a=ur();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const p=lt(),g=f?f.source:void 0,_=this.layout?this.layout.source:void 0,T=g!==_,j=this.getStack(),k=!j||j.members.length<=1,F=!!(T&&!k&&this.options.crossfade===!0&&!this.path.some(cT));this.animationProgress=0;let $;this.mixTargetDelta=Y=>{const X=Y/1e3;Mu(a.x,l.x,X),Mu(a.y,l.y,X),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Br(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sT(this.relativeTarget,this.relativeTargetOrigin,p,X),$&&qk(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=lt()),Zt($,this.relativeTarget)),T&&(this.animationValues=x,Lk(x,m,this.latestValues,X,F,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var u,f,m;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(m=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||m.stop(),this.pendingAnimation&&(kn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xe.update(()=>{Hi.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=gr(0)),this.currentAnimation=Ik(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:x=>{this.mixTargetDelta(x),l.onUpdate&&l.onUpdate(x)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Gk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:f,layout:m,latestValues:x}=l;if(!(!u||!f||!m)){if(this!==l&&this.layout&&m&&Tf(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||lt();const a=Ct(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+a;const p=Ct(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+p}Zt(u,f),lr(u,x),Lr(this.projectionDeltaWithTransform,this.layoutCorrected,u,x)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new Wk),this.sharedNodes.get(l).add(u);const m=u.options.initialPromotionConfig;u.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const m={};f.z&&wa("z",l,m,this.animationValues);for(let x=0;x<_a.length;x++)wa(`rotate${_a[x]}`,l,m,this.animationValues),wa(`skew${_a[x]}`,l,m,this.animationValues);l.render();for(const x in m)l.setStaticValue(x,m[x]),this.animationValues&&(this.animationValues[x]=m[x]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Wi(u==null?void 0:u.pointerEvents)||"",l.transform=f?f(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Wi(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!In(this.latestValues)&&(l.transform=f?f({},""):"none",this.hasProjected=!1);return}l.visibility="";const x=m.animationValues||m.latestValues;this.applyTransformsToTarget();let a=Hk(this.projectionDeltaWithTransform,this.treeScale,x);f&&(a=f(x,a)),l.transform=a;const{x:p,y:g}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,m.animationValues?l.opacity=m===this?x.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:l.opacity=m===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const _ in ti){if(x[_]===void 0)continue;const{correct:T,applyTo:j,isCSSVariable:k}=ti[_],F=a==="none"?x[_]:T(x[_],m);if(j){const $=j.length;for(let Y=0;Y<$;Y++)l[j[Y]]=F}else k?this.options.visualElement.renderState.vars[_]=F:l[_]=F}this.options.layoutId&&(l.pointerEvents=m===this?Wi(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(Eu),this.root.sharedNodes.clear()}}}function Xk(e){e.updateLayout()}function Qk(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:c}=e.options,l=t.source!==e.layout.source;c==="size"?qt(a=>{const p=l?t.measuredBox[a]:t.layoutBox[a],g=Ct(p);p.min=r[a].min,p.max=p.min+g}):Tf(c,t.layoutBox,r)&&qt(a=>{const p=l?t.measuredBox[a]:t.layoutBox[a],g=Ct(r[a]);p.max=p.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[a].max=e.relativeTarget[a].min+g)});const u=ur();Lr(u,r,t.layoutBox);const f=ur();l?Lr(f,e.applyTransform(i,!0),t.measuredBox):Lr(f,r,t.layoutBox);const m=!bf(u);let x=!1;if(!e.resumeFrom){const a=e.getClosestProjectingParent();if(a&&!a.resumeFrom){const{snapshot:p,layout:g}=a;if(p&&g){const _=lt();Br(_,t.layoutBox,p.layoutBox);const T=lt();Br(T,r,g.layoutBox),_f(_,T)||(x=!0),a.options.layoutRoot&&(e.relativeTarget=T,e.relativeTargetOrigin=_,e.relativeParent=a)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:f,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:x})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Jk(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function eT(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function tT(e){e.clearSnapshot()}function Eu(e){e.clearMeasurements()}function Nu(e){e.isLayoutDirty=!1}function nT(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Ou(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function rT(e){e.resolveTargetDelta()}function iT(e){e.calcProjection()}function oT(e){e.resetSkewAndRotation()}function aT(e){e.removeLeadSnapshot()}function Mu(e,t,n){e.translate=tt(t.translate,0,n),e.scale=tt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Iu(e,t,n,r){e.min=tt(t.min,n.min,r),e.max=tt(t.max,n.max,r)}function sT(e,t,n,r){Iu(e.x,t.x,n.x,r),Iu(e.y,t.y,n.y,r)}function cT(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const lT={duration:.45,ease:[.4,0,.1,1]},Ru=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),zu=Ru("applewebkit/")&&!Ru("chrome/")?Math.round:Ht;function Fu(e){e.min=zu(e.min),e.max=zu(e.max)}function uT(e){Fu(e.x),Fu(e.y)}function Tf(e,t,n){return e==="position"||e==="preserve-aspect"&&!vk(Du(t),Du(n),.2)}function dT(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const pT=kf({attachResizeListener:(e,t)=>ni(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ka={current:void 0},Sf=kf({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ka.current){const e=new pT({});e.mount(window),e.setOptions({layoutScroll:!0}),ka.current=e}return ka.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),fT={pan:{Feature:Ek},drag:{Feature:Ck,ProjectionNode:Sf,MeasureLayout:gf}};function $u(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,c=r[i];c&&Xe.postRender(()=>c(t,ci(t)))}class hT extends An{mount(){const{current:t}=this.node;t&&(this.unmount=L_(t,(n,r)=>($u(this.node,r,"Start"),i=>$u(this.node,i,"End"))))}unmount(){}}class mT extends An{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=oi(ni(this.node.current,"focus",()=>this.onFocus()),ni(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Lu(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),c=r[i];c&&Xe.postRender(()=>c(t,ci(t)))}class vT extends An{mount(){const{current:t}=this.node;t&&(this.unmount=K_(t,(n,r)=>(Lu(this.node,r,"Start"),(i,{success:c})=>Lu(this.node,i,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cs=new WeakMap,Ta=new WeakMap,gT=e=>{const t=cs.get(e.target);t&&t(e)},yT=e=>{e.forEach(gT)};function xT({root:e,...t}){const n=e||document;Ta.has(n)||Ta.set(n,{});const r=Ta.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(yT,{root:e,...t})),r[i]}function bT(e,t,n){const r=xT(t);return cs.set(e,n),r.observe(e),()=>{cs.delete(e),r.unobserve(e)}}const _T={some:0,all:1};class wT extends An{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:c}=t,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:_T[i]},u=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,c&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:x,onViewportLeave:a}=this.node.getProps(),p=m?x:a;p&&p(f)};return bT(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(kT(t,n))&&this.startObserver()}unmount(){}}function kT({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const TT={inView:{Feature:wT},tap:{Feature:vT},focus:{Feature:mT},hover:{Feature:hT}},ST={layout:{ProjectionNode:Sf,MeasureLayout:gf}},AT={...uk,...TT,...fT,...ST},jT=Aw(AT,$w),PT=({color:e,label:t,isActive:n,onClick:r})=>y.jsx("button",{type:"button",onClick:r,"aria-label":`Switch to ${t}`,className:`h-9 w-9 rounded-full border-2 transition duration-200 ease-out focus:outline-none ${n?"scale-110":"hover:scale-105"}`,style:{backgroundColor:e,borderColor:n?"rgb(var(--accent-400))":"rgba(0,0,0,0.05)",boxShadow:n?"0 0 0 4px rgba(255,255,255,0.8), 0 10px 18px rgba(0,0,0,0.12)":"0 6px 14px rgba(0,0,0,0.08)"}}),DT=[{id:"white",label:"White",swatch:"#ffffff"},{id:"green",label:"Mint green",swatch:"#bbf7d0"},{id:"blue",label:"Sky blue",swatch:"#bae6fd"},{id:"yellow",label:"Butter yellow",swatch:"#fef08a"},{id:"purple",label:"Lavender",swatch:"#ddd6fe"},{id:"pink",label:"Blush pink",swatch:"#fecdd3"},{id:"dark",label:"Dark",swatch:"#202024"}],CT=({theme:e,onChange:t})=>y.jsx("div",{className:"fixed bottom-4 left-1/2 z-30 -translate-x-1/2",children:y.jsx(jT.div,{drag:!0,dragMomentum:!1,dragElastic:.12,whileTap:{scale:.97},onPointerDown:n=>{const r=n.target;r&&r.closest("button")&&n.stopPropagation()},className:"theme-bar flex items-center gap-2 rounded-full border px-3 py-2 cursor-grab active:cursor-grabbing select-none",children:DT.map(n=>y.jsx(PT,{color:n.swatch,label:n.label,isActive:n.id===e,onClick:()=>t(n.id)},n.id))})}),Gi=(e,t)=>({id:Ot(),type:"wait",amount:e,unit:t}),Bu=(e,t)=>({id:Ot(),type:"waitUntil",time:e,ampm:t}),ET=(e="Beep",t="default",n)=>({id:Ot(),type:"playSoundUntil",label:e,soundType:t,customUrl:n}),Ir=(e,t="",n=1e4,r=.2)=>{const i=ET("Beep","default"),c=Gi(.2,"seconds");return{id:Ot(),type:"notifyUntil",title:e,body:t,label:"Beep",timeoutMs:n,soundType:"default",interval:r,children:[i,c]}},Sa=(e,t)=>({id:Ot(),type:"loop",repeat:e,children:t}),Ui=(e,t,n,r)=>({...e,name:t,mode:n,blocks:r}),NT=e=>ls(e,"MM/dd/yy hh:mm:ss a"),OT=()=>{const{timers:e,createTimer:t,updateTimer:n,deleteTimer:r,ready:i}=Vy(),[c,l]=z.useState("grid"),[u,f]=z.useState(null),[m,x]=z.useState(null),[a,p]=z.useState(null),[g,_]=z.useState(null),[T,j]=z.useState(!1),[k,F]=z.useState("timer"),[$,Y]=z.useState(5),[X,Q]=z.useState(0),[q,V]=z.useState(25),[ne,ce]=z.useState(5),[xe,Oe]=z.useState("07:00"),[Pe,we]=z.useState("AM"),[$e,pt]=z.useState(""),[Ee,me]=z.useState(null),[De,U]=z.useState({}),[pe,ge]=z.useState(()=>typeof window<"u"&&localStorage.getItem("alarm-theme")||"dark"),{isRunning:ke,getActiveBlockId:Ze,getRemainingMs:yt,getElapsedMs:Ae,start:Le,pause:Rt,stop:le,resetStopwatch:Yt}=rx();z.useEffect(()=>(T||g?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[T,g]);const Ue=e.find(G=>G.id===u),H=e.find(G=>G.id===m)??((Ee==null?void 0:Ee.id)===m?Ee:Ee??void 0),he=()=>{Ue&&(U(G=>({...G,[Ue.id]:!0})),Le(Ue))},ye=()=>{Ue&&Rt(Ue)},Be=()=>{Ue&&(Ue.mode==="simpleStopwatch"?(Yt(Ue.id),le(Ue.id),U(G=>({...G,[Ue.id]:!1}))):(le(Ue.id),U(G=>({...G,[Ue.id]:!1}))))},at=()=>{if(!Ue||Ue.mode!=="simpleStopwatch")return;const G=Ae(Ue.id)??0,W=Date.now(),be={id:Ot(),name:NT(W),elapsedMs:G,loggedAt:W},Re={...Ue,logs:[...Ue.logs??[],be]};n(Re)},ht=G=>{const W=G.split(/\r?\n/).map(kt=>kt.trim()).filter(Boolean);if(!W.length)return[];const be=W[0].split(",").map(kt=>kt.trim().toLowerCase()),Re=be.indexOf("name"),qe=be.indexOf("time"),J=be.indexOf("ampm"),bt=be.indexOf("repeat"),Nt=[];for(let kt=1;kt<W.length;kt++){const Vt=W[kt].split(",").map(Tr=>Tr.trim());if(qe===-1||Vt.length<=qe)continue;const kr=Vt[qe]||"",Po=ir(kr,"07:00"),Do=J!==-1&&Vt[J]&&Vt[J].toUpperCase()==="PM"?"PM":"AM",dn=bt!==-1&&Vt[bt].toLowerCase()==="daily"?"daily":"once",pn=Re!==-1&&Vt[Re]?Vt[Re]:`Imported Alarm ${Nt.length+1}`;Nt.push({name:pn,time:Po,ampm:Do,repeat:dn})}return Nt},Pt=()=>{const G=ht($e);if(!G.length){alert("No alarms found in CSV. Expected headers: name,time,ampm,repeat.");return}G.forEach(({name:W,time:be,ampm:Re,repeat:qe})=>{const J=t();if(!J)return;const bt=Bu(be,Re),Nt=Ir(qe==="daily"?"Daily alarm":"Alarm","Alarm is about to play.",6e4),kt=qe==="daily"?[Sa(-1,[bt,Nt])]:[bt,Nt],Vt=Ui(J,W,"alarm",kt);n(Vt)}),pt(""),p(null),x(null),me(null),F("timer"),j(!1),l("grid")},Lt=G=>{G.locked||(ke(G.id)&&le(G.id),p(null),x(G.id),l("editor"))},xt=G=>{var W;try{const be=rr.parse(G),Re={...be};delete Re.startedAt,delete Re.remaining,Re.paused=!1,n(Re);try{le(be.id)}catch{}U(qe=>{const J={...qe};return J[be.id]=!1,J}),p(qe=>qe===G.id?null:qe),x(null),me(null),l("grid")}catch(be){const Re=((W=be==null?void 0:be.errors)==null?void 0:W.map(qe=>qe.message).join("; "))||"Please check your timer inputs.";alert(`Validation failed: ${Re}`)}},on=G=>{ke(G.id)&&le(G.id),u===G.id&&f(null),r(G.id),_(null),U(W=>{const be={...W};return delete be[G.id],be})},ft=()=>{m&&a===m&&(r(m),u===m&&f(null)),p(null),x(null),me(null),l("grid")},se=()=>{const G=Math.max(0,Math.min(59,Math.floor(Number($)||0))),W=Math.max(0,Math.min(59,Math.floor(Number(X)||0)));let be=G*60+W;be===0&&(be=60,Y(1),Q(0));const Re=t();if(!Re)return;const qe=W===0?"minutes":"seconds",J=W===0?Math.max(1,G):G===0?W:be,bt=[Gi(J,qe),Ir("Timer complete","")],Nt=Ui(Re,"Quick Timer","stopwatch",bt);n(Nt),p(null),x(null),me(null),f(Nt.id),j(!1),F("timer"),l("grid")},fe=()=>{const G=t();if(!G)return;const W={...G,name:"Stopwatch",mode:"simpleStopwatch",blocks:[],locked:!1,logs:[]};n(W),p(null),x(null),me(null),f(W.id),j(!1),F("timer"),l("grid")},ue=()=>{const G=t();if(!G)return;const W=Math.max(1,Math.min(180,Math.floor(Number(q)||25))),be=Math.max(1,Math.min(120,Math.floor(Number(ne)||5))),Re=Gi(W,"minutes"),qe=Gi(be,"minutes"),J=Sa(4,[Re,Ir("Work complete","A chime will play now.",5e3),qe,Ir("Break complete","A chime will play now.",5e3)]),bt=Ui(G,"Pomodoro","stopwatch",[J]);n(bt),p(null),x(null),me(null),f(bt.id),j(!1),F("timer"),l("grid")},Te=G=>{const W=ir(xe,"07:00"),[be,Re]=W.split(":"),qe=t();if(!qe)return;const J=Bu(`${be}:${Re}`,Pe),bt=Ir(G?"Daily alarm":"Alarm","Alarm is about to play.",6e4),Nt=G?[Sa(-1,[J,bt])]:[J,bt],kt=Ui(qe,G?"Daily Alarm":"Quick Alarm","alarm",Nt);n(kt),p(null),x(null),me(null),f(kt.id),j(!1),F("timer"),l("grid")},ze=()=>{const G=t();G&&(me(G),p(G.id),x(G.id),j(!1),F("timer"),l("editor"))},Ne=()=>{k==="timer"?se():k==="alarm"?Te(!1):k==="daily"?Te(!0):k==="pomodoro"?ue():k==="stopwatch"?fe():k==="import"?Pt():k==="custom"&&ze()};z.useEffect(()=>{c==="editor"&&(j(!1),F("timer"))},[c]),z.useEffect(()=>{document.documentElement.setAttribute("data-theme",pe),typeof window<"u"&&(localStorage.setItem("alarm-theme",pe),document.title="Universal Timer")},[pe]);const Ge=ir(xe,"07:00"),[Je,mt]=Ge.split(":"),Et=Array.from({length:12},(G,W)=>(W+1).toString()),Bt=Array.from({length:60},(G,W)=>W.toString().padStart(2,"0"));return y.jsxs(y.Fragment,{children:[!i&&y.jsx("div",{className:"app-shell animate-fade-in-up",children:y.jsx("div",{className:"w-full max-w-4xl pastel-card pastel-hover p-6 text-center",children:y.jsx("p",{className:"text-sm text-accent-400",children:"Loading timersâ¦"})})}),i&&c==="grid"&&y.jsxs("div",{className:"app-shell animate-fade-in-up",children:[y.jsxs("div",{className:"w-full max-w-4xl mb-4 text-center",children:[y.jsx("h1",{className:"text-2xl sm:text-3xl font-semibold text-accent-600 mb-1",children:"Universal Timer"}),y.jsx("p",{className:"text-xs sm:text-sm text-accent-400",children:"Build flexible, sequence-based timers. Infinitely customizable!"})]}),y.jsx(hx,{timer:Ue??e[0]??{id:"",name:"",blocks:[]},isVisible:!!Ue,activeBlockId:Ze(u),isRunning:ke(u),remainingMs:u?yt(u):null,elapsedMs:u?Ae(u):null,hasStarted:u?!!De[u]:!1,onClose:()=>f(null),onPlay:he,onPause:ye,onRestart:Be,onLog:at}),y.jsx(ox,{timers:e,activeTimerId:u??void 0,onSelectTimer:G=>f(G.id),onEditTimer:Lt,onDeleteTimer:(G,W)=>{if(W==null?void 0:W.skipConfirm){on(G);return}_(G)},onCreateTimer:()=>{F("timer"),j(!0)},isTimerRunning:ke})]}),i&&c==="editor"&&H&&(H.mode==="simpleStopwatch"?y.jsx(Hb,{timer:H,onBack:ft,onSave:xt}):y.jsx(Zb,{timer:H,onBack:ft,onSave:xt})),y.jsx(CT,{theme:pe,onChange:ge}),y.jsx("footer",{className:"fixed bottom-3 right-4 z-20",children:y.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-accent-50-90 border border-accent-100 px-3 py-1 text-[11px] sm:text-xs text-accent-400 shadow-accent-faint backdrop-blur",children:[y.jsx("a",{href:"https://github.com/theuniversaltimer/theuniversaltimer.github.io",className:"font-medium text-accent-500 hover:text-accent-600",target:"_blank",rel:"noreferrer",children:"GitHub repo"}),y.jsx("span",{className:"text-accent-300",children:"â¢"}),y.jsx("a",{href:"https://github.com/theuniversaltimer/theuniversaltimer.github.io/blob/main/LICENSE",className:"hover:text-accent-500",target:"_blank",rel:"noreferrer",children:"MIT License"})]})}),c==="grid"&&T&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fixed inset-0 z-40 bg-slate-900/20 backdrop-blur-sm pointer-events-none"}),y.jsx("div",{className:"fixed inset-0 z-40 overflow-y-scroll",children:y.jsx("div",{className:"min-h-screen flex items-start justify-center px-4 py-6 sm:py-12",children:y.jsxs("div",{className:"pastel-card w-full max-w-4xl shadow-accent-soft p-6",children:[y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-xs uppercase tracking-wide text-accent-300",children:"Choose a template"}),y.jsx("p",{className:"text-base font-semibold text-accent-600",children:"Start quickly with a preset or build your own."})]}),y.jsx("button",{type:"button",onClick:()=>{j(!1),F("timer")},className:"soft-button bg-accent-50 hover:bg-accent-100 text-xs px-2 py-1",children:"â"})]}),y.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3 md:gap-4 items-start",children:[y.jsxs("button",{type:"button",className:`pastel-card pastel-hover text-left p-4 h-full items-start min-w-[140px] ${k==="alarm"?"soft-glow":""}`,onClick:()=>F("alarm"),children:[y.jsx("p",{className:"text-sm font-semibold text-accent-600 mb-1 whitespace-nowrap",children:"Quick Alarm"}),y.jsx("p",{className:"text-xs text-accent-400 min-h-[32px] leading-tight",children:"Rings at a set time."})]}),y.jsxs("button",{type:"button",className:`pastel-card pastel-hover text-left p-4 h-full items-start min-w-[140px] ${k==="timer"?"soft-glow":""}`,onClick:()=>F("timer"),children:[y.jsx("p",{className:"text-sm font-semibold text-accent-600 mb-1 whitespace-nowrap",children:"Quick Timer"}),y.jsx("p",{className:"text-xs text-accent-400 min-h-[32px] leading-tight",children:"Runs for a set time."})]}),y.jsxs("button",{type:"button",className:`pastel-card pastel-hover text-left p-4 h-full items-start min-w-[140px] ${k==="stopwatch"?"soft-glow":""}`,onClick:()=>F("stopwatch"),children:[y.jsx("p",{className:"text-sm font-semibold text-accent-600 mb-1 whitespace-nowrap",children:"Stopwatch"}),y.jsx("p",{className:"text-xs text-accent-400 min-h-[32px] leading-tight",children:"Counts up from zero."})]}),y.jsxs("button",{type:"button",className:`pastel-card pastel-hover text-left p-4 h-full items-start min-w-[140px] ${k==="daily"?"soft-glow":""}`,onClick:()=>F("daily"),children:[y.jsx("p",{className:"text-sm font-semibold text-accent-600 mb-1 whitespace-nowrap",children:"Daily Alarm"}),y.jsx("p",{className:"text-xs text-accent-400 min-h-[32px] leading-tight",children:"Rings daily at a set time."})]}),y.jsxs("button",{type:"button",className:`pastel-card pastel-hover text-left p-4 h-full items-start min-w-[140px] ${k==="pomodoro"?"soft-glow":""}`,onClick:()=>F("pomodoro"),children:[y.jsx("p",{className:"text-sm font-semibold text-accent-600 mb-1 whitespace-nowrap",children:"Pomodoro Timer"}),y.jsx("p",{className:"text-xs text-accent-400 min-h-[32px] leading-tight",children:"Work/break cycles for focused sessions."})]}),y.jsxs("button",{type:"button",className:`pastel-card pastel-hover text-left p-4 h-full items-start min-w-[140px] ${k==="import"?"soft-glow":""}`,onClick:()=>F("import"),children:[y.jsx("p",{className:"text-sm font-semibold text-accent-600 mb-1 whitespace-nowrap",children:"Import Alarms"}),y.jsx("p",{className:"text-xs text-accent-400 min-h-[32px] leading-tight",children:"Upload a CSV with multiple alarms."})]}),y.jsxs("button",{type:"button",className:`pastel-card pastel-hover text-left p-4 h-full items-start min-w-[140px] ${k==="custom"?"soft-glow":""}`,onClick:()=>F("custom"),children:[y.jsx("p",{className:"text-sm font-semibold text-accent-600 mb-1 whitespace-nowrap",children:"Custom Timer"}),y.jsx("p",{className:"text-xs text-accent-400 min-h-[32px] leading-tight",children:"Open the editor to build your own timer or import CSV."})]})]}),y.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row flex-wrap gap-3 items-stretch",children:[k==="timer"&&y.jsxs("div",{className:"pastel-card p-3 flex-1 min-w-[260px]",children:[y.jsx("p",{className:"text-xs uppercase tracking-wide text-accent-300 mb-1",children:"Duration"}),y.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[y.jsxs("div",{className:"flex flex-col gap-1 flex-1 min-w-[160px]",children:[y.jsx("span",{className:"text-[11px] uppercase tracking-wide text-accent-300",children:"Minutes"}),y.jsx("input",{type:"number",min:0,max:59,className:"soft-input w-full",value:$,onChange:G=>Y(Math.max(0,Math.min(59,Math.floor(Number(G.target.value)||0))))})]}),y.jsxs("div",{className:"flex flex-col gap-1 flex-1 min-w-[160px]",children:[y.jsx("span",{className:"text-[11px] uppercase tracking-wide text-accent-300",children:"Seconds"}),y.jsx("input",{type:"number",min:0,max:59,className:"soft-input w-full",value:X,onChange:G=>Q(Math.max(0,Math.min(59,Math.floor(Number(G.target.value)||0))))})]})]})]}),(k==="alarm"||k==="daily")&&y.jsxs("div",{className:"pastel-card p-3 flex-1 min-w-[260px]",children:[y.jsx("p",{className:"text-xs uppercase tracking-wide text-accent-300 mb-1",children:"Alarm time"}),y.jsxs("div",{className:"flex items-end gap-3 flex-wrap",children:[y.jsx("div",{className:"flex-1 min-w-[120px]",children:y.jsx("select",{className:"soft-input w-full",value:Je,onChange:G=>Oe(W=>{const[,be]=ir(W,"07:00").split(":");return`${G.target.value}:${be}`}),children:Et.map(G=>y.jsx("option",{value:G,children:G},G))})}),y.jsx("span",{className:"text-accent-400 pb-2",children:":"}),y.jsx("div",{className:"flex-1 min-w-[120px]",children:y.jsx("select",{className:"soft-input w-full",value:mt,onChange:G=>Oe(W=>{const[be]=ir(W,"07:00").split(":");return`${be}:${G.target.value}`}),children:Bt.map(G=>y.jsx("option",{value:G,children:G},G))})}),y.jsx("div",{className:"flex-1 min-w-[120px]",children:y.jsxs("select",{className:"soft-input w-full",value:Pe,onChange:G=>we(G.target.value),children:[y.jsx("option",{value:"AM",children:"AM"}),y.jsx("option",{value:"PM",children:"PM"})]})})]})]}),k==="import"&&y.jsxs("div",{className:"pastel-card p-3 flex-1 min-w-[260px]",children:[y.jsx("p",{className:"text-xs uppercase tracking-wide text-accent-300 mb-1",children:"Upload CSV"}),y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsxs("label",{className:"soft-input text-center cursor-pointer",onDragOver:G=>G.preventDefault(),onDrop:G=>{var be;G.preventDefault();const W=(be=G.dataTransfer.files)==null?void 0:be[0];W&&W.text().then(Re=>pt(Re))},children:[y.jsx("input",{type:"file",accept:".csv,text/csv",className:"hidden",onChange:G=>{var be;const W=(be=G.target.files)==null?void 0:be[0];W&&W.text().then(Re=>pt(Re))}}),"Drag or click to upload CSV"]}),y.jsx("textarea",{className:"soft-input min-h-[120px]",value:$e,onChange:G=>pt(G.target.value),placeholder:`name,time,ampm,repeat
Morning Alarm,07:00,AM,daily`}),y.jsx("p",{className:"text-[11px] text-accent-400",children:'Headers: name,time,ampm,repeat. Repeat supports "daily" or "once".'})]})]}),k==="pomodoro"&&y.jsxs("div",{className:"pastel-card p-3 flex-1 min-w-[260px]",children:[y.jsx("p",{className:"text-xs uppercase tracking-wide text-accent-300 mb-1",children:"Pomodoro settings"}),y.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[y.jsxs("div",{className:"flex flex-col gap-1 flex-1 min-w-[160px]",children:[y.jsx("span",{className:"text-[11px] uppercase tracking-wide text-accent-300",children:"Work (minutes)"}),y.jsx("input",{type:"number",min:1,max:180,className:"soft-input w-full",value:q,onChange:G=>V(Math.max(1,Math.min(180,Math.floor(Number(G.target.value)||0))))})]}),y.jsxs("div",{className:"flex flex-col gap-1 flex-1 min-w-[160px]",children:[y.jsx("span",{className:"text-[11px] uppercase tracking-wide text-accent-300",children:"Break (minutes)"}),y.jsx("input",{type:"number",min:1,max:120,className:"soft-input w-full",value:ne,onChange:G=>ce(Math.max(1,Math.min(120,Math.floor(Number(G.target.value)||0))))})]})]})]}),y.jsxs("div",{className:"w-full flex justify-end items-end gap-2",children:[y.jsx("button",{type:"button",className:"soft-button bg-accent-50 hover:bg-accent-100 text-accent-500",onClick:()=>{F("timer"),j(!1)},children:"Cancel"}),y.jsxs("button",{type:"button",className:"soft-button-primary",disabled:!k,onClick:Ne,children:[k==="timer"&&"Create Quick Timer",k==="stopwatch"&&"Create Stopwatch",k==="import"&&"Import Alarms",k==="alarm"&&"Create Quick Alarm",k==="daily"&&"Create Daily Alarm",k==="pomodoro"&&"Create Pomodoro Timer",k==="custom"&&"Create Custom Timer"]})]})]})]})})})]}),g&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fixed inset-0 z-40 bg-slate-900/20 backdrop-blur-sm pointer-events-none"}),y.jsx("div",{className:"fixed inset-0 z-40 overflow-y-scroll",children:y.jsx("div",{className:"min-h-screen flex items-start justify-center px-4 py-6 sm:py-12",children:y.jsxs("div",{className:"pastel-card w-full max-w-sm shadow-accent-soft p-5",children:[y.jsxs("div",{className:"flex items-start justify-between gap-3 mb-4",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-xs uppercase tracking-wide text-accent-300",children:"Confirm delete"}),y.jsxs("p",{className:"text-base font-semibold text-accent-600",children:["Delete â",g.name||"Untitled Timer","â?"]})]}),y.jsx("button",{type:"button",onClick:()=>_(null),className:"soft-button bg-accent-50 hover:bg-accent-100 text-xs px-2 py-1",children:"â"})]}),y.jsx("p",{className:"text-sm text-accent-400 mb-5",children:"This will remove the timer and all its blocks. This can't be undone."}),y.jsxs("div",{className:"flex items-start justify-between gap-3",children:[y.jsx("p",{className:"text-xs text-accent-300 -mt-1",children:"Tip: hold Shift while deleting to skip this warning."}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{type:"button",onClick:()=>_(null),className:"soft-button bg-accent-50 hover:bg-accent-100 text-accent-500",children:"Cancel"}),y.jsx("button",{type:"button",onClick:()=>on(g),className:"soft-button-primary",children:"Delete"})]})]})]})})})]})]})};Aa.createRoot(document.getElementById("root")).render(y.jsx(ut.StrictMode,{children:y.jsx(OT,{})}));
